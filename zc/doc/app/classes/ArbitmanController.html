<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ArbitmanController</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ArbitmanController</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/controllers/arbitman_controller_rb.html">
                app/controllers/arbitman_controller.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="ApplicationController.html">
                ApplicationController
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
仲裁员管理的仲裁员信息维护部分，包含基本信息、教育信息、专业特长、培训信息、特殊要求、外语语种及财务信息等
创建人 苏获 创建时间 20090508
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000894">create_arbitman</a>&nbsp;&nbsp;
      <a href="#M000926">create_educate</a>&nbsp;&nbsp;
      <a href="#M000921">create_language</a>&nbsp;&nbsp;
      <a href="#M000914">create_resume</a>&nbsp;&nbsp;
      <a href="#M000932">create_speciality</a>&nbsp;&nbsp;
      <a href="#M000908">create_train</a>&nbsp;&nbsp;
      <a href="#M000896">delete_arbitman</a>&nbsp;&nbsp;
      <a href="#M000930">delete_educate</a>&nbsp;&nbsp;
      <a href="#M000924">delete_language</a>&nbsp;&nbsp;
      <a href="#M000891">delete_photo</a>&nbsp;&nbsp;
      <a href="#M000918">delete_resume</a>&nbsp;&nbsp;
      <a href="#M000933">delete_speciality</a>&nbsp;&nbsp;
      <a href="#M000912">delete_train</a>&nbsp;&nbsp;
      <a href="#M000890">edit_arbitman</a>&nbsp;&nbsp;
      <a href="#M000899">edit_background</a>&nbsp;&nbsp;
      <a href="#M000905">edit_caseperyear</a>&nbsp;&nbsp;
      <a href="#M000928">edit_educate</a>&nbsp;&nbsp;
      <a href="#M000901">edit_finance</a>&nbsp;&nbsp;
      <a href="#M000922">edit_language</a>&nbsp;&nbsp;
      <a href="#M000892">edit_photo</a>&nbsp;&nbsp;
      <a href="#M000915">edit_resume</a>&nbsp;&nbsp;
      <a href="#M000903">edit_setting</a>&nbsp;&nbsp;
      <a href="#M000910">edit_train</a>&nbsp;&nbsp;
      <a href="#M000888">list_arbitman</a>&nbsp;&nbsp;
      <a href="#M000927">list_educate</a>&nbsp;&nbsp;
      <a href="#M000920">list_language</a>&nbsp;&nbsp;
      <a href="#M000916">list_resume</a>&nbsp;&nbsp;
      <a href="#M000931">list_speciality</a>&nbsp;&nbsp;
      <a href="#M000909">list_train</a>&nbsp;&nbsp;
      <a href="#M000897">name_edit</a>&nbsp;&nbsp;
      <a href="#M000898">name_update</a>&nbsp;&nbsp;
      <a href="#M000889">new_arbitman</a>&nbsp;&nbsp;
      <a href="#M000925">new_educate</a>&nbsp;&nbsp;
      <a href="#M000919">new_language</a>&nbsp;&nbsp;
      <a href="#M000913">new_resume</a>&nbsp;&nbsp;
      <a href="#M000907">new_train</a>&nbsp;&nbsp;
      <a href="#M000900">save_background</a>&nbsp;&nbsp;
      <a href="#M000906">save_caseperyear</a>&nbsp;&nbsp;
      <a href="#M000902">save_finance</a>&nbsp;&nbsp;
      <a href="#M000904">save_setting</a>&nbsp;&nbsp;
      <a href="#M000934">special_select</a>&nbsp;&nbsp;
      <a href="#M000895">update_arbitman</a>&nbsp;&nbsp;
      <a href="#M000929">update_educate</a>&nbsp;&nbsp;
      <a href="#M000923">update_language</a>&nbsp;&nbsp;
      <a href="#M000917">update_resume</a>&nbsp;&nbsp;
      <a href="#M000911">update_train</a>&nbsp;&nbsp;
      <a href="#M000893">upload_file</a>&nbsp;&nbsp;
      <a href="#M000935">validate</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000894" class="method-detail">
        <a name="M000894"></a>

        <div class="method-heading">
          <a href="#M000894" class="method-signature">
          <span class="method-name">create_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
添加仲裁员的信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000894-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000894-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_arbitman</span>    
124:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>]) 
125:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span><span class="ruby-operator">==</span><span class="ruby-value str">''</span>
126:       <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">add_0008</span>()
127:     <span class="ruby-keyword kw">end</span>
128:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday!</span>=<span class="ruby-keyword kw">nil</span>
129:       <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">age</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span><span class="ruby-operator">-</span><span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday</span>.<span class="ruby-identifier">year</span>
130:     <span class="ruby-keyword kw">else</span>
131:       <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday</span>=<span class="ruby-keyword kw">nil</span>
132:     <span class="ruby-keyword kw">end</span>
133:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
134:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
135:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">role_code</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:role_code</span>]
136:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">category</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:category</span>]
137:     <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">save</span>
138:       <span class="ruby-ivar">@nc</span>=<span class="ruby-constant">TbAribitmanNameChange</span>.<span class="ruby-identifier">new</span>
139:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">name</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">name</span>
140:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">name_idcard</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">name_idcard</span>
141:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">code</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
142:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">u</span>=<span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
143:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">u_t</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
144:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">save</span>
145:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;添加成功！&quot;</span>
146:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list_arbitman&quot;</span> ,<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]      
147:     <span class="ruby-keyword kw">else</span>     
148:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;必填项不能为空！&quot;</span>        
149:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;new_arbitman&quot;</span> ,<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
150:     <span class="ruby-keyword kw">end</span>
151:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000926" class="method-detail">
        <a name="M000926"></a>

        <div class="method-heading">
          <a href="#M000926" class="method-signature">
          <span class="method-name">create_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
创建教育对象
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000926-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000926-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 463</span>
463:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_educate</span>
464:     <span class="ruby-ivar">@tb_educate</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_educate</span>])
465:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
466:     <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">arbitman</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
467:     <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
468:     <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
469:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">save</span>
470:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;创建成功&quot;</span>
471:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_educate&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
472:     <span class="ruby-keyword kw">else</span>
473:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;必填项不可为空&quot;</span>
474:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;new_educate&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>        
475:     <span class="ruby-keyword kw">end</span>
476:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000921" class="method-detail">
        <a name="M000921"></a>

        <div class="method-heading">
          <a href="#M000921" class="method-signature">
          <span class="method-name">create_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
创建仲裁员外语语种实例，存入数据库
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000921-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000921-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 405</span>
405:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_language</span>
406:     <span class="ruby-keyword kw">begin</span>
407:       <span class="ruby-ivar">@tb_language</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_language</span>])
408:       <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
409:       <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">arbitman</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
410:       <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
411:       <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
412:       <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">save!</span>
413:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_language&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
414:                 
415:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordNotSaved</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
416:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;必填项不可为空&quot;</span>
417:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;new_language&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>       
418:     <span class="ruby-keyword kw">end</span>
419:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000914" class="method-detail">
        <a name="M000914"></a>

        <div class="method-heading">
          <a href="#M000914" class="method-signature">
          <span class="method-name">create_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
创建仲裁员简历的对象
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000914-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000914-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 334</span>
334:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_resume</span>
335:     <span class="ruby-ivar">@tb_resume</span> = <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_resume</span>])
336:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
337:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">arbit_id</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
338:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
339:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
340:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">save</span>
341:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;创建成功&quot;</span>
342:       <span class="ruby-identifier">redirect_to</span>  <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_resume&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
343:     <span class="ruby-keyword kw">else</span>
344:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;必填项不可为空&quot;</span>
345:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;new_resume&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>      
346:     <span class="ruby-keyword kw">end</span>
347:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000932" class="method-detail">
        <a name="M000932"></a>

        <div class="method-heading">
          <a href="#M000932" class="method-signature">
          <span class="method-name">create_speciality</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
创建仲裁员精通专业信息记录
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000932-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000932-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 527</span>
527:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_speciality</span>
528:     <span class="ruby-ivar">@speciality</span> = <span class="ruby-constant">Special</span>.<span class="ruby-identifier">new</span>
529:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">speciality_num</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:speciality_num</span>]
530:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">arbitman_num</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]
531:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
532:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
533:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">save</span>
534:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;创建成功&quot;</span>
535:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_speciality&quot;</span>, <span class="ruby-identifier">:arbitman_num</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]
536:     <span class="ruby-keyword kw">else</span>
537:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;创建失败&quot;</span>
538:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;special_select&quot;</span>, <span class="ruby-identifier">:arbitman_num</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]           
539:     <span class="ruby-keyword kw">end</span>
540:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000908" class="method-detail">
        <a name="M000908"></a>

        <div class="method-heading">
          <a href="#M000908" class="method-signature">
          <span class="method-name">create_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
创建仲裁员培训的对象
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000908-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000908-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 270</span>
270:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_train</span>
271:     <span class="ruby-ivar">@tb_train</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_train</span>])
272:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
273:     <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">arbitmannum</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
274:     <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
275:     <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
276:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">save</span>
277:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;创建成功&quot;</span>
278:       <span class="ruby-identifier">redirect_to</span>  <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_train&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
279:     <span class="ruby-keyword kw">else</span>
280:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;必填项不可为空&quot;</span>
281:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;new_train&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>        
282:     <span class="ruby-keyword kw">end</span>
283:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000896" class="method-detail">
        <a name="M000896"></a>

        <div class="method-heading">
          <a href="#M000896" class="method-signature">
          <span class="method-name">delete_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除仲裁员记录
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000896-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000896-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_arbitman</span>            
175:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]) 
176:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
177:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
178:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>           
179:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">save</span>
180:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>  
181:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_arbitman&quot;</span>,<span class="ruby-identifier">:search_condit=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>],<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
182:     <span class="ruby-keyword kw">else</span>
183:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>  
184:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_arbitman&quot;</span>,<span class="ruby-identifier">:search_condit=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>],<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
185:     <span class="ruby-keyword kw">end</span>
186:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000930" class="method-detail">
        <a name="M000930"></a>

        <div class="method-heading">
          <a href="#M000930" class="method-signature">
          <span class="method-name">delete_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除教育信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000930-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000930-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 504</span>
504:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_educate</span>
505:     <span class="ruby-ivar">@educate</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])      
506:     <span class="ruby-ivar">@educate</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
507:     <span class="ruby-ivar">@educate</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
508:     <span class="ruby-ivar">@educate</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
509:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@educate</span>.<span class="ruby-identifier">arbitman</span>)
510:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@educate</span>.<span class="ruby-identifier">save</span>         
511:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>
512:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_educate&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span><span class="ruby-comment cmt">#确定怎么得到id进行删除</span>
513:     <span class="ruby-keyword kw">else</span> 
514:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>        
515:     <span class="ruby-keyword kw">end</span>
516:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000924" class="method-detail">
        <a name="M000924"></a>

        <div class="method-heading">
          <a href="#M000924" class="method-signature">
          <span class="method-name">delete_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除语种
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000924-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000924-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 442</span>
442:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_language</span>
443:     <span class="ruby-ivar">@language</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])      
444:     <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
445:     <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
446:     <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
447:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">arbitman</span>)
448:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">save</span>        
449:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>
450:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_language&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span><span class="ruby-comment cmt">#确定怎么得到id进行删除</span>
451:     <span class="ruby-keyword kw">else</span> 
452:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>        
453:     <span class="ruby-keyword kw">end</span>
454:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000891" class="method-detail">
        <a name="M000891"></a>

        <div class="method-heading">
          <a href="#M000891" class="method-signature">
          <span class="method-name">delete_photo</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除照片
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000891-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000891-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_photo</span>
55:     <span class="ruby-ivar">@tb_photo</span> = <span class="ruby-constant">TbPhoto</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:photo_id</span>])
56:     <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">used</span>=<span class="ruby-value str">'N'</span>
57:     <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">u</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
58:     <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">u_t</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> 
59:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">arbitman_id</span>)
60:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">pic</span>=<span class="ruby-value str">'N'</span>
61:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">save</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">save</span>
62:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;删除成功！&quot;</span>
63:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;edit_photo&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
64:     <span class="ruby-keyword kw">else</span>
65:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;删除失败！&quot;</span>
66:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;edit_photo&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
67:     <span class="ruby-keyword kw">end</span>
68:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000918" class="method-detail">
        <a name="M000918"></a>

        <div class="method-heading">
          <a href="#M000918" class="method-signature">
          <span class="method-name">delete_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除简历
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000918-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000918-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 377</span>
377:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_resume</span>
378:     <span class="ruby-ivar">@resume</span>= <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])      
379:     <span class="ruby-ivar">@resume</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
380:     <span class="ruby-ivar">@resume</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
381:     <span class="ruby-ivar">@resume</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>          
382:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@resume</span>.<span class="ruby-identifier">arbit_id</span>)
383:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@resume</span>.<span class="ruby-identifier">save!</span>         
384:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>
385:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_resume&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span><span class="ruby-comment cmt">#确定怎么得到id进行删除</span>
386:     <span class="ruby-keyword kw">else</span> 
387:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>        
388:     <span class="ruby-keyword kw">end</span>
389:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000933" class="method-detail">
        <a name="M000933"></a>

        <div class="method-heading">
          <a href="#M000933" class="method-signature">
          <span class="method-name">delete_speciality</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除仲裁员精通专业信息记录
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000933-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000933-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 542</span>
542:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_speciality</span>
543:     <span class="ruby-ivar">@speciality</span> = <span class="ruby-constant">Special</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
544:     <span class="ruby-comment cmt">#@tb_speciality = Special.delete(params[:id])</span>
545:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
546:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
547:     <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>        
548:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">arbitman_num</span>)
549:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@speciality</span>.<span class="ruby-identifier">save</span>         
550:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>
551:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_speciality&quot;</span>, <span class="ruby-identifier">:arbitman_num</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]<span class="ruby-comment cmt">#确定怎么得到id进行删除</span>
552:     <span class="ruby-keyword kw">else</span> 
553:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>        
554:     <span class="ruby-keyword kw">end</span>        
555:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000912" class="method-detail">
        <a name="M000912"></a>

        <div class="method-heading">
          <a href="#M000912" class="method-signature">
          <span class="method-name">delete_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
删除培训
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000912-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000912-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 311</span>
311:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_train</span>
312:     <span class="ruby-ivar">@train</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
313:     <span class="ruby-comment cmt">#@tb_train = TbTrain.delete(params[:id])</span>
314:     <span class="ruby-ivar">@train</span>.<span class="ruby-identifier">used</span> = <span class="ruby-value str">'N'</span>
315:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@train</span>.<span class="ruby-identifier">arbitmannum</span>)
316:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@train</span>.<span class="ruby-identifier">save</span>        
317:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除成功&quot;</span>
318:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_train&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span><span class="ruby-comment cmt">#确定怎么得到id进行删除</span>
319:     <span class="ruby-keyword kw">else</span> 
320:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;删除失败&quot;</span>        
321:     <span class="ruby-keyword kw">end</span>
322:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000890" class="method-detail">
        <a name="M000890"></a>

        <div class="method-heading">
          <a href="#M000890" class="method-signature">
          <span class="method-name">edit_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改基本信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000890-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000890-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_arbitman</span>          
48:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
49:     <span class="ruby-ivar">@tb_photo</span> = <span class="ruby-constant">TbPhoto</span>.<span class="ruby-identifier">find_by_arbitman_id</span>(<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>)
50:     <span class="ruby-ivar">@now</span> = <span class="ruby-constant">TbArbitmannow</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;arbitman_num = ?&quot;</span>,<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>])
51:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000899" class="method-detail">
        <a name="M000899"></a>

        <div class="method-heading">
          <a href="#M000899" class="method-signature">
          <span class="method-name">edit_background</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改背景信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000899-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000899-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 211</span>
211:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_background</span>        
212:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
213:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000905" class="method-detail">
        <a name="M000905"></a>

        <div class="method-heading">
          <a href="#M000905" class="method-signature">
          <span class="method-name">edit_caseperyear</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改可办理案件信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000905-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000905-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 250</span>
250:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_caseperyear</span>        
251:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
252:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000928" class="method-detail">
        <a name="M000928"></a>

        <div class="method-heading">
          <a href="#M000928" class="method-signature">
          <span class="method-name">edit_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改教育信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000928-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000928-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 485</span>
485:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_educate</span>
486:     <span class="ruby-ivar">@tb_educate</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
487:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">arbitman</span>)
488:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000901" class="method-detail">
        <a name="M000901"></a>

        <div class="method-heading">
          <a href="#M000901" class="method-signature">
          <span class="method-name">edit_finance</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改财务信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000901-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000901-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 224</span>
224:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_finance</span>        
225:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
226:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000922" class="method-detail">
        <a name="M000922"></a>

        <div class="method-heading">
          <a href="#M000922" class="method-signature">
          <span class="method-name">edit_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改外语语种
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000922-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000922-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 422</span>
422:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_language</span>
423:     <span class="ruby-ivar">@tb_language</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
424:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">arbitman</span>)
425:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000892" class="method-detail">
        <a name="M000892"></a>

        <div class="method-heading">
          <a href="#M000892" class="method-signature">
          <span class="method-name">edit_photo</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示照片
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000892-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000892-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_photo</span>
71:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
72:     <span class="ruby-ivar">@tb_photo</span> = <span class="ruby-constant">TbPhoto</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and arbitman_id = ?&quot;</span>,<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>]) 
73:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000915" class="method-detail">
        <a name="M000915"></a>

        <div class="method-heading">
          <a href="#M000915" class="method-signature">
          <span class="method-name">edit_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改仲裁员简历
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000915-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000915-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 350</span>
350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_resume</span>
351:     <span class="ruby-ivar">@tb_resume</span> = <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
352:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">arbit_id</span>)
353:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000903" class="method-detail">
        <a name="M000903"></a>

        <div class="method-heading">
          <a href="#M000903" class="method-signature">
          <span class="method-name">edit_setting</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改设置信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000903-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000903-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 237</span>
237:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_setting</span>        
238:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
239:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000910" class="method-detail">
        <a name="M000910"></a>

        <div class="method-heading">
          <a href="#M000910" class="method-signature">
          <span class="method-name">edit_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改仲裁员培训
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000910-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000910-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 291</span>
291:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_train</span>
292:     <span class="ruby-ivar">@tb_train</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
293:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">arbitmannum</span>)
294:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000888" class="method-detail">
        <a name="M000888"></a>

        <div class="method-heading">
          <a href="#M000888" class="method-signature">
          <span class="method-name">list_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示基本信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000888-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000888-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_arbitman</span>           
11:     <span class="ruby-ivar">@hant_search_1_page_name</span>=<span class="ruby-value str">&quot;list_arbitman&quot;</span>
12:     <span class="ruby-ivar">@hant_search_1</span>=[[<span class="ruby-value str">'char'</span>,<span class="ruby-value str">'spell'</span>,<span class="ruby-value str">'姓名拼音缩写'</span>,<span class="ruby-value str">'text'</span>,[]],
13:       [<span class="ruby-value str">'char'</span>,<span class="ruby-value str">'name'</span>,<span class="ruby-value str">'姓名'</span>,<span class="ruby-value str">'text'</span>,[]]]
14:     <span class="ruby-ivar">@hant_search_1_list</span>=[<span class="ruby-value str">'name'</span>,<span class="ruby-value str">'spell'</span>]
15:     <span class="ruby-ivar">@order</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>]
16:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@order</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@order</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
17:       <span class="ruby-ivar">@order</span>=<span class="ruby-value str">&quot;code desc&quot;</span>
18:     <span class="ruby-keyword kw">end</span>
19:     <span class="ruby-ivar">@hant_search_1_r</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:hant_search_1_r</span>]
20:     <span class="ruby-ivar">@page_lines</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
21:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@page_lines</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@page_lines</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
22:       <span class="ruby-ivar">@page_lines</span>= <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:lines</span>]
23:     <span class="ruby-keyword kw">end</span>
24:     <span class="ruby-identifier">hant_search_1_word</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:hant_search_1_word</span>]
25:     <span class="ruby-ivar">@search_condit</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>]
26:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@search_condit</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
27:       <span class="ruby-ivar">@search_condit</span>=<span class="ruby-value str">&quot;&quot;</span>
28:     <span class="ruby-keyword kw">end</span>
29:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hant_search_1_word</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">hant_search_1_word</span> <span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
30:     <span class="ruby-keyword kw">else</span>
31:       <span class="ruby-ivar">@search_condit</span>= <span class="ruby-value str">&quot; and &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">hant_search_1_word</span>
32:     <span class="ruby-keyword kw">end</span>
33:     <span class="ruby-identifier">c</span> = <span class="ruby-value str">&quot;used = 'Y'&quot;</span>
34:     <span class="ruby-identifier">p</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>()
35:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@search_condit!</span>= <span class="ruby-value str">&quot; and &quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">sql_check_3</span>(<span class="ruby-ivar">@search_condit</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">false</span>
36:       <span class="ruby-identifier">c</span> = <span class="ruby-identifier">c</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@search_condit</span>
37:     <span class="ruby-keyword kw">end</span>
38:     <span class="ruby-comment cmt">#s=&quot;a.id as id,a.order_type as order_type,a.reviewed_suggestion as reviewed_suggestion,a.journal_id as journal_id,a.institute as institute,a.reviewed as reviewed,a.memo as memo,a.reviewed_suggestion_memo as reviewed_suggestion_memo,a.reviewed_shop_checked as reviewed_shop_checked,b.subject as subject,b.title as title,b.pissn as pissn&quot;</span>
39:     <span class="ruby-ivar">@tb_arbitman_pages</span>,<span class="ruby-ivar">@tb_arbitmen</span> =<span class="ruby-identifier">paginate</span>(<span class="ruby-identifier">:tb_arbitmen</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">c</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@order</span>,<span class="ruby-identifier">:per_page=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@page_lines</span>.<span class="ruby-identifier">to_i</span>)
40:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000927" class="method-detail">
        <a name="M000927"></a>

        <div class="method-heading">
          <a href="#M000927" class="method-signature">
          <span class="method-name">list_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示仲裁员受教育的列表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000927-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000927-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 479</span>
479:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_educate</span>
480:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
481:     <span class="ruby-ivar">@tb_educates</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">find_educates</span>(<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>)
482:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000920" class="method-detail">
        <a name="M000920"></a>

        <div class="method-heading">
          <a href="#M000920" class="method-signature">
          <span class="method-name">list_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示外语语种列表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000920-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000920-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 398</span>
398:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_language</span>
399:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
400:     <span class="ruby-ivar">@arbitman_num</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
401:     <span class="ruby-ivar">@tb_languages</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">find_languages</span>(<span class="ruby-ivar">@arbitman_num</span>)
402:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000916" class="method-detail">
        <a name="M000916"></a>

        <div class="method-heading">
          <a href="#M000916" class="method-signature">
          <span class="method-name">list_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员简历的列表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000916-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000916-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 356</span>
356:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_resume</span>
357:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
358:     <span class="ruby-ivar">@arbitman_num</span> = <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
359:     <span class="ruby-ivar">@tb_resumes</span> = <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">find_resumes</span>(<span class="ruby-ivar">@arbitman_num</span>)
360:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000931" class="method-detail">
        <a name="M000931"></a>

        <div class="method-heading">
          <a href="#M000931" class="method-signature">
          <span class="method-name">list_speciality</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示仲裁员精通专业信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000931-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000931-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 519</span>
519:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_speciality</span>
520:     <span class="ruby-ivar">@arbitman_num</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]
521:     <span class="ruby-ivar">@id</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@arbitman_num</span>)
522:     <span class="ruby-ivar">@specialities</span> = <span class="ruby-constant">Special</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;arbitman_num = ? and used = 'Y'&quot;</span>,<span class="ruby-ivar">@arbitman_num</span>],<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>) 
523:     <span class="ruby-comment cmt">#@specialities = Special.find_specialities(@arbitman_id)        </span>
524:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000909" class="method-detail">
        <a name="M000909"></a>

        <div class="method-heading">
          <a href="#M000909" class="method-signature">
          <span class="method-name">list_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示仲裁员培训的列表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000909-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000909-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 286</span>
286:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_train</span>
287:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
288:     <span class="ruby-ivar">@tb_trains</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">find_trains</span>(<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>)
289:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000897" class="method-detail">
        <a name="M000897"></a>

        <div class="method-heading">
          <a href="#M000897" class="method-signature">
          <span class="method-name">name_edit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000897-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000897-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_edit</span>         
189:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
190:     <span class="ruby-ivar">@nc</span>=<span class="ruby-constant">TbAribitmanNameChange</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;code=?&quot;</span>,<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;u_t desc&quot;</span>)
191:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000898" class="method-detail">
        <a name="M000898"></a>

        <div class="method-heading">
          <a href="#M000898" class="method-signature">
          <span class="method-name">name_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000898-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000898-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_update</span>       
194:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
195:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
196:       <span class="ruby-ivar">@nc</span>=<span class="ruby-constant">TbAribitmanNameChange</span>.<span class="ruby-identifier">new</span>
197:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">name</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">name</span>
198:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">name_idcard</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">name_idcard</span>
199:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">code</span>=<span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">code</span>
200:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">u</span>=<span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
201:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">u_t</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
202:       <span class="ruby-ivar">@nc</span>.<span class="ruby-identifier">save</span>
203:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;更名成功&quot;</span>  
204:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_arbitman&quot;</span>,<span class="ruby-identifier">:search_condit=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>],<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
205:     <span class="ruby-keyword kw">else</span>
206:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;name_edit&quot;</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],<span class="ruby-identifier">:search_condit=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>],<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
207:     <span class="ruby-keyword kw">end</span>
208:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000889" class="method-detail">
        <a name="M000889"></a>

        <div class="method-heading">
          <a href="#M000889" class="method-signature">
          <span class="method-name">new_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
增加仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000889-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000889-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 43</span>
43:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_arbitman</span>
44:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">new</span>
45:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000925" class="method-detail">
        <a name="M000925"></a>

        <div class="method-heading">
          <a href="#M000925" class="method-signature">
          <span class="method-name">new_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
以下是教育处理部分 新建教育的对象
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000925-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000925-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 458</span>
458:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_educate</span>
459:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
460:     <span class="ruby-ivar">@tb_educate</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">new</span>()
461:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000919" class="method-detail">
        <a name="M000919"></a>

        <div class="method-heading">
          <a href="#M000919" class="method-signature">
          <span class="method-name">new_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
以下是外语语种处理部分 新建外语语种
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000919-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000919-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 393</span>
393:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_language</span>
394:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])   
395:     <span class="ruby-ivar">@tb_language</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">new</span>
396:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000913" class="method-detail">
        <a name="M000913"></a>

        <div class="method-heading">
          <a href="#M000913" class="method-signature">
          <span class="method-name">new_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
以下是简历处理部分 新建仲裁员简历
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000913-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000913-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 326</span>
326:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_resume</span>
327:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])       
328:     <span class="ruby-ivar">@tb_resume</span> = <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">new</span>
329:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">startdate</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
330:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">enddate</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
331:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000907" class="method-detail">
        <a name="M000907"></a>

        <div class="method-heading">
          <a href="#M000907" class="method-signature">
          <span class="method-name">new_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
以下是培训处理 新建培训
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000907-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000907-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 264</span>
264:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_train</span>
265:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]) 
266:     <span class="ruby-ivar">@tb_train</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">new</span>
267:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000900" class="method-detail">
        <a name="M000900"></a>

        <div class="method-heading">
          <a href="#M000900" class="method-signature">
          <span class="method-name">save_background</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
保存背景信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000900-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000900-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_background</span>
216:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
217:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
218:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>           
219:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
220:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_arbitman&quot;</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
221:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000906" class="method-detail">
        <a name="M000906"></a>

        <div class="method-heading">
          <a href="#M000906" class="method-signature">
          <span class="method-name">save_caseperyear</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
保存可办理案件信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000906-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000906-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 254</span>
254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_caseperyear</span>
255:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
256:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
257:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
258:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
259:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_arbitman&quot;</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
260:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000902" class="method-detail">
        <a name="M000902"></a>

        <div class="method-heading">
          <a href="#M000902" class="method-signature">
          <span class="method-name">save_finance</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
保存财务信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000902-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000902-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 228</span>
228:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_finance</span>
229:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
230:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
231:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>           
232:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
233:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_arbitman&quot;</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
234:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000904" class="method-detail">
        <a name="M000904"></a>

        <div class="method-heading">
          <a href="#M000904" class="method-signature">
          <span class="method-name">save_setting</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
保存设置信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000904-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000904-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 241</span>
241:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_setting</span>
242:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
243:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
244:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
245:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>           
246:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_arbitman&quot;</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
247:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000934" class="method-detail">
        <a name="M000934"></a>

        <div class="method-heading">
          <a href="#M000934" class="method-signature">
          <span class="method-name">special_select</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
选择业务专长
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000934-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000934-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 557</span>
557:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">special_select</span>
558:     <span class="ruby-ivar">@arbitman_num</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:arbitman_num</span>]
559:     <span class="ruby-ivar">@specials</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code = 9012 and state = 'Y'&quot;</span>])
560:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000895" class="method-detail">
        <a name="M000895"></a>

        <div class="method-heading">
          <a href="#M000895" class="method-signature">
          <span class="method-name">update_arbitman</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
更新仲裁员记录
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000895-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000895-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 154</span>
154:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_arbitman</span>
155:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]) 
156:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">role_code</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:role_code</span>]
157:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">category</span>=<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:category</span>]
158:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
159:     <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>           
160:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_arbitman</span>])
161:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday!</span>=<span class="ruby-keyword kw">nil</span>
162:         <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">age</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span><span class="ruby-operator">-</span><span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday</span>.<span class="ruby-identifier">year</span>
163:       <span class="ruby-keyword kw">else</span>
164:         <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">birthday</span>=<span class="ruby-keyword kw">nil</span>
165:       <span class="ruby-keyword kw">end</span>
166:       <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">save</span>
167:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;修改成功&quot;</span>  
168:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_arbitman&quot;</span>,<span class="ruby-identifier">:search_condit=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search_condit</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:order</span>],<span class="ruby-identifier">:page=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page</span>],<span class="ruby-identifier">:page_lines=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:page_lines</span>]
169:     <span class="ruby-keyword kw">else</span>
170:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_arbitman&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
171:     <span class="ruby-keyword kw">end</span>
172:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000929" class="method-detail">
        <a name="M000929"></a>

        <div class="method-heading">
          <a href="#M000929" class="method-signature">
          <span class="method-name">update_educate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
更新仲裁员教育信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000929-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000929-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 490</span>
490:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_educate</span>
491:     <span class="ruby-ivar">@tb_educate</span> = <span class="ruby-constant">TbEducate</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
492:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">arbitman</span>)
493:     <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
494:     <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
495:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_educate</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_educate</span>])
496:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;修改成功&quot;</span>  
497:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_educate&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>  
498:     <span class="ruby-keyword kw">else</span>
499:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_educate&quot;</span>,  <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]  
500:     <span class="ruby-keyword kw">end</span>
501:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000923" class="method-detail">
        <a name="M000923"></a>

        <div class="method-heading">
          <a href="#M000923" class="method-signature">
          <span class="method-name">update_language</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
更新仲裁员外语语种
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000923-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000923-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 428</span>
428:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_language</span>
429:     <span class="ruby-ivar">@tb_language</span> = <span class="ruby-constant">TbLanguage</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
430:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">arbitman</span>)
431:     <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
432:     <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>        
433:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_language</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_language</span>])
434:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;修改成功&quot;</span>  
435:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_language&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>  
436:     <span class="ruby-keyword kw">else</span>
437:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_language&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]  
438:     <span class="ruby-keyword kw">end</span>
439:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000917" class="method-detail">
        <a name="M000917"></a>

        <div class="method-heading">
          <a href="#M000917" class="method-signature">
          <span class="method-name">update_resume</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
更新仲裁员简历
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000917-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000917-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 363</span>
363:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_resume</span>
364:     <span class="ruby-ivar">@tb_resume</span> = <span class="ruby-constant">TbResume</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
365:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_or_create_by_code</span>(<span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">arbit_id</span>)
366:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
367:     <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
368:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_resume</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_resume</span>])
369:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;修改成功&quot;</span>  
370:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_resume&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
371:     <span class="ruby-keyword kw">else</span>
372:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_resume&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
373:     <span class="ruby-keyword kw">end</span>
374:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000911" class="method-detail">
        <a name="M000911"></a>

        <div class="method-heading">
          <a href="#M000911" class="method-signature">
          <span class="method-name">update_train</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
更新仲裁员培训
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000911-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000911-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 298</span>
298:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_train</span>
299:     <span class="ruby-ivar">@tb_train</span> = <span class="ruby-constant">TbTrain</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
300:     <span class="ruby-ivar">@tb_arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">arbitmannum</span>)
301:     <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">user</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
302:     <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">u_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>         
303:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tb_train</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:tb_train</span>])
304:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;修改成功&quot;</span>  
305:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;list_train&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tb_arbitman</span>.<span class="ruby-identifier">id</span>
306:     <span class="ruby-keyword kw">else</span>
307:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;edit_train&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
308:     <span class="ruby-keyword kw">end</span>
309:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000893" class="method-detail">
        <a name="M000893"></a>

        <div class="method-heading">
          <a href="#M000893" class="method-signature">
          <span class="method-name">upload_file</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
文件上传的代码
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000893-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000893-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 77</span>
 77:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">upload_file</span>
 78:     <span class="ruby-ivar">@arbitman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
 79:     <span class="ruby-identifier">cov</span>  = <span class="ruby-constant">Iconv</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'gbk'</span>,<span class="ruby-value str">'utf-8'</span>)  <span class="ruby-comment cmt"># Iconv 编码转换</span>
 80:     <span class="ruby-comment cmt">#gbk_to_utf8 = Iconv.new('utf-8','gbk')</span>
 81:     <span class="ruby-identifier">file</span>=<span class="ruby-identifier">params</span>[<span class="ruby-value str">&quot;photo&quot;</span>][<span class="ruby-identifier">:file</span>]  <span class="ruby-comment cmt"># params[&quot;file&quot;]与params[:file]作用相同</span>
 82:     <span class="ruby-keyword kw">begin</span>
 83:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>.<span class="ruby-identifier">empty?</span>  
 84:         <span class="ruby-identifier">f_name</span>=<span class="ruby-node">&quot;#{cov.iconv(file.original_filename)}&quot;</span>  
 85:         <span class="ruby-identifier">filename_changed</span> = <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;_&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">f_name</span> 
 86:         <span class="ruby-identifier">filename_changed_2</span> = <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;_&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">original_filename</span>
 87:         
 88:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/public/arbitman_pic/&quot;</span>)
 89: 
 90:         <span class="ruby-keyword kw">else</span> 
 91:           <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/public/arbitman_pic/&quot;</span>)
 92:         <span class="ruby-keyword kw">end</span>
 93:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;#{RAILS_ROOT}/public/arbitman_pic/#{filename_changed_2}&quot;</span>,<span class="ruby-value str">&quot;wb&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>                         
 94:           <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>) 
 95:         <span class="ruby-keyword kw">end</span>
 96: 
 97:         <span class="ruby-comment cmt">#将文件名存储到数据库</span>
 98:         <span class="ruby-ivar">@tb_photo</span> = <span class="ruby-constant">TbPhoto</span>.<span class="ruby-identifier">new</span>()
 99:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">used</span>=<span class="ruby-value str">'Y'</span>
100:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">pic_name</span> = <span class="ruby-identifier">filename_changed_2</span>
101:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">arbitman_id</span> = <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">id</span>
102:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">code</span>
103:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">u</span> = <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:user_code</span>]
104:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">u_t</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
105:         <span class="ruby-ivar">@tb_photo</span>.<span class="ruby-identifier">save</span>  
106: 
107:         <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">pic</span>=<span class="ruby-value str">'Y'</span>
108:         <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">save</span>
109: 
110:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;上传成功！&quot;</span>
111:       <span class="ruby-keyword kw">else</span>
112:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;上传失败！&quot;</span> 
113:       <span class="ruby-keyword kw">end</span>
114:     <span class="ruby-keyword kw">rescue</span>
115:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;上传失败！&quot;</span>
116:     <span class="ruby-keyword kw">end</span>
117:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;edit_photo&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
118:     
119:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000935" class="method-detail">
        <a name="M000935"></a>

        <div class="method-heading">
          <a href="#M000935" class="method-signature">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000935-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000935-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/arbitman_controller.rb, line 585</span>
585:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>
586:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">:name</span>, <span class="ruby-value str">&quot;should not be blank!&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>
587:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">:code</span>, <span class="ruby-value str">&quot;should not be blank!&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">code</span>.<span class="ruby-identifier">nil?</span>
588:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>