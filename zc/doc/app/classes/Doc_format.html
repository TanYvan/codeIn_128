<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Doc_format</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Doc_format</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/models/doc_format_rb.html">
                app/models/doc_format.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000334">add_last_record</a>&nbsp;&nbsp;
      <a href="#M000333">add_record</a>&nbsp;&nbsp;
      <a href="#M000374">applicant</a>&nbsp;&nbsp;
      <a href="#M000375">applicant2</a>&nbsp;&nbsp;
      <a href="#M000376">applicant2_fmt40</a>&nbsp;&nbsp;
      <a href="#M000337">applicant_arbit_fee</a>&nbsp;&nbsp;
      <a href="#M000340">applicant_arbit_fee22</a>&nbsp;&nbsp;
      <a href="#M000339">applicant_arbit_fee3</a>&nbsp;&nbsp;
      <a href="#M000344">applicant_arbitrator</a>&nbsp;&nbsp;
      <a href="#M000373">applicant_f</a>&nbsp;&nbsp;
      <a href="#M000335">applicant_litigation_fee</a>&nbsp;&nbsp;
      <a href="#M000384">arbitab</a>&nbsp;&nbsp;
      <a href="#M000385">arbitac</a>&nbsp;&nbsp;
      <a href="#M000386">casecode</a>&nbsp;&nbsp;
      <a href="#M000249">check_sub</a>&nbsp;&nbsp;
      <a href="#M000343">chief_arbitrator</a>&nbsp;&nbsp;
      <a href="#M000272">format_letter_bft05</a>&nbsp;&nbsp;
      <a href="#M000275">format_letter_bft06</a>&nbsp;&nbsp;
      <a href="#M000255">format_letter_dfmt04</a>&nbsp;&nbsp;
      <a href="#M000256">format_letter_dfmt05</a>&nbsp;&nbsp;
      <a href="#M000257">format_letter_dfmt06</a>&nbsp;&nbsp;
      <a href="#M000259">format_letter_dfmt07_2</a>&nbsp;&nbsp;
      <a href="#M000258">format_letter_dfmt07ap</a>&nbsp;&nbsp;
      <a href="#M000261">format_letter_dfmt08</a>&nbsp;&nbsp;
      <a href="#M000263">format_letter_dfmt09</a>&nbsp;&nbsp;
      <a href="#M000264">format_letter_dfmt26</a>&nbsp;&nbsp;
      <a href="#M000265">format_letter_dfmt31</a>&nbsp;&nbsp;
      <a href="#M000266">format_letter_dfmt32</a>&nbsp;&nbsp;
      <a href="#M000316">format_letter_dfmt90</a>&nbsp;&nbsp;
      <a href="#M000317">format_letter_dfmt91</a>&nbsp;&nbsp;
      <a href="#M000318">format_letter_dfmt92</a>&nbsp;&nbsp;
      <a href="#M000267">format_letter_dfor03</a>&nbsp;&nbsp;
      <a href="#M000251">format_letter_fmt01</a>&nbsp;&nbsp;
      <a href="#M000252">format_letter_fmt02_1</a>&nbsp;&nbsp;
      <a href="#M000253">format_letter_fmt02_2</a>&nbsp;&nbsp;
      <a href="#M000254">format_letter_fmt03</a>&nbsp;&nbsp;
      <a href="#M000268">format_letter_fmt04</a>&nbsp;&nbsp;
      <a href="#M000270">format_letter_fmt05</a>&nbsp;&nbsp;
      <a href="#M000273">format_letter_fmt06</a>&nbsp;&nbsp;
      <a href="#M000260">format_letter_fmt07ap</a>&nbsp;&nbsp;
      <a href="#M000262">format_letter_fmt08</a>&nbsp;&nbsp;
      <a href="#M000276">format_letter_fmt09</a>&nbsp;&nbsp;
      <a href="#M000330">format_letter_fmt10_scia</a>&nbsp;&nbsp;
      <a href="#M000277">format_letter_fmt11a</a>&nbsp;&nbsp;
      <a href="#M000279">format_letter_fmt12</a>&nbsp;&nbsp;
      <a href="#M000280">format_letter_fmt14</a>&nbsp;&nbsp;
      <a href="#M000282">format_letter_fmt15</a>&nbsp;&nbsp;
      <a href="#M000327">format_letter_fmt161</a>&nbsp;&nbsp;
      <a href="#M000328">format_letter_fmt162</a>&nbsp;&nbsp;
      <a href="#M000329">format_letter_fmt163</a>&nbsp;&nbsp;
      <a href="#M000283">format_letter_fmt17</a>&nbsp;&nbsp;
      <a href="#M000278">format_letter_fmt17a</a>&nbsp;&nbsp;
      <a href="#M000281">format_letter_fmt17b</a>&nbsp;&nbsp;
      <a href="#M000284">format_letter_fmt18</a>&nbsp;&nbsp;
      <a href="#M000285">format_letter_fmt19</a>&nbsp;&nbsp;
      <a href="#M000286">format_letter_fmt20</a>&nbsp;&nbsp;
      <a href="#M000287">format_letter_fmt23b</a>&nbsp;&nbsp;
      <a href="#M000288">format_letter_fmt23c</a>&nbsp;&nbsp;
      <a href="#M000290">format_letter_fmt23e</a>&nbsp;&nbsp;
      <a href="#M000289">format_letter_fmt23m</a>&nbsp;&nbsp;
      <a href="#M000291">format_letter_fmt24</a>&nbsp;&nbsp;
      <a href="#M000292">format_letter_fmt27</a>&nbsp;&nbsp;
      <a href="#M000293">format_letter_fmt31</a>&nbsp;&nbsp;
      <a href="#M000294">format_letter_fmt32</a>&nbsp;&nbsp;
      <a href="#M000295">format_letter_fmt33</a>&nbsp;&nbsp;
      <a href="#M000296">format_letter_fmt36</a>&nbsp;&nbsp;
      <a href="#M000297">format_letter_fmt37</a>&nbsp;&nbsp;
      <a href="#M000298">format_letter_fmt38a</a>&nbsp;&nbsp;
      <a href="#M000299">format_letter_fmt39</a>&nbsp;&nbsp;
      <a href="#M000300">format_letter_fmt39_scia</a>&nbsp;&nbsp;
      <a href="#M000301">format_letter_fmt40</a>&nbsp;&nbsp;
      <a href="#M000302">format_letter_fmt41</a>&nbsp;&nbsp;
      <a href="#M000303">format_letter_fmt42</a>&nbsp;&nbsp;
      <a href="#M000304">format_letter_fmt44</a>&nbsp;&nbsp;
      <a href="#M000305">format_letter_fmt45</a>&nbsp;&nbsp;
      <a href="#M000306">format_letter_fmt46</a>&nbsp;&nbsp;
      <a href="#M000307">format_letter_fmt47</a>&nbsp;&nbsp;
      <a href="#M000308">format_letter_fmt48</a>&nbsp;&nbsp;
      <a href="#M000309">format_letter_fmt49</a>&nbsp;&nbsp;
      <a href="#M000310">format_letter_fmt50</a>&nbsp;&nbsp;
      <a href="#M000311">format_letter_fmt51</a>&nbsp;&nbsp;
      <a href="#M000319">format_letter_fmt53</a>&nbsp;&nbsp;
      <a href="#M000320">format_letter_fmt54</a>&nbsp;&nbsp;
      <a href="#M000321">format_letter_fmt55</a>&nbsp;&nbsp;
      <a href="#M000322">format_letter_fmt56</a>&nbsp;&nbsp;
      <a href="#M000323">format_letter_fmt57</a>&nbsp;&nbsp;
      <a href="#M000324">format_letter_fmt58</a>&nbsp;&nbsp;
      <a href="#M000325">format_letter_fmt59</a>&nbsp;&nbsp;
      <a href="#M000326">format_letter_fmt60</a>&nbsp;&nbsp;
      <a href="#M000331">format_letter_fmt70</a>&nbsp;&nbsp;
      <a href="#M000312">format_letter_for03</a>&nbsp;&nbsp;
      <a href="#M000313">format_letter_fr03</a>&nbsp;&nbsp;
      <a href="#M000269">format_letter_ft04</a>&nbsp;&nbsp;
      <a href="#M000271">format_letter_ft05</a>&nbsp;&nbsp;
      <a href="#M000274">format_letter_ft06</a>&nbsp;&nbsp;
      <a href="#M000314">format_letter_head1</a>&nbsp;&nbsp;
      <a href="#M000315">format_letter_head2</a>&nbsp;&nbsp;
      <a href="#M000382">get_accommodate_remarks</a>&nbsp;&nbsp;
      <a href="#M000383">get_accommodate_remarks2</a>&nbsp;&nbsp;
      <a href="#M000378">get_agent</a>&nbsp;&nbsp;
      <a href="#M000379">get_agent2</a>&nbsp;&nbsp;
      <a href="#M000380">get_agent2_fmt40</a>&nbsp;&nbsp;
      <a href="#M000381">get_agent3</a>&nbsp;&nbsp;
      <a href="#M000399">get_amount_detail</a>&nbsp;&nbsp;
      <a href="#M000347">get_arbitman_sex</a>&nbsp;&nbsp;
      <a href="#M000391">get_casetype_num</a>&nbsp;&nbsp;
      <a href="#M000392">get_casetype_num2</a>&nbsp;&nbsp;
      <a href="#M000437">get_cn_code</a>&nbsp;&nbsp;
      <a href="#M000332">get_code1</a>&nbsp;&nbsp;
      <a href="#M000407">get_commentdate</a>&nbsp;&nbsp;
      <a href="#M000363">get_con_day</a>&nbsp;&nbsp;
      <a href="#M000366">get_con_day2</a>&nbsp;&nbsp;
      <a href="#M000369">get_con_day3</a>&nbsp;&nbsp;
      <a href="#M000372">get_con_day31</a>&nbsp;&nbsp;
      <a href="#M000362">get_con_month</a>&nbsp;&nbsp;
      <a href="#M000365">get_con_month2</a>&nbsp;&nbsp;
      <a href="#M000368">get_con_month3</a>&nbsp;&nbsp;
      <a href="#M000371">get_con_month31</a>&nbsp;&nbsp;
      <a href="#M000361">get_con_year</a>&nbsp;&nbsp;
      <a href="#M000364">get_con_year2</a>&nbsp;&nbsp;
      <a href="#M000367">get_con_year3</a>&nbsp;&nbsp;
      <a href="#M000370">get_con_year31</a>&nbsp;&nbsp;
      <a href="#M000388">get_contract_date</a>&nbsp;&nbsp;
      <a href="#M000387">get_contract_name</a>&nbsp;&nbsp;
      <a href="#M000389">get_contract_nd</a>&nbsp;&nbsp;
      <a href="#M000401">get_d_money</a>&nbsp;&nbsp;
      <a href="#M000398">get_dear_money</a>&nbsp;&nbsp;
      <a href="#M000410">get_delayTerm</a>&nbsp;&nbsp;
      <a href="#M000409">get_delaydate</a>&nbsp;&nbsp;
      <a href="#M000360">get_email</a>&nbsp;&nbsp;
      <a href="#M000433">get_email2</a>&nbsp;&nbsp;
      <a href="#M000408">get_enddate</a>&nbsp;&nbsp;
      <a href="#M000426">get_endstyle</a>&nbsp;&nbsp;
      <a href="#M000356">get_fax</a>&nbsp;&nbsp;
      <a href="#M000359">get_fax2</a>&nbsp;&nbsp;
      <a href="#M000432">get_fax22</a>&nbsp;&nbsp;
      <a href="#M000350">get_fix_appoint</a>&nbsp;&nbsp;
      <a href="#M000351">get_fix_appoint_2</a>&nbsp;&nbsp;
      <a href="#M000402">get_i_money</a>&nbsp;&nbsp;
      <a href="#M000400">get_indefinite_money</a>&nbsp;&nbsp;
      <a href="#M000425">get_language</a>&nbsp;&nbsp;
      <a href="#M000394">get_litigation_fee</a>&nbsp;&nbsp;
      <a href="#M000396">get_litigation_fee2</a>&nbsp;&nbsp;
      <a href="#M000412">get_materialtype1</a>&nbsp;&nbsp;
      <a href="#M000414">get_materialtype2</a>&nbsp;&nbsp;
      <a href="#M000434">get_n_party</a>&nbsp;&nbsp;
      <a href="#M000353">get_name</a>&nbsp;&nbsp;
      <a href="#M000429">get_name2</a>&nbsp;&nbsp;
      <a href="#M000416">get_number1</a>&nbsp;&nbsp;
      <a href="#M000417">get_number11</a>&nbsp;&nbsp;
      <a href="#M000420">get_number2</a>&nbsp;&nbsp;
      <a href="#M000418">get_number4</a>&nbsp;&nbsp;
      <a href="#M000419">get_number41</a>&nbsp;&nbsp;
      <a href="#M000427">get_orgstyle</a>&nbsp;&nbsp;
      <a href="#M000421">get_partytype</a>&nbsp;&nbsp;
      <a href="#M000438">get_pay</a>&nbsp;&nbsp;
      <a href="#M000439">get_pay1</a>&nbsp;&nbsp;
      <a href="#M000440">get_pay2</a>&nbsp;&nbsp;
      <a href="#M000395">get_processing_fee</a>&nbsp;&nbsp;
      <a href="#M000397">get_processing_fee2</a>&nbsp;&nbsp;
      <a href="#M000390">get_recevicedate</a>&nbsp;&nbsp;
      <a href="#M000411">get_recevicedate1</a>&nbsp;&nbsp;
      <a href="#M000413">get_recevicedate2</a>&nbsp;&nbsp;
      <a href="#M000443">get_reduction_0001_0002</a>&nbsp;&nbsp;
      <a href="#M000444">get_reduction_0001_0003</a>&nbsp;&nbsp;
      <a href="#M000445">get_reduction_0004_0002</a>&nbsp;&nbsp;
      <a href="#M000446">get_reduction_0004_0003</a>&nbsp;&nbsp;
      <a href="#M000428">get_remark</a>&nbsp;&nbsp;
      <a href="#M000358">get_s_fax</a>&nbsp;&nbsp;
      <a href="#M000357">get_s_tel</a>&nbsp;&nbsp;
      <a href="#M000435">get_save_party</a>&nbsp;&nbsp;
      <a href="#M000424">get_save_place</a>&nbsp;&nbsp;
      <a href="#M000423">get_save_time</a>&nbsp;&nbsp;
      <a href="#M000447">get_send_code</a>&nbsp;&nbsp;
      <a href="#M000352">get_sex</a>&nbsp;&nbsp;
      <a href="#M000436">get_sign</a>&nbsp;&nbsp;
      <a href="#M000406">get_sitting_place</a>&nbsp;&nbsp;
      <a href="#M000405">get_sitting_time</a>&nbsp;&nbsp;
      <a href="#M000403">get_sittingdate</a>&nbsp;&nbsp;
      <a href="#M000404">get_sittingdate2</a>&nbsp;&nbsp;
      <a href="#M000348">get_style</a>&nbsp;&nbsp;
      <a href="#M000349">get_style_from</a>&nbsp;&nbsp;
      <a href="#M000422">get_t_casetype_num</a>&nbsp;&nbsp;
      <a href="#M000355">get_tel</a>&nbsp;&nbsp;
      <a href="#M000431">get_tel2</a>&nbsp;&nbsp;
      <a href="#M000415">get_third_party</a>&nbsp;&nbsp;
      <a href="#M000393">get_total_money</a>&nbsp;&nbsp;
      <a href="#M000354">get_zlsex</a>&nbsp;&nbsp;
      <a href="#M000430">get_zlsex2</a>&nbsp;&nbsp;
      <a href="#M000441">hds</a>&nbsp;&nbsp;
      <a href="#M000442">hds_2</a>&nbsp;&nbsp;
      <a href="#M000346">independent_arbitrator</a>&nbsp;&nbsp;
      <a href="#M000247">new</a>&nbsp;&nbsp;
      <a href="#M000342">num_papers</a>&nbsp;&nbsp;
      <a href="#M000377">respondent</a>&nbsp;&nbsp;
      <a href="#M000338">respondent_arbit_fee</a>&nbsp;&nbsp;
      <a href="#M000345">respondent_arbitrator</a>&nbsp;&nbsp;
      <a href="#M000336">respondent_litigation_fee</a>&nbsp;&nbsp;
      <a href="#M000341">respondent_other_fee</a>&nbsp;&nbsp;
      <a href="#M000248">show</a>&nbsp;&nbsp;
      <a href="#M000250">show_head_1</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000247" class="method-detail">
        <a name="M000247"></a>

        <div class="method-heading">
          <a href="#M000247" class="method-signature">
          <span class="method-name">new</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000247-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000247-source">
<pre>
   <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2</span>
2:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
3: 
4:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000334" class="method-detail">
        <a name="M000334"></a>

        <div class="method-heading">
          <a href="#M000334" class="method-signature">
          <span class="method-name">add_last_record</span><span class="method-args">(str_src,str_des,str_prm)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
最后一个添加项
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000334-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000334-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6190</span>
6190:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_last_record</span>(<span class="ruby-identifier">str_src</span>,<span class="ruby-identifier">str_des</span>,<span class="ruby-identifier">str_prm</span>)
6191:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_src</span>.<span class="ruby-identifier">to_s</span>
6192:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,,,&quot;</span>
6193:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_des</span>.<span class="ruby-identifier">to_s</span>
6194:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str_prm</span>
6195:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000333" class="method-detail">
        <a name="M000333"></a>

        <div class="method-heading">
          <a href="#M000333" class="method-signature">
          <span class="method-name">add_record</span><span class="method-args">(str_src,str_des,str_prm)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
添加替换项
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000333-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000333-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6182</span>
6182:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_record</span>(<span class="ruby-identifier">str_src</span>,<span class="ruby-identifier">str_des</span>,<span class="ruby-identifier">str_prm</span>)
6183:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_src</span>.<span class="ruby-identifier">to_s</span>
6184:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,,,&quot;</span>
6185:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str_des</span>.<span class="ruby-identifier">to_s</span>
6186:     <span class="ruby-identifier">str_prm</span> = <span class="ruby-identifier">str_prm</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;;;;&quot;</span>
6187:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str_prm</span>
6188:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000374" class="method-detail">
        <a name="M000374"></a>

        <div class="method-heading">
          <a href="#M000374" class="method-signature">
          <span class="method-name">applicant</span><span class="method-args">(code,v1,v3)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
申请人
v1-1:以分号隔开,在函中；2：要标明第几个当事人。v3:3:要冒号
4：不要冒号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000374-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000374-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6815</span>
6815:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>,<span class="ruby-identifier">v3</span>)
6816:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 1 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
6817:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6818:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6819:     <span class="ruby-keyword kw">else</span>
6820:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
6821:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6822:       <span class="ruby-ivar">@last1</span> = <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span>
6823:       <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
6824:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6825:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6826:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last1</span>
6827:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6828:             <span class="ruby-keyword kw">else</span>
6829:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
6830:             <span class="ruby-keyword kw">end</span>
6831:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6832:             <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6833:           <span class="ruby-keyword kw">end</span>
6834:         <span class="ruby-keyword kw">else</span>
6835:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
6836:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6837:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
6838:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6839:           <span class="ruby-keyword kw">end</span>
6840:         <span class="ruby-keyword kw">end</span>
6841:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6842:       <span class="ruby-keyword kw">end</span>      <span class="ruby-comment cmt">#  去掉最后的逗号 ,\r</span>
6843:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6844:         <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6845:       <span class="ruby-keyword kw">else</span>
6846:         <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;申请人：__________&quot;</span>
6847:       <span class="ruby-keyword kw">end</span>
6848:     <span class="ruby-keyword kw">end</span>
6849:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@applicant1</span>
6850:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000375" class="method-detail">
        <a name="M000375"></a>

        <div class="method-heading">
          <a href="#M000375" class="method-signature">
          <span class="method-name">applicant2</span><span class="method-args">(code,v1,v3,p)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
换行、对齐的列出多个当事人：v1：申请人还是被申请人1，2
fmt38a
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000375-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000375-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6853</span>
6853:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>,<span class="ruby-identifier">v3</span>,<span class="ruby-identifier">p</span>)<span class="ruby-comment cmt">#p 1申请人   2被申请人</span>
6854:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = ? and recevice_code = ?&quot;</span>,<span class="ruby-identifier">p</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
6855:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6856:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6857:     <span class="ruby-keyword kw">else</span>
6858:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
6859:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6860:       <span class="ruby-ivar">@last2</span> = <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span>
6861:       <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
6862:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6863:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6864:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last2</span>
6865:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6866:             <span class="ruby-keyword kw">else</span>
6867:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span>
6868:             <span class="ruby-keyword kw">end</span>
6869:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6870:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6871:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6872:                 <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;   &quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6873:               <span class="ruby-keyword kw">else</span>
6874:                 <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6875:               <span class="ruby-keyword kw">end</span>
6876:             <span class="ruby-keyword kw">else</span>
6877:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6878:                 <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;   &quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6879:               <span class="ruby-keyword kw">else</span>
6880:                 <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6881:               <span class="ruby-keyword kw">end</span>
6882:             <span class="ruby-keyword kw">end</span>
6883:             <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6884:           <span class="ruby-keyword kw">end</span>
6885:         <span class="ruby-keyword kw">else</span>
6886:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">p</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6887:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;申请人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6888:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">p</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6889:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;被申请人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6890:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
6891:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span>
6892:           <span class="ruby-keyword kw">end</span>
6893:         <span class="ruby-keyword kw">end</span>
6894:       <span class="ruby-keyword kw">end</span>      <span class="ruby-comment cmt">#  去掉最后的逗号 ,\r</span>
6895:       <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6896:     <span class="ruby-keyword kw">end</span>
6897:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@applicant1</span>
6898:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000376" class="method-detail">
        <a name="M000376"></a>

        <div class="method-heading">
          <a href="#M000376" class="method-signature">
          <span class="method-name">applicant2_fmt40</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
换行、对齐的列出多个当事人：v1：申请人还是被申请人1，2
fmt40
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000376-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000376-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6901</span>
6901:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>)
6902:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-node">&quot;used = 'Y' and recevice_code='#{code}' and partytype=?&quot;</span>,<span class="ruby-identifier">v1</span>],<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
6903:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6904:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6905:     <span class="ruby-keyword kw">else</span>
6906:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
6907:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6908:       <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
6909:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6910:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6911:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6912:               <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;    &quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6913:             <span class="ruby-keyword kw">else</span>
6914:               <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6915:             <span class="ruby-keyword kw">end</span>
6916:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6917:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6918:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;    &quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6919:             <span class="ruby-keyword kw">else</span>
6920:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6921:             <span class="ruby-keyword kw">end</span>
6922:           <span class="ruby-keyword kw">end</span>
6923:           <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6924:         <span class="ruby-keyword kw">else</span>
6925:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6926:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6927:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6928:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6929:           <span class="ruby-keyword kw">end</span>
6930:         <span class="ruby-keyword kw">end</span>
6931:       <span class="ruby-keyword kw">end</span>
6932:       <span class="ruby-comment cmt">#  去掉最后的换行号</span>
6933:       <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6934:     <span class="ruby-keyword kw">end</span>
6935:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@applicant1</span>
6936:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000337" class="method-detail">
        <a name="M000337"></a>

        <div class="method-heading">
          <a href="#M000337" class="method-signature">
          <span class="method-name">applicant_arbit_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
申请人处理费、仲裁费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000337-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000337-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6226</span>
6226:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_arbit_fee</span>(<span class="ruby-identifier">code</span>)
6227:     <span class="ruby-ivar">@s_id</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and typ in ('0003','0006') and payment='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as rmb&quot;</span>)
6228:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id!</span>=<span class="ruby-keyword kw">nil</span>
6229:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id</span>.<span class="ruby-identifier">rmb</span>
6230:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6231:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6232:       <span class="ruby-keyword kw">else</span>
6233:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6234:       <span class="ruby-keyword kw">end</span>
6235:     <span class="ruby-keyword kw">else</span>
6236:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6237:     <span class="ruby-keyword kw">end</span>
6238:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000340" class="method-detail">
        <a name="M000340"></a>

        <div class="method-heading">
          <a href="#M000340" class="method-signature">
          <span class="method-name">applicant_arbit_fee22</span><span class="method-args">(code,p)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
已收&#8212;申请人&#8217;0001&#8217;(处理费、仲裁费;立案费、受理费）
应收费用 &#8212;&#8212;typ=&#8216;0001&#8217;
，被申请人0002&#8212;p
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000340-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000340-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6263</span>
6263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>)
6264:     <span class="ruby-ivar">@s_id</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and payment=? and typ&lt;'0007'&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(re_rmb_money) as rmb&quot;</span>)
6265:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id!</span>=<span class="ruby-keyword kw">nil</span>
6266:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id</span>.<span class="ruby-identifier">rmb</span>
6267:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6268:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6269:       <span class="ruby-keyword kw">else</span>
6270:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6271:       <span class="ruby-keyword kw">end</span>
6272:     <span class="ruby-keyword kw">else</span>
6273:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6274:     <span class="ruby-keyword kw">end</span>
6275:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000339" class="method-detail">
        <a name="M000339"></a>

        <div class="method-heading">
          <a href="#M000339" class="method-signature">
          <span class="method-name">applicant_arbit_fee3</span><span class="method-args">(code,p)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
补缴仲裁费用 = 应收 - 已收 - 减交 ;p:0001,0002 当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000339-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000339-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6254</span>
6254:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_arbit_fee3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>)
6255:     <span class="ruby-ivar">@s</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and payment=? and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money-re_rmb_money-redu_rmb_money) as s1&quot;</span>)
6256:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s!</span>=<span class="ruby-keyword kw">nil</span>
6257:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@s</span>.<span class="ruby-identifier">s1</span>.<span class="ruby-identifier">to_f</span>
6258:     <span class="ruby-keyword kw">else</span>
6259:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6260:     <span class="ruby-keyword kw">end</span>
6261:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000344" class="method-detail">
        <a name="M000344"></a>

        <div class="method-heading">
          <a href="#M000344" class="method-signature">
          <span class="method-name">applicant_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件申请人仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000344-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000344-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6317</span>
6317:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
6318:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0003'&quot;</span>,<span class="ruby-identifier">code</span>])
6319:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6320:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
6321:       <span class="ruby-identifier">applicant_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
6322:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">applicant_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6323:         <span class="ruby-identifier">applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>.<span class="ruby-identifier">name</span>
6324:       <span class="ruby-keyword kw">else</span>
6325:         <span class="ruby-identifier">applicant_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6326:       <span class="ruby-keyword kw">end</span>
6327:     <span class="ruby-keyword kw">else</span>
6328:       <span class="ruby-identifier">applicant_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6329:     <span class="ruby-keyword kw">end</span>
6330:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">applicant_arbitrator</span>
6331:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000373" class="method-detail">
        <a name="M000373"></a>

        <div class="method-heading">
          <a href="#M000373" class="method-signature">
          <span class="method-name">applicant_f</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
适用于卷宗
:如果多个当事人，显示第几，并换行；否则直接显示
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000373-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000373-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6787</span>
6787:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_f</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6788:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype =? and recevice_code = ?&quot;</span>,<span class="ruby-identifier">v</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
6789:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6790:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6791:     <span class="ruby-keyword kw">else</span>
6792:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
6793:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6794:       <span class="ruby-ivar">@last1</span> = <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span>
6795:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6796:         <span class="ruby-ivar">@applicant1</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>).<span class="ruby-identifier">partyname</span>
6797:       <span class="ruby-keyword kw">else</span>
6798:         <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
6799:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6800:             <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6801:           <span class="ruby-keyword kw">else</span>
6802:             <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6803:           <span class="ruby-keyword kw">end</span>
6804:           <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6805:         <span class="ruby-keyword kw">end</span>      <span class="ruby-comment cmt">#  去掉最后的逗号 ,\r</span>
6806:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6807:           <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6808:         <span class="ruby-keyword kw">end</span>
6809:       <span class="ruby-keyword kw">end</span>
6810:     <span class="ruby-keyword kw">end</span>
6811:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@applicant1</span>
6812:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000335" class="method-detail">
        <a name="M000335"></a>

        <div class="method-heading">
          <a href="#M000335" class="method-signature">
          <span class="method-name">applicant_litigation_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
修改 2009-8-10 聂灵灵
明确不明确争议金额部分的,以及无明确争议金额费用部分的
申请人受理费、立案费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000335-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000335-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6198</span>
6198:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_litigation_fee</span>(<span class="ruby-identifier">code</span>)
6199:     <span class="ruby-ivar">@s_id</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and typ in ('0002','0005') and payment='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as rmb&quot;</span>)
6200:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id!</span>=<span class="ruby-keyword kw">nil</span>
6201:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id</span>.<span class="ruby-identifier">rmb</span>
6202:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6203:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6204:       <span class="ruby-keyword kw">else</span>
6205:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6206:       <span class="ruby-keyword kw">end</span>
6207:     <span class="ruby-keyword kw">else</span>
6208:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6209:     <span class="ruby-keyword kw">end</span>
6210:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000384" class="method-detail">
        <a name="M000384"></a>

        <div class="method-heading">
          <a href="#M000384" class="method-signature">
          <span class="method-name">arbitab</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据当事人数量选择仲裁员方式：选定/共同选定或委托/共同委托
v&#8212;当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000384-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000384-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7193</span>
7193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
7194:     <span class="ruby-ivar">@party3</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id&quot;</span>)
7195:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party3!</span>=<span class="ruby-keyword kw">nil</span>
7196:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party3</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7197:         <span class="ruby-identifier">str3</span>=<span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
7198:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@party3</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7199:         <span class="ruby-identifier">str3</span>=<span class="ruby-value str">&quot;选定或委托&quot;</span>
7200:       <span class="ruby-keyword kw">end</span>
7201:     <span class="ruby-keyword kw">else</span>
7202:       <span class="ruby-identifier">str3</span>=<span class="ruby-value str">&quot;选定/共同选定或委托/共同委托&quot;</span>
7203:     <span class="ruby-keyword kw">end</span>
7204:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str3</span>
7205:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000385" class="method-detail">
        <a name="M000385"></a>

        <div class="method-heading">
          <a href="#M000385" class="method-signature">
          <span class="method-name">arbitac</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
推荐还是共同推荐
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000385-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000385-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7207</span>
7207:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
7208:     <span class="ruby-ivar">@party4</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id&quot;</span>)
7209:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party4!</span>=<span class="ruby-keyword kw">nil</span>
7210:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party4</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7211:         <span class="ruby-identifier">str8</span>=<span class="ruby-value str">&quot;共同推荐&quot;</span>
7212:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@party4</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7213:         <span class="ruby-identifier">str8</span>=<span class="ruby-value str">&quot;推荐&quot;</span>
7214:       <span class="ruby-keyword kw">end</span>
7215:     <span class="ruby-keyword kw">else</span>
7216:       <span class="ruby-identifier">str8</span>=<span class="ruby-value str">&quot;推荐/共同推荐&quot;</span>
7217:     <span class="ruby-keyword kw">end</span>
7218:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str8</span>
7219:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000386" class="method-detail">
        <a name="M000386"></a>

        <div class="method-heading">
          <a href="#M000386" class="method-signature">
          <span class="method-name">casecode</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000386-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000386-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7220</span>
7220:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
7221:     <span class="ruby-ivar">@casecode</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">case_code</span>
7222:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@casecode!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@casecode!</span>=<span class="ruby-value str">&quot;&quot;</span>
7223:       <span class="ruby-ivar">@casecode1</span>=<span class="ruby-ivar">@casecode</span>
7224:     <span class="ruby-keyword kw">else</span>
7225:       <span class="ruby-ivar">@casecode1</span>=<span class="ruby-value str">&quot;_____&quot;</span>
7226:     <span class="ruby-keyword kw">end</span>
7227:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@casecode1</span>
7228:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000249" class="method-detail">
        <a name="M000249"></a>

        <div class="method-heading">
          <a href="#M000249" class="method-signature">
          <span class="method-name">check_sub</span><span class="method-args">(recevice_code,format_code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
内部函生成之前的条件检测,符合发文条件的返回空字符串，不符合的则返回提示信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000249-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000249-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_sub</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">format_code</span>)
181:     <span class="ruby-identifier">r</span>=<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
182:     <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;&quot;</span>
183:     <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>]=<span class="ruby-value str">&quot;&quot;</span>
184:     <span class="ruby-ivar">@check_sub_code</span> = <span class="ruby-constant">TbDocFormat</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-identifier">format_code</span>).<span class="ruby-identifier">check_sub_code</span>
185:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@check_sub_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
186:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt07a&quot;</span><span class="ruby-comment cmt">#typed='0001' 证据保全 ；0002  财产保全</span>
187:         <span class="ruby-ivar">@sav2</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed='0002'&quot;</span>,<span class="ruby-identifier">recevice_code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
188:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sav2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
189:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
190:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] =<span class="ruby-value str">&quot;请填写财产保全信息！&quot;</span>
191:         <span class="ruby-keyword kw">end</span>
192:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt07b&quot;</span>
193:         <span class="ruby-ivar">@sav1</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed='0001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
194:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sav1</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
195:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
196:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] =<span class="ruby-value str">&quot;请填写证据保全信息！&quot;</span>
197:         <span class="ruby-keyword kw">end</span>
198:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt11&quot;</span>
199:         <span class="ruby-ivar">@ccc</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}'&quot;</span>)
200:         <span class="ruby-ivar">@s</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money-re_rmb_money-redu_rmb_money) as s1&quot;</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">recevice_code</span>])
201:         <span class="ruby-comment cmt">#案件收费（争议金额）”、“案件收费（无明确争议金额）”，则要检测对应的费用，</span>
202:         <span class="ruby-comment cmt">#如果对应的实收为0，则提示“案件收费明细对应中存在为0的记录”，不能终审</span>
203:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s!</span>=<span class="ruby-keyword kw">nil</span>
204:           <span class="ruby-ivar">@sss</span>=<span class="ruby-ivar">@s</span>.<span class="ruby-identifier">s1</span>.<span class="ruby-identifier">to_i</span>
205:         <span class="ruby-keyword kw">else</span>
206:           <span class="ruby-ivar">@sss</span>=<span class="ruby-value">0</span>
207:         <span class="ruby-keyword kw">end</span>
208:         <span class="ruby-ivar">@sitting</span>=<span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">recevice_code</span>])
209:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
210:           <span class="ruby-identifier">contents</span> = <span class="ruby-value str">&quot;没有开庭时间。&quot;</span>
211:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
212:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] =<span class="ruby-identifier">contents</span>
213:         <span class="ruby-keyword kw">else</span>
214:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ccc</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@ccc</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
215:             <span class="ruby-identifier">contents</span>=<span class="ruby-value str">&quot;没有交费记录。&quot;</span>
216:           <span class="ruby-keyword kw">end</span>
217:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sss</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>
218:             <span class="ruby-identifier">contents</span>=<span class="ruby-value str">&quot;有欠缴费用未交。&quot;</span>
219:           <span class="ruby-keyword kw">end</span>
220:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;alert&quot;</span>
221:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] =<span class="ruby-identifier">contents</span>
222:         <span class="ruby-keyword kw">end</span>
223:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt12&quot;</span>
224:         <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbAward</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">recevice_code</span>])
225:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
226:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
227:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>]=<span class="ruby-value str">&quot;请填写报校核信息！&quot;</span>
228:         <span class="ruby-keyword kw">end</span>
229:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt17&quot;</span> <span class="ruby-comment cmt">#如果没有组厅记录则不能发组厅通知函,如果实收费用&lt;（应收费用－减收费用）的1/2，则不允许发出组庭通知，并提示缴纳的仲裁费用不足二分之一</span>
230:         <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">recevice_code</span>])
231:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
232:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
233:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>]=<span class="ruby-value str">&quot;请填写组庭信息！&quot;</span>
234:         <span class="ruby-keyword kw">end</span>
235:         <span class="ruby-identifier">d1</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;</span>)
236:         <span class="ruby-identifier">d2</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:redu_rmb_money</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;</span>)
237:         <span class="ruby-identifier">d3</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;</span>)
238:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">d3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> (<span class="ruby-identifier">d1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">d2</span>.<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">/</span> <span class="ruby-value">2</span>
239:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
240:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>]=<span class="ruby-value str">&quot;缴纳的仲裁费用不足二分之一, 不允许发出组庭通知&quot;</span>
241:         <span class="ruby-keyword kw">end</span>
242:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt47&quot;</span> <span class="ruby-comment cmt">#庭审要点、程序报告、开庭签到表，如果没有创建开庭时间，不允许发该函</span>
243:         <span class="ruby-ivar">@sitting</span>=<span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">recevice_code</span>])
244:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
245:           <span class="ruby-identifier">contents</span> = <span class="ruby-value str">&quot;没有开庭时间。&quot;</span>
246:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
247:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] =<span class="ruby-identifier">contents</span>
248:         <span class="ruby-keyword kw">end</span>
249:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@check_sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt50&quot;</span> <span class="ruby-comment cmt">#如果没有输入退费信息，则不能生成退费审批表，并提示“请先输入退费信息”</span>
250:         <span class="ruby-identifier">tb_should_refund</span> = <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and parent_id=0 and state&lt;&gt;3&quot;</span>,<span class="ruby-identifier">recevice_code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
251:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tb_should_refund</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
252:           <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span>]=<span class="ruby-value str">&quot;text&quot;</span>
253:           <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>]=<span class="ruby-value str">&quot;请先输入退费信息。&quot;</span>
254:         <span class="ruby-keyword kw">end</span>
255: <span class="ruby-comment cmt">#      elsif @check_sub_code == &quot;fmt14&quot;  #发开庭通知的时候，如果实收费用&lt;（应收费用－减收费用），则需要提示缴纳全部仲裁费，不阻挡发开庭通知。</span>
256: <span class="ruby-comment cmt">#        d1 = TbShouldCharge.sum(:rmb_money, :conditions=&gt;&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;)</span>
257: <span class="ruby-comment cmt">#        d2 = TbShouldCharge.sum(:redu_rmb_money, :conditions=&gt;&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;)</span>
258: <span class="ruby-comment cmt">#        d3 = TbShouldCharge.sum(:re_rmb_money, :conditions=&gt;&quot;recevice_code='#{recevice_code}' and used='Y' and parent_id=0&quot;)</span>
259: <span class="ruby-comment cmt">#        if d3.to_i &lt; (d1.to_i - d2.to_i)</span>
260: <span class="ruby-comment cmt">#          r[0]=&quot;alert&quot;</span>
261: <span class="ruby-comment cmt">#          r[1]=&quot;请缴纳全部仲裁费&quot;</span>
262: <span class="ruby-comment cmt">#        end</span>
263:       <span class="ruby-keyword kw">end</span>
264:     <span class="ruby-keyword kw">end</span>
265:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
266:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000343" class="method-detail">
        <a name="M000343"></a>

        <div class="method-heading">
          <a href="#M000343" class="method-signature">
          <span class="method-name">chief_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件首席仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000343-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000343-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6301</span>
6301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>)
6302:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0002'&quot;</span>,<span class="ruby-identifier">code</span>])
6303:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6304:       <span class="ruby-ivar">@chief_a</span>= <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>])
6305:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@chief_a</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6306:         <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-ivar">@chief_a</span>.<span class="ruby-identifier">name</span>
6307:       <span class="ruby-keyword kw">else</span>
6308:         <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6309:       <span class="ruby-keyword kw">end</span>
6310:     <span class="ruby-keyword kw">else</span>
6311:       <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6312:     <span class="ruby-keyword kw">end</span>
6313:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@c_arbit</span>
6314:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000272" class="method-detail">
        <a name="M000272"></a>

        <div class="method-heading">
          <a href="#M000272" class="method-signature">
          <span class="method-name">format_letter_bft05</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知（被申请人） 金融规则案件1人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000272-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000272-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2170</span>
2170:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_bft05</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2171:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2172:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-value str">&quot;&quot;</span>
2173:     <span class="ruby-comment cmt">#函号</span>
2174:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2175:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_bft05</span>)
2176:     <span class="ruby-comment cmt">#立案号</span>
2177:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2178:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_bft05</span>)
2179:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_bft05</span>)
2180:     <span class="ruby-comment cmt">#被申请人</span>
2181:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2182:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_bft05</span>)
2183:     <span class="ruby-comment cmt">#申请人</span>
2184:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2185:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_bft05</span>)
2186:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同名称）</span>
2187:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2188:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_bft05</span>)
2189:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;42$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_bft05</span>)
2190:     <span class="ruby-comment cmt">#文件份数</span>
2191:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0001')</span>
2192:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_bft05</span>)
2193:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0001')</span>
2194:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_bft05</span>)
2195:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_bft05</span>)
2196:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_bft05</span>)
2197:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_bft05</span>)
2198:     <span class="ruby-comment cmt">#助理</span>
2199:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2200:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2201:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2202:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2203:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2204:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_bft05</span>)
2205:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_bft05</span>)
2206:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_bft05</span>)
2207:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_bft05</span>)
2208:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_bft05</span>)
2209:     <span class="ruby-comment cmt">#日期</span>
2210:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2211:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2212:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2213:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_bft05</span>)
2214:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_bft05</span>)
2215:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_bft05</span>)
2216:     <span class="ruby-ivar">@s1</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2217:     <span class="ruby-ivar">@s2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2218:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@s1</span>,<span class="ruby-ivar">@format_bft05</span>)
2219:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@s2</span>,<span class="ruby-ivar">@format_bft05</span>)
2220:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2221:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2222:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2223:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2224:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2225:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2226:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;39$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2227:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;40$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2228:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;41$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft05</span>)
2229:     <span class="ruby-comment cmt">#一名/三名； 独任/首席； 替换</span>
2230:     <span class="ruby-identifier">str43</span> = <span class="ruby-value str">&quot;一名&quot;</span>
2231:     <span class="ruby-identifier">str45</span> = <span class="ruby-value str">&quot;独任&quot;</span>
2232:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;43$$$&gt;&quot;</span>,<span class="ruby-identifier">str43</span>,<span class="ruby-ivar">@format_bft05</span>)
2233:     <span class="ruby-ivar">@format_bft05</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;44$$$&gt;&quot;</span>,<span class="ruby-identifier">str45</span>,<span class="ruby-ivar">@format_bft05</span>)
2234:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000275" class="method-detail">
        <a name="M000275"></a>

        <div class="method-heading">
          <a href="#M000275" class="method-signature">
          <span class="method-name">format_letter_bft06</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知——申请人 金融1人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000275-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000275-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2420</span>
2420:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_bft06</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
2421:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2422:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-value str">&quot;&quot;</span>
2423:     <span class="ruby-comment cmt">#函号</span>
2424:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2425:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_bft06</span>)
2426:     <span class="ruby-comment cmt">#立案号</span>
2427:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2428:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_bft06</span>)
2429:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_bft06</span>)
2430:     <span class="ruby-comment cmt">#申请人</span>
2431:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2432:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_bft06</span>)
2433:     <span class="ruby-comment cmt">#申请人交材料的日期</span>
2434:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>  <span class="ruby-comment cmt">#get_recevicedate2(code)</span>
2435:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_bft06</span>)
2436:     <span class="ruby-comment cmt">#被申请人</span>
2437:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2438:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_bft06</span>)
2439:     <span class="ruby-comment cmt">#文件份数</span>
2440:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2441:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_bft06</span>)
2442:     <span class="ruby-comment cmt">#仲裁费</span>
2443:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2444:     <span class="ruby-ivar">@arbit_fee</span> =<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
2445:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_bft06</span>)
2446:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
2447:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2448:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_bft06</span>)
2449:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_bft06</span>)
2450:     <span class="ruby-comment cmt">#助理</span>
2451:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2452:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2453:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2454:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2455:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2456:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_bft06</span>)
2457:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_bft06</span>)
2458:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_bft06</span>)
2459:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_bft06</span>)
2460:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_bft06</span>)
2461:     <span class="ruby-comment cmt">#日期</span>
2462:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2463:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2464:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2465:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_bft06</span>)
2466:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_bft06</span>)
2467:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_bft06</span>)
2468:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
2469:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
2470:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
2471:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2472:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2473:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
2474:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
2475:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
2476:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
2477:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
2478:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、《仲裁规则》&quot;</span>
2479:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、《仲裁员名册》&quot;</span>
2480:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;4、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2481:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;5、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2482:     <span class="ruby-keyword kw">else</span>
2483:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
2484:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、《仲裁规则》&quot;</span>
2485:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、《仲裁员名册》&quot;</span>
2486:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;4、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2487:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;5、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2488:     <span class="ruby-keyword kw">end</span>
2489:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_bft06</span>)
2490:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_bft06</span>)
2491:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_bft06</span>)
2492:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_bft06</span>)
2493:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_bft06</span>)
2494:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>) <span class="ruby-comment cmt">#你方、你两方........</span>
2495:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft06</span>)
2496:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft06</span>)
2497:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft06</span>)
2498:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_bft06</span>)
2499:     <span class="ruby-comment cmt">#一名/三名； 独任/首席； 替换</span>
2500:     <span class="ruby-comment cmt">#    @an=TbCase.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=?&quot;,code]).aribitprog_num</span>
2501:     <span class="ruby-comment cmt">#    if @an=='0006' or @an=='0008'</span>
2502:     <span class="ruby-identifier">str9</span> = <span class="ruby-value str">&quot;一名&quot;</span>
2503:     <span class="ruby-identifier">str14</span> = <span class="ruby-value str">&quot;独任&quot;</span>
2504:     <span class="ruby-comment cmt">#    else</span>
2505:     <span class="ruby-comment cmt">#      str9 = &quot;三名&quot;</span>
2506:     <span class="ruby-comment cmt">#      str14 = &quot;首席&quot;</span>
2507:     <span class="ruby-comment cmt">#    end</span>
2508:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_bft06</span>)
2509:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_bft06</span>)
2510:     <span class="ruby-ivar">@format_bft06</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">str14</span>,<span class="ruby-ivar">@format_bft06</span>)
2511:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000255" class="method-detail">
        <a name="M000255"></a>

        <div class="method-heading">
          <a href="#M000255" class="method-signature">
          <span class="method-name">format_letter_dfmt04</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000255-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000255-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 816</span>
816:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt04</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
817:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
818:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
819:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
820:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
821:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
822:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
823:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
824:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
825:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
826:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-value str">&quot;&quot;</span>
827:     <span class="ruby-comment cmt">#函号--文件编号</span>
828:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
829:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt04</span>)
830:     <span class="ruby-comment cmt">#申请人</span>
831:     <span class="ruby-ivar">@applicant</span>=<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
832:     <span class="ruby-ivar">@applicant2</span>=<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
833:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant</span>,<span class="ruby-ivar">@format_dfmt04</span>)
834:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
835:     <span class="ruby-comment cmt">#受理日期</span>
836:     <span class="ruby-ivar">@date_receive</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">receivedate</span>
837:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
838:       <span class="ruby-ivar">@date_receive1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
839:       <span class="ruby-ivar">@date_receive2</span> = <span class="ruby-value str">&quot;____&quot;</span>
840:       <span class="ruby-ivar">@date_receive3</span> = <span class="ruby-value str">&quot;____&quot;</span>
841:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive1</span>,<span class="ruby-ivar">@format_dfmt04</span>)
842:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
843:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive3</span>,<span class="ruby-ivar">@format_dfmt04</span>)
844:     <span class="ruby-keyword kw">else</span>
845:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_receive</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
846:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
847:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
848:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@format_dfmt04</span>)
849:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>],<span class="ruby-ivar">@format_dfmt04</span>)
850:       <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>],<span class="ruby-ivar">@format_dfmt04</span>)
851:     <span class="ruby-keyword kw">end</span>
852:     <span class="ruby-comment cmt">#被申请人</span>
853:     <span class="ruby-ivar">@respondent</span>=<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
854:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent</span>,<span class="ruby-ivar">@format_dfmt04</span>)
855:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
856:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
857:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt04</span>)
858:     <span class="ruby-comment cmt">#受理费</span>
859:     <span class="ruby-ivar">@litigation_fee</span> = <span class="ruby-identifier">applicant_litigation_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0002</span>
860:     <span class="ruby-comment cmt">#处理费</span>
861:     <span class="ruby-ivar">@processing_fee</span> = <span class="ruby-identifier">applicant_arbit_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span>
862:     <span class="ruby-comment cmt">#办案费用合计（0002、0003）</span>
863:     <span class="ruby-ivar">@total_fee</span> = <span class="ruby-ivar">@litigation_fee</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@processing_fee</span>
864:     <span class="ruby-comment cmt">#金额格式化</span>
865:     <span class="ruby-ivar">@litigation_fee</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
866:     <span class="ruby-ivar">@processing_fee</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee</span>)
867:     <span class="ruby-ivar">@total_fee</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
868:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_dfmt04</span>)
869:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee</span>,<span class="ruby-ivar">@format_dfmt04</span>)
870:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_dfmt04</span>)
871:     <span class="ruby-comment cmt">#咨询助理</span>
872:     <span class="ruby-ivar">@zl_name</span> = <span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex2</span>(<span class="ruby-identifier">code</span>)
873:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
874:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
875:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email2</span>(<span class="ruby-identifier">code</span>)
876:     <span class="ruby-ivar">@fax4</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
877:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_name</span>,<span class="ruby-ivar">@format_dfmt04</span>)
878:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt04</span>)
879:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt04</span>)
880:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt04</span>)
881:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax4</span>,<span class="ruby-ivar">@format_dfmt04</span>)
882:     <span class="ruby-comment cmt">#日期</span>
883:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
884:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
885:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
886:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
887:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
888:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
889:     <span class="ruby-ivar">@accommodate_remarks</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
890:     <span class="ruby-ivar">@accommodate_remarks2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
891:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks</span>,<span class="ruby-ivar">@format_dfmt04</span>)
892:     <span class="ruby-ivar">@format_dfmt04</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks2</span>,<span class="ruby-ivar">@format_dfmt04</span>)
893:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">
          <a href="#M000256" class="method-signature">
          <span class="method-name">format_letter_dfmt05</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000256-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 895</span>
895:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt05</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
896:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
897:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-value str">&quot;&quot;</span>
898:     <span class="ruby-comment cmt">#函号</span>
899:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
900:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt05</span>)
901:     <span class="ruby-comment cmt">#立案号</span>
902:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
903:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt05</span>)
904:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt05</span>)
905:     <span class="ruby-comment cmt">#被申请人</span>
906:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
907:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt05</span>)
908:     <span class="ruby-comment cmt">#申请人</span>
909:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
910:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_dfmt05</span>)
911:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同编号，名称）</span>
912:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
913:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt05</span>)
914:     <span class="ruby-comment cmt">#文件份数</span>
915:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0002')</span>
916:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt05</span>)
917:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0002')</span>
918:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_dfmt05</span>)
919:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt05</span>)
920:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt05</span>)
921:     <span class="ruby-comment cmt">#    @format_dfmt05 = add_record(&quot;&lt;24$$$&gt;&quot;,@copies,@format_dfmt05)</span>
922:     <span class="ruby-comment cmt">#助理</span>
923:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
924:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
925:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
926:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
927:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_dfmt05</span>)
928:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt05</span>)
929:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt05</span>)
930:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt05</span>)
931:     <span class="ruby-comment cmt">#日期</span>
932:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
933:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
934:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
935:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt05</span>)
936:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt05</span>)
937:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt05</span>)
938:     <span class="ruby-ivar">@s1</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
939:     <span class="ruby-ivar">@s2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
940:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@s1</span>,<span class="ruby-ivar">@format_dfmt05</span>)
941:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@s2</span>,<span class="ruby-ivar">@format_dfmt05</span>)
942:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
943:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_dfmt05</span>)
944:     <span class="ruby-ivar">@party2</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2&quot;</span>,<span class="ruby-identifier">code</span>])
945:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
946:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
947:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
948:     <span class="ruby-keyword kw">else</span>
949:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
950:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
951:     <span class="ruby-keyword kw">end</span>
952:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep26</span>,<span class="ruby-ivar">@format_dfmt05</span>)
953:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep27</span>,<span class="ruby-ivar">@format_dfmt05</span>)
954:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
955:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
956:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
957:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
958:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
959:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
960:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
961:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
962:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
963:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
964:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;35$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
965:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;36$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
966:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;37$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt05</span>)
967:     <span class="ruby-identifier">s38</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
968:     <span class="ruby-ivar">@format_dfmt05</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;38$$$&gt;&quot;</span>,<span class="ruby-identifier">s38</span>,<span class="ruby-ivar">@format_dfmt05</span>)
969:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">
          <a href="#M000257" class="method-signature">
          <span class="method-name">format_letter_dfmt06</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000257-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 971</span>
 971:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt06</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
 972:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
 973:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-value str">&quot;&quot;</span>
 974:     <span class="ruby-comment cmt">#函号</span>
 975:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
 976:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 977:     <span class="ruby-comment cmt">#立案号</span>
 978:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
 979:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 980:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 981:     <span class="ruby-comment cmt">#申请人</span>
 982:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
 983:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 984:     <span class="ruby-comment cmt">#申请人交材料的日期</span>
 985:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span> <span class="ruby-comment cmt">#get_recevicedate2(code)</span>
 986:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 987:     <span class="ruby-comment cmt">#被申请人</span>
 988:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
 989:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 990:     <span class="ruby-comment cmt">#文件份数  p_v=='0001' 发给申请人</span>
 991:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
 992:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 993:     <span class="ruby-comment cmt">#仲裁费</span>
 994:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
 995:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
 996:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_dfmt06</span>)
 997:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
 998:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
 999:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1000:     <span class="ruby-comment cmt">#助理</span>
1001:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
1002:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1003:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1004:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
1005:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1006:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1007:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1008:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1009:     <span class="ruby-comment cmt">#日期</span>
1010:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1011:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1012:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1013:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1014:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1015:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1016:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1017:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1018:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
1019:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
1020:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
1021:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1022:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1023:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
1024:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
1025:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
1026:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
1027:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
1028:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
1029:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO.&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1030:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1031:     <span class="ruby-keyword kw">else</span>
1032:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
1033:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
1034:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
1035:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1036:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1037:     <span class="ruby-keyword kw">end</span>
1038:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1039:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1040:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1041:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1042:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1043:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1044:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1045:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1046:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1047:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1048:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1049:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1050:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1051:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1052:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1053:     <span class="ruby-identifier">s35</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1054:     <span class="ruby-ivar">@format_dfmt06</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;35$$$&gt;&quot;</span>,<span class="ruby-identifier">s35</span>,<span class="ruby-ivar">@format_dfmt06</span>)
1055:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000259" class="method-detail">
        <a name="M000259"></a>

        <div class="method-heading">
          <a href="#M000259" class="method-signature">
          <span class="method-name">format_letter_dfmt07_2</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
财产保全 通知财产保全法院已经结案的函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000259-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1143</span>
1143:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt07_2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1144:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1145:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1146:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1147:     <span class="ruby-identifier">str6</span>=<span class="ruby-ivar">@y2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@m2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@d2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
1148:     <span class="ruby-ivar">@clerk</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">clerk</span>)
1149:     <span class="ruby-ivar">@tbsave</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1150:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tbsave!</span>=<span class="ruby-keyword kw">nil</span>
1151:       <span class="ruby-ivar">@request_typ</span> = <span class="ruby-ivar">@tbsave</span>.<span class="ruby-identifier">request_typ</span>
1152:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>   <span class="ruby-comment cmt">#申请人</span>
1153:         <span class="ruby-ivar">@str1</span>= <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1154:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@str1</span>
1155:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1156:       <span class="ruby-keyword kw">else</span>  <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>   <span class="ruby-comment cmt">#被申请人</span>
1157:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>)
1158:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>)
1159:       <span class="ruby-keyword kw">end</span>
1160:     <span class="ruby-keyword kw">else</span>
1161:       <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人/被申请人&quot;</span>
1162:       <span class="ruby-ivar">@court</span>=<span class="ruby-value str">&quot;_____&quot;</span>
1163:     <span class="ruby-keyword kw">end</span>
1164: 
1165: 
1166:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1167:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-value str">&quot;&quot;</span>
1168:     <span class="ruby-comment cmt">#函号</span>
1169:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1170:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1171:     <span class="ruby-comment cmt">#立案号</span>
1172:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1173:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1174: 
1175:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@court</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1176:     <span class="ruby-comment cmt">#当事人</span>
1177:     <span class="ruby-ivar">@applicants1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1178:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants1</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1179:     <span class="ruby-comment cmt">#被申请人</span>
1180:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1181:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1182:     
1183:     <span class="ruby-identifier">ttt</span> = <span class="ruby-value str">&quot;申请人现已申请撤销本案，本会于________年____月____日作出华南国仲深撤〔________〕________号撤案决定书。本案仲裁庭经过审理，于________年____月____日作出华南国仲深裁〔________〕________号裁决书。&quot;</span>
1184:     <span class="ruby-identifier">end_book</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])  
1185:     <span class="ruby-identifier">sYear</span>=<span class="ruby-value str">&quot;----&quot;</span>  
1186:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">end_book</span>
1187:       <span class="ruby-identifier">decideDate_ary</span> = <span class="ruby-identifier">end_book</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
1188:       
1189:       <span class="ruby-identifier">s</span>=<span class="ruby-identifier">end_book</span>.<span class="ruby-identifier">arbitBookNum</span>
1190:       <span class="ruby-identifier">sYear</span>=<span class="ruby-identifier">s</span>[<span class="ruby-value">3</span>,<span class="ruby-value">4</span>]
1191:       <span class="ruby-identifier">iNumber</span>=<span class="ruby-identifier">s</span>[<span class="ruby-value">7</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_i</span>
1192:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>[<span class="ruby-value">10</span>,<span class="ruby-value">1</span>]<span class="ruby-operator">==</span><span class="ruby-value str">&quot;d&quot;</span> <span class="ruby-keyword kw">then</span>
1193:                          <span class="ruby-identifier">sResult</span>=<span class="ruby-value str">&quot;〔&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sYear</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;〕D&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">iNumber</span>.<span class="ruby-identifier">to_s</span>
1194:                         <span class="ruby-keyword kw">else</span>
1195:                            <span class="ruby-identifier">sResult</span>=<span class="ruby-value str">&quot;〔&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sYear</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;〕&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">iNumber</span>.<span class="ruby-identifier">to_s</span>
1196:                         <span class="ruby-keyword kw">end</span> 
1197:                         
1198: 
1199:      <span class="ruby-identifier">s2</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">nowdate</span>
1200:     <span class="ruby-identifier">sLiAnYear</span>=<span class="ruby-value str">&quot;&quot;</span>
1201:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s2</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">s2</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
1202:       <span class="ruby-identifier">sLiAnYear</span>=<span class="ruby-value str">&quot;____&quot;</span>
1203:     <span class="ruby-keyword kw">else</span>
1204:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">s2</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
1205:       <span class="ruby-identifier">sLiAnYear</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>
1206:     <span class="ruby-keyword kw">end</span>
1207:     
1208:                         
1209:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">end_book</span>.<span class="ruby-identifier">endStyle</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;0003&quot;</span>
1210:         <span class="ruby-identifier">ttt</span> = <span class="ruby-node">&quot;申请人现已申请撤销本案，本会于#{decideDate_ary[0]}年#{decideDate_ary[1]}月#{decideDate_ary[2]}日作出华南国仲深撤&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sResult</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;号撤案决定书。&quot;</span>
1211:       <span class="ruby-keyword kw">else</span>
1212:         <span class="ruby-identifier">ttt</span> = <span class="ruby-node">&quot;本案仲裁庭经过审理，于#{decideDate_ary[0]}年#{decideDate_ary[1]}月#{decideDate_ary[2]}日作出华南国仲深裁&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sResult</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;号裁决书。&quot;</span>
1213:       <span class="ruby-keyword kw">end</span>
1214:     <span class="ruby-keyword kw">end</span>
1215:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;53$$$&gt;&quot;</span>,<span class="ruby-identifier">ttt</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1216:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">sLiAnYear</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1217:      
1218:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;54$$$&gt;&quot;</span>,<span class="ruby-ivar">@clerk</span>.<span class="ruby-identifier">name</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1219:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_dfmt07</span>)
1220:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;55$$$&gt;&quot;</span>,<span class="ruby-ivar">@clerk</span>.<span class="ruby-identifier">telephone</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1221:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;56$$$&gt;&quot;</span>,<span class="ruby-ivar">@clerk</span>.<span class="ruby-identifier">fax</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1222:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;57$$$&gt;&quot;</span>,<span class="ruby-ivar">@clerk</span>.<span class="ruby-identifier">email</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1223:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;58$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1224:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_dfmt07</span>
1225:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">
          <a href="#M000258" class="method-signature">
          <span class="method-name">format_letter_dfmt07ap</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
此函带页面选项，有申请人、被申请人、财产、证据之分
</p>
<p>
财产保全
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000258-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1060</span>
1060:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt07ap</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1061:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1062:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-value str">&quot;&quot;</span>
1063:     <span class="ruby-comment cmt">#函号</span>
1064:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1065:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1066:     <span class="ruby-comment cmt">#立案号</span>
1067:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1068:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1069:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1070:     <span class="ruby-ivar">@tbsave</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1071: 
1072:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tbsave!</span>=<span class="ruby-keyword kw">nil</span>
1073:       <span class="ruby-ivar">@request_typ</span> = <span class="ruby-ivar">@tbsave</span>.<span class="ruby-identifier">request_typ</span>
1074:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>   <span class="ruby-comment cmt">#申请人</span>
1075:         <span class="ruby-ivar">@str1</span>= <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1076:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@str1</span>
1077:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1078:         <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;申请人的仲裁申请书一份&quot;</span>
1079:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;申请人&quot;</span>
1080:         <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>)
1081:         <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>)
1082:       <span class="ruby-keyword kw">else</span>  <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>   <span class="ruby-comment cmt">#被申请人</span>
1083:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>)
1084:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>)
1085:         <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;被申请人的答辩书一份&quot;</span>
1086:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>
1087:         <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>)
1088:         <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>)
1089:       <span class="ruby-keyword kw">end</span>
1090: 
1091:       <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
1092:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0006'</span> <span class="ruby-comment cmt">#国内案件</span>
1093:         <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;《中华人民共和国仲裁法》第二十八条和《最高人民法院关于实施〈中华人民共和国仲裁法〉几个问题的通知》&quot;</span>
1094:       <span class="ruby-keyword kw">else</span>
1095:         <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;《中华人民共和国仲裁法》第二十八条和《中华人民共和国民事诉讼法》第二百五十六条&quot;</span>
1096:       <span class="ruby-keyword kw">end</span>
1097: 
1098:     <span class="ruby-keyword kw">else</span>
1099:       <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人/被申请人&quot;</span>
1100:       <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;《中华人民共和国仲裁法》第二十八条和《中华人民共和国民事诉讼法》第二百五十六条&quot;</span>
1101:       <span class="ruby-ivar">@court</span>=<span class="ruby-value str">&quot;_____&quot;</span>
1102:       <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;_________&quot;</span>
1103:       <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;_________&quot;</span>
1104:       <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0003'</span>)
1105:       <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0003'</span>)
1106:     <span class="ruby-keyword kw">end</span>
1107:     <span class="ruby-comment cmt">#当事人</span>
1108:     <span class="ruby-ivar">@applicants1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1109:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants1</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1110:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1111:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@request_typ</span>,<span class="ruby-value str">'0002'</span>),<span class="ruby-ivar">@format_dfmt07</span>)
1112:     <span class="ruby-comment cmt">#被申请人</span>
1113:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1114:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1115:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1116:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1117:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1118:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@court</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1119:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@clause</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1120:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1121:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1122:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1123:     <span class="ruby-comment cmt">#助理</span>
1124:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
1125:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
1126:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
1127:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1128:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1129:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1130:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1131:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1132:     <span class="ruby-comment cmt">#日期</span>
1133:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1134:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1135:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1136:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1137:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1138:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt07</span>)
1139:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">
          <a href="#M000261" class="method-signature">
          <span class="method-name">format_letter_dfmt08</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
反请求审批表（国内）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000261-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1312</span>
1312:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt08</span>(<span class="ruby-identifier">code</span>)
1313:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-value str">&quot;&quot;</span>
1314:     <span class="ruby-comment cmt">#被申请人</span>
1315:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1316:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1317:     <span class="ruby-comment cmt">#提起时间</span>
1318:     <span class="ruby-identifier">str2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_date</span>(<span class="ruby-identifier">code</span>)
1319:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">str2</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1320:     <span class="ruby-comment cmt">#案件编号</span>
1321:     <span class="ruby-identifier">case_code</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">case_code</span>
1322:     <span class="ruby-identifier">str3</span>=<span class="ruby-identifier">case_code</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-identifier">case_code</span>.<span class="ruby-identifier">length</span>)
1323:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">str3</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1324:     <span class="ruby-comment cmt">#提起的依据 合同编号</span>
1325:     <span class="ruby-identifier">contract_name</span> = <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
1326:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">contract_name</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1327:     <span class="ruby-identifier">str5</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
1328:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">str5</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1329:     <span class="ruby-identifier">str6</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
1330:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1331: 
1332:     <span class="ruby-comment cmt">#13，14，15 明确、不明确费用</span>
1333:     <span class="ruby-ivar">@litigation_fee20</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_litigation_fee</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#明确,不明确争议金额的  受理费</span>
1334:     <span class="ruby-ivar">@processing_fee20</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_processing_fee</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#......处理费</span>
1335:     <span class="ruby-ivar">@total_money1</span>=<span class="ruby-ivar">@litigation_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee20</span><span class="ruby-comment cmt">#合计</span>
1336:     <span class="ruby-comment cmt">#16，17，18  无明确的案件收费费用</span>
1337:     <span class="ruby-ivar">@litigation_fee30</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_litigation_fee2</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#无明确争议金额的 受理费</span>
1338:     <span class="ruby-ivar">@processing_fee30</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_processing_fee2</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#....处理费</span>
1339:     <span class="ruby-ivar">@total_money30</span>=<span class="ruby-ivar">@litigation_fee30</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee30</span><span class="ruby-comment cmt">#合计</span>
1340:     <span class="ruby-comment cmt">#6，7，8  受理费、处理费分别的合计</span>
1341:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-ivar">@litigation_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@litigation_fee30</span>
1342:     <span class="ruby-ivar">@processing_fee</span>=<span class="ruby-ivar">@processing_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee30</span>
1343:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-ivar">@litigation_fee</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@processing_fee</span>
1344:     <span class="ruby-comment cmt">#以上结果数字分割</span>
1345:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
1346:     <span class="ruby-ivar">@processing_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee</span>)
1347:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
1348: 
1349:     <span class="ruby-ivar">@litigation_fee2</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee20</span>)
1350:     <span class="ruby-ivar">@processing_fee2</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee20</span>)
1351:     <span class="ruby-ivar">@total_money</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_money1</span>)
1352:     <span class="ruby-ivar">@litigation_fee3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee30</span>)
1353:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation_fee3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1354:       <span class="ruby-ivar">@litigation_fee3</span>=<span class="ruby-value str">&quot;&quot;</span>
1355:     <span class="ruby-keyword kw">end</span>
1356:     <span class="ruby-ivar">@processing_fee3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee30</span>)
1357:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing_fee3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1358:       <span class="ruby-ivar">@processing_fee3</span>=<span class="ruby-value str">&quot;&quot;</span>
1359:     <span class="ruby-keyword kw">end</span>
1360:     <span class="ruby-ivar">@total_money3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_money30</span>)
1361:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@total_money3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1362:       <span class="ruby-ivar">@total_money3</span>=<span class="ruby-value str">&quot;&quot;</span>
1363:     <span class="ruby-keyword kw">end</span>
1364:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1365:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1366:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1367:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_money</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1368:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee2</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1369:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee2</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1370:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_money3</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1371:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee3</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1372:     <span class="ruby-ivar">@format_dfmt08</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee3</span>,<span class="ruby-ivar">@format_dfmt08</span>)
1373:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000263" class="method-detail">
        <a name="M000263"></a>

        <div class="method-heading">
          <a href="#M000263" class="method-signature">
          <span class="method-name">format_letter_dfmt09</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
其它实际费用开支费
</p>
<pre>
                                 空缺 ################################
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000263-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1432</span>
1432:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt09</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1433:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1434:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-value str">&quot;&quot;</span>
1435:     <span class="ruby-comment cmt">#函号</span>
1436:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1437:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1438:     <span class="ruby-comment cmt">#被申请人</span>
1439:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1440:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1441:     <span class="ruby-comment cmt">#立案号</span>
1442:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1443:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1444:     <span class="ruby-comment cmt">#被申请人受理费</span>
1445:     <span class="ruby-ivar">@litigation_fee</span> = <span class="ruby-identifier">respondent_litigation_fee</span>(<span class="ruby-identifier">code</span>)
1446:     <span class="ruby-comment cmt">#被申请人处理费</span>
1447:     <span class="ruby-ivar">@processing_fee</span> = <span class="ruby-identifier">respondent_arbit_fee</span>(<span class="ruby-identifier">code</span>)
1448:     <span class="ruby-comment cmt">#其它实际费用开支费</span>
1449:     <span class="ruby-comment cmt">################################# 空缺 ################################</span>
1450:     <span class="ruby-comment cmt">#    @other_fee = respondent_other_fee(code)</span>
1451:     <span class="ruby-comment cmt">#合计</span>
1452:     <span class="ruby-ivar">@total_fee</span> = <span class="ruby-ivar">@litigation_fee</span><span class="ruby-operator">+</span> <span class="ruby-ivar">@processing_fee</span>
1453:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
1454:     <span class="ruby-ivar">@processing_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee</span>)
1455:     <span class="ruby-comment cmt">#    @other_fee=SysArg.compart1(@other_fee)   其他实际费用开支费 去掉</span>
1456:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
1457:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1458:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1459:     <span class="ruby-comment cmt">#    @format_dfmt09 = add_record(&quot;&lt;06$$$&gt;&quot;,@other_fee,@format_dfmt09)</span>
1460:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1461:     <span class="ruby-comment cmt">#日期</span>
1462:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1463:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1464:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1465:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1466:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1467:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1468:     <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1469:     <span class="ruby-ivar">@format_dfmt09</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax2</span>,<span class="ruby-ivar">@format_dfmt09</span>)
1470:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000264" class="method-detail">
        <a name="M000264"></a>

        <div class="method-heading">
          <a href="#M000264" class="method-signature">
          <span class="method-name">format_letter_dfmt26</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
所有案件类型 预缴实际开支费用通知单
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000264-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1472</span>
1472:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt26</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
1473:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1474:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-value str">&quot;&quot;</span>
1475:     <span class="ruby-comment cmt">#函号</span>
1476:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1477:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1478:     <span class="ruby-comment cmt">#立案号</span>
1479:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1480:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1481:     <span class="ruby-comment cmt">#当事人 仲裁员</span>
1482:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
1483:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-comment cmt">#普通案件</span>
1484:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
1485:         <span class="ruby-ivar">@party1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1486:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
1487:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;本会主任&quot;</span>
1488:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-value str">&quot;代你方指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
1489:         <span class="ruby-keyword kw">else</span>
1490:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;你方&quot;</span>
1491:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
1492:         <span class="ruby-keyword kw">end</span>
1493:         <span class="ruby-ivar">@replace5</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
1494:         <span class="ruby-comment cmt">#@arbitman_fee = TbCasearbitman.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;,code,'0003'])</span>
1495:         <span class="ruby-ivar">@arbitman_fee_rmb</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and typ='0008'and payment='0001' and used='Y' &quot;</span> )
1496:         <span class="ruby-ivar">@arbitman_fee_rmb</span> = <span class="ruby-value">0</span>  <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arbitman_fee_rmb</span> 
1497:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@arbitman_fee_rmb</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
1498:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你方预缴仲裁员实际开支费用&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbitman_fee_rmb</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;元&quot;</span>
1499:         <span class="ruby-keyword kw">else</span>
1500:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你方预缴仲裁员实际开支费用人民币_____元&quot;</span>
1501:         <span class="ruby-keyword kw">end</span>
1502:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
1503:         <span class="ruby-ivar">@party1</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1504:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
1505:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;本会主任&quot;</span>
1506:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-value str">&quot;代你方指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
1507:         <span class="ruby-keyword kw">else</span>
1508:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;你方&quot;</span>
1509:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
1510:         <span class="ruby-keyword kw">end</span>
1511:         <span class="ruby-ivar">@replace5</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
1512:         <span class="ruby-comment cmt">#@arbitman_fee = TbCasearbitman.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;,code,'0004'])</span>
1513:         <span class="ruby-ivar">@arbitman_fee_rmb</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and typ='0008'and payment='0002' and used='Y' &quot;</span> )
1514:         <span class="ruby-ivar">@arbitman_fee_rmb</span> = <span class="ruby-value">0</span>  <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arbitman_fee_rmb</span>
1515:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@arbitman_fee_rmb</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
1516:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你方预缴仲裁员实际开支费用&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbitman_fee_rmb</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;元&quot;</span>
1517:         <span class="ruby-keyword kw">else</span>
1518:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你方预缴仲裁员实际开支费用人民币_____元&quot;</span>
1519:         <span class="ruby-keyword kw">end</span>
1520:       <span class="ruby-keyword kw">else</span>
1521:         <span class="ruby-ivar">@party1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1522:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
1523:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;本会主任&quot;</span>
1524:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-value str">&quot;代双方指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
1525:         <span class="ruby-keyword kw">else</span>
1526:           <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;双方&quot;</span>
1527:           <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
1528:         <span class="ruby-keyword kw">end</span>
1529:         <span class="ruby-ivar">@replace5</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span>
1530: <span class="ruby-comment cmt">#        @arbitman_fee = TbCasearbitman.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;,code,'0002'])</span>
1531: <span class="ruby-comment cmt">#        if @arbitman_fee!=nil</span>
1532: <span class="ruby-comment cmt">#          @nam = @arbitman_fee.currency</span>
1533: <span class="ruby-comment cmt">#        else</span>
1534: <span class="ruby-comment cmt">#          @nam = &quot;_____&quot;</span>
1535: <span class="ruby-comment cmt">#        end</span>
1536: <span class="ruby-comment cmt">#        if @arbitman_fee!=nil</span>
1537: <span class="ruby-comment cmt">#          @f1 = SysArg.compart1(@arbitman_fee.f_money/2)</span>
1538: <span class="ruby-comment cmt">#        else</span>
1539: <span class="ruby-comment cmt">#          @f1 = &quot;_____&quot;</span>
1540: <span class="ruby-comment cmt">#        end</span>
1541: 
1542: <span class="ruby-comment cmt">#        @arbitman_fee_rmb = TbShouldCharge.sum(&quot;rmb_money - redu_rmb_money&quot;,:conditions =&gt; &quot;recevice_code='#{code}' and typ='0008' and used='Y' &quot; )    </span>
1543:         
1544:         <span class="ruby-ivar">@arbitman_fee</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and typ='0008' and used='Y' &quot;</span> ,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1545:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitman_fee!</span>=<span class="ruby-keyword kw">nil</span> 
1546:                 <span class="ruby-ivar">@arbitman_fee_rmb</span>=<span class="ruby-ivar">@arbitman_fee</span>.<span class="ruby-identifier">rmb_money</span>
1547:         <span class="ruby-keyword kw">else</span>
1548:                 <span class="ruby-ivar">@arbitman_fee_rmb</span>=<span class="ruby-value">0</span>
1549:         <span class="ruby-keyword kw">end</span>
1550:         
1551:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@arbitman_fee_rmb</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
1552:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你们双方各预缴首席仲裁员实际开支费用&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbitman_fee_rmb</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;元&quot;</span>
1553:         <span class="ruby-keyword kw">else</span>
1554:           <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你们双方各预缴首席仲裁员实际开支费用人民币_____元&quot;</span>
1555:         <span class="ruby-keyword kw">end</span>
1556:       <span class="ruby-keyword kw">end</span>
1557:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#简易案件;就一个选项--双方,不需要显示选项</span>
1558:       <span class="ruby-ivar">@party1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1559:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
1560:         <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;本会主任&quot;</span>
1561:         <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-value str">&quot;代双方指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
1562:       <span class="ruby-keyword kw">else</span>
1563:         <span class="ruby-ivar">@rep9</span> = <span class="ruby-value str">&quot;双方&quot;</span>
1564:         <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
1565:       <span class="ruby-keyword kw">end</span>
1566:       <span class="ruby-ivar">@replace5</span> = <span class="ruby-value str">&quot;独任仲裁员&quot;</span>
1567:       <span class="ruby-comment cmt">#@arbitman_fee = TbCasearbitman.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;,code,'0001'])</span>
1568:       <span class="ruby-comment cmt">#@arbitman_fee_rmb = TbShouldCharge.sum(&quot;rmb_money - redu_rmb_money&quot;,:conditions =&gt; &quot;recevice_code='#{code}' and typ='0008' and used='Y' &quot; )</span>
1569: 
1570:       <span class="ruby-ivar">@arbitman_fee</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and typ='0008' and used='Y' &quot;</span> ,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1571:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitman_fee!</span>=<span class="ruby-keyword kw">nil</span> 
1572:                 <span class="ruby-ivar">@arbitman_fee_rmb</span>=<span class="ruby-ivar">@arbitman_fee</span>.<span class="ruby-identifier">rmb_money</span>
1573:         <span class="ruby-keyword kw">else</span>
1574:                 <span class="ruby-ivar">@arbitman_fee_rmb</span>=<span class="ruby-value">0</span>
1575:         <span class="ruby-keyword kw">end</span>
1576: 
1577:         <span class="ruby-ivar">@arbitman_fee_rmb</span> = <span class="ruby-value">0</span>  <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arbitman_fee_rmb</span>
1578:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@arbitman_fee_rmb</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
1579:         <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你们双方各预缴独任仲裁员实际开支费用&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbitman_fee_rmb</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span>  <span class="ruby-value str">&quot;元&quot;</span>
1580:       <span class="ruby-keyword kw">else</span>
1581:         <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;请你们双方各预缴独任仲裁员实际开支费用人民币_____元&quot;</span>
1582:       <span class="ruby-keyword kw">end</span>
1583:     <span class="ruby-keyword kw">end</span>
1584:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@party1</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1585:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep9</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1586:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@independent_arbitrator</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1587:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace5</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1588:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep11</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1589:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace5</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1590:     <span class="ruby-comment cmt">#日期</span>
1591:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1592:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1593:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1594:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1595:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1596:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1597:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
1598:       <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1599:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
1600:       <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1601:     <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#选择双方时的传真区号</span>
1602:       <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">3</span>) <span class="ruby-comment cmt">#显示0755</span>
1603:     <span class="ruby-keyword kw">end</span>
1604:     <span class="ruby-ivar">@format_dfmt26</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax2</span>,<span class="ruby-ivar">@format_dfmt26</span>)
1605:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000265" class="method-detail">
        <a name="M000265"></a>

        <div class="method-heading">
          <a href="#M000265" class="method-signature">
          <span class="method-name">format_letter_dfmt31</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000265-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000265-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1607</span>
1607:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt31</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1608:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1609:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-value str">&quot;&quot;</span>
1610:     <span class="ruby-comment cmt">#函号</span>
1611:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1612:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1613:     <span class="ruby-comment cmt">#立案号</span>
1614:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1615:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1616:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1617:     <span class="ruby-comment cmt">#被申请人</span>
1618:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1619:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1620:     <span class="ruby-comment cmt">#申请人</span>
1621:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1622:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1623:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同名称）</span>
1624:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1625:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1626:     <span class="ruby-comment cmt">#文件份数</span>
1627:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0002')</span>
1628:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1629:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0002')</span>
1630:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1631:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1632:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1633:     <span class="ruby-comment cmt">#    @format_dfmt31 = add_record(&quot;&lt;23$$$&gt;&quot;,@copies,@format_dfmt31)</span>
1634:     <span class="ruby-comment cmt">#助理</span>
1635:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
1636:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1637:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1638:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
1639:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1640:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1641:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1642:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1643:     <span class="ruby-comment cmt">#日期</span>
1644:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1645:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1646:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1647:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1648:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1649:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1650:     <span class="ruby-ivar">@code11</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1651:     <span class="ruby-ivar">@code22</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1652:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@code11</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1653:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@code22</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1654:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1655:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1656:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1657:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1658:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1659:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1660:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1661:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1662:     <span class="ruby-identifier">s27</span>=<span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
1663:     <span class="ruby-ivar">@format_dfmt31</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-identifier">s27</span>,<span class="ruby-ivar">@format_dfmt31</span>)
1664:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000266" class="method-detail">
        <a name="M000266"></a>

        <div class="method-heading">
          <a href="#M000266" class="method-signature">
          <span class="method-name">format_letter_dfmt32</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发给申请人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000266-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1666</span>
1666:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt32</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
1667:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1668:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-value str">&quot;&quot;</span>
1669:     <span class="ruby-comment cmt">#函号</span>
1670:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1671:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1672:     <span class="ruby-comment cmt">#立案号</span>
1673:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1674:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1675:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1676:     <span class="ruby-comment cmt">#申请人</span>
1677:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1678:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1679:     <span class="ruby-comment cmt">#被申请人</span>
1680:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1681:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1682:     <span class="ruby-comment cmt">#文件份数</span>
1683:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
1684:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1685:     <span class="ruby-comment cmt">#申请人交材料的日期</span>
1686:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
1687:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1688:     <span class="ruby-comment cmt">#仲裁费</span>
1689:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
1690:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-value str">&quot;人民币&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
1691:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1692:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1693:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1694:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1695: 
1696:     <span class="ruby-comment cmt">#助理</span>
1697:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
1698:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1699:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1700:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
1701:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1702:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1703:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1704:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1705:     <span class="ruby-comment cmt">#日期</span>
1706:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1707:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1708:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1709:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1710:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1711:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1712:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
1713:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
1714:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
1715:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1716:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1717:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
1718:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
1719:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
1720:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
1721:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
1722:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
1723:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1724:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1725:     <span class="ruby-keyword kw">else</span>
1726:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
1727:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
1728:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
1729:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
1730:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
1731:     <span class="ruby-keyword kw">end</span>
1732:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1733:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1734:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1735:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1736:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1737:     <span class="ruby-identifier">s26</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1738:     <span class="ruby-ivar">@format_dfmt32</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-identifier">s26</span>,<span class="ruby-ivar">@format_dfmt32</span>)
1739:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000316" class="method-detail">
        <a name="M000316"></a>

        <div class="method-heading">
          <a href="#M000316" class="method-signature">
          <span class="method-name">format_letter_dfmt90</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭笔录（独任）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000316-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000316-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5350</span>
5350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt90</span>(<span class="ruby-identifier">code</span>)
5351:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-value str">&quot;&quot;</span>
5352: 
5353:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#立案号</span>
5354:     <span class="ruby-ivar">@format_dfmt90</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5355: 
5356:     <span class="ruby-ivar">@sitting_date</span>  = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 开庭日期</span>
5357:     <span class="ruby-ivar">@format_dfmt90</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5358: 
5359:     <span class="ruby-ivar">@sitting_time</span>  = <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 开庭时间</span>
5360:     <span class="ruby-ivar">@format_dfmt90</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_time</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5361: 
5362:     <span class="ruby-ivar">@applicant</span>     = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 申请人</span>
5363:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5364: 
5365:     <span class="ruby-ivar">@respondent</span>    = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 被申请人</span>
5366:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5367: 
5368:     <span class="ruby-ivar">@independent_arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>) <span class="ruby-comment cmt">#独任仲裁员</span>
5369:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@independent_arbitrator</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5370: 
5371:     <span class="ruby-ivar">@aclerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#助理</span>
5372:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@aclerk</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5373: 
5374:     <span class="ruby-ivar">@agent1</span> = <span class="ruby-identifier">get_agent3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 申请方代理人</span>
5375:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@agent1</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5376: 
5377:     <span class="ruby-ivar">@agent2</span> = <span class="ruby-identifier">get_agent3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>) <span class="ruby-comment cmt"># 被申请方代理人</span>
5378:     <span class="ruby-ivar">@format_dfmt90</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@agent2</span>,<span class="ruby-ivar">@format_dfmt90</span>)
5379:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000317" class="method-detail">
        <a name="M000317"></a>

        <div class="method-heading">
          <a href="#M000317" class="method-signature">
          <span class="method-name">format_letter_dfmt91</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭笔录（非独任）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000317-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000317-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5382</span>
5382:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt91</span>(<span class="ruby-identifier">code</span>)
5383:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-value str">&quot;&quot;</span>
5384: 
5385:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#立案号</span>
5386:     <span class="ruby-ivar">@format_dfmt91</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5387: 
5388:     <span class="ruby-ivar">@sitting_date</span>  = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 开庭日期</span>
5389:     <span class="ruby-ivar">@format_dfmt91</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5390: 
5391:     <span class="ruby-ivar">@sitting_time</span>  = <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 开庭时间</span>
5392:     <span class="ruby-ivar">@format_dfmt91</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_time</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5393: 
5394:     <span class="ruby-ivar">@applicant</span>     = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 申请人</span>
5395:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5396: 
5397:     <span class="ruby-ivar">@respondent</span>    = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 被申请人</span>
5398:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5399: 
5400:     <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>)<span class="ruby-comment cmt">#首席仲裁员</span>
5401:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5402: 
5403:     <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0003&quot;</span>)<span class="ruby-comment cmt">#申请人仲裁员</span>
5404:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5405: 
5406:     <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0004&quot;</span>) <span class="ruby-comment cmt">#被申请人仲裁员</span>
5407:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5408: 
5409:     <span class="ruby-ivar">@aclerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#助理</span>
5410:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@aclerk</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5411: 
5412:     <span class="ruby-ivar">@agent1</span> = <span class="ruby-identifier">get_agent3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>) <span class="ruby-comment cmt"># 申请方代理人</span>
5413:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@agent1</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5414: 
5415:     <span class="ruby-ivar">@agent2</span> = <span class="ruby-identifier">get_agent3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>) <span class="ruby-comment cmt"># 被申请方代理人</span>
5416:     <span class="ruby-ivar">@format_dfmt91</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@agent2</span>,<span class="ruby-ivar">@format_dfmt91</span>)
5417: 
5418:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000318" class="method-detail">
        <a name="M000318"></a>

        <div class="method-heading">
          <a href="#M000318" class="method-signature">
          <span class="method-name">format_letter_dfmt92</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
合议笔录
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000318-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000318-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5421</span>
5421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfmt92</span>(<span class="ruby-identifier">code</span>)
5422:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-value str">&quot;&quot;</span>
5423: 
5424:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 立案号</span>
5425:     <span class="ruby-ivar">@format_dfmt92</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5426: 
5427: <span class="ruby-comment cmt">#    @comment_date  = get_commentdate(code) # 合议日期</span>
5428: <span class="ruby-comment cmt">#    @format_dfmt92 = add_record(&quot;&lt;02$$$&gt;&quot;,@comment_date,@format_dfmt92)</span>
5429: 
5430:     <span class="ruby-ivar">@comment_date</span>  = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt"># 合议日期</span>
5431:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@comment_date</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5432: 
5433:     <span class="ruby-ivar">@applicant</span>     = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 申请人</span>
5434:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5435: 
5436:     <span class="ruby-ivar">@respondent</span>    = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>) <span class="ruby-comment cmt"># 被申请人</span>
5437:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5438: 
5439:     <span class="ruby-ivar">@arbitrator</span> = <span class="ruby-value str">&quot;____&quot;</span>
5440:     <span class="ruby-identifier">aribitprog_num</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>).<span class="ruby-identifier">aribitprog_num</span>
5441:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0001&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0005&quot;</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0007&quot;</span>
5442:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#首席仲裁员</span>
5443:       <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#申请人仲裁员</span>
5444:       <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#被申请人仲裁员</span>
5445:       <span class="ruby-ivar">@arbitrator</span> = <span class="ruby-ivar">@chief_arbitrator</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@applicant_arbitrator</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@respondent_arbitrator</span>
5446:     <span class="ruby-keyword kw">else</span>
5447:       <span class="ruby-ivar">@arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#独任仲裁员</span>
5448:     <span class="ruby-keyword kw">end</span>
5449: 
5450:     <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#仲裁庭</span>
5451:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitrator</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5452: 
5453:     <span class="ruby-ivar">@aclerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>) <span class="ruby-comment cmt">#助理</span>
5454:     <span class="ruby-ivar">@format_dfmt92</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@aclerk</span>,<span class="ruby-ivar">@format_dfmt92</span>)
5455:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000267" class="method-detail">
        <a name="M000267"></a>

        <div class="method-heading">
          <a href="#M000267" class="method-signature">
          <span class="method-name">format_letter_dfor03</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000267-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000267-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1741</span>
1741:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_dfor03</span>(<span class="ruby-identifier">code</span>)
1742:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
1743:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
1744:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
1745:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
1746:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
1747:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
1748:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
1749:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
1750:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1751:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-value str">&quot;&quot;</span>
1752:     <span class="ruby-comment cmt">#申请人</span>
1753:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1754:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_dfor03</span>)
1755:     <span class="ruby-comment cmt">#被申请人</span>
1756:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1757:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_dfor03</span>)
1758:     <span class="ruby-comment cmt">#案由及类别</span>
1759:     <span class="ruby-ivar">@casetype</span> = <span class="ruby-identifier">get_casetype_num</span>(<span class="ruby-identifier">code</span>)
1760:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype</span>,<span class="ruby-ivar">@format_dfor03</span>)
1761:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1762:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
1763:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_dfor03</span>)
1764:     <span class="ruby-comment cmt">#明确争议金额</span>
1765:     <span class="ruby-ivar">@sum_1</span> = <span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
1766:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1767:     <span class="ruby-comment cmt">#不明确争议金额 RMB  USD  HKD</span>
1768:     <span class="ruby-ivar">@sum_2</span>=<span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
1769:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_2</span>,<span class="ruby-ivar">@format_dfor03</span>)
1770:     <span class="ruby-comment cmt">####################</span>
1771:     <span class="ruby-ivar">@casetype_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
1772:     <span class="ruby-ivar">@num</span>=<span class="ruby-ivar">@casetype_num</span>.<span class="ruby-identifier">aribitprog_num</span>
1773:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
1774:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;普通程序&quot;</span>
1775:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>
1776:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;简易程序&quot;</span>
1777:     <span class="ruby-keyword kw">else</span>
1778:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;金融规则&quot;</span>
1779:     <span class="ruby-keyword kw">end</span>
1780:     <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">get_contract_date</span>(<span class="ruby-identifier">code</span>)
1781:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_dfor03</span>)
1782:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@num1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1783:     <span class="ruby-ivar">@casetype2</span> = <span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
1784:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype2</span>,<span class="ruby-ivar">@format_dfor03</span>)
1785:     <span class="ruby-comment cmt">#13，14，15 明确、不明确费用</span>
1786:     <span class="ruby-ivar">@litigation_fee20</span>=<span class="ruby-identifier">get_litigation_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-comment cmt">#明确,不明确争议金额的  受理费 减 减免</span>
1787:     <span class="ruby-ivar">@processing_fee20</span>=<span class="ruby-identifier">get_processing_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-comment cmt">#......处理费 减 减免</span>
1788:     <span class="ruby-ivar">@total_money1</span>=<span class="ruby-ivar">@litigation_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee20</span><span class="ruby-comment cmt">#合计</span>
1789:     <span class="ruby-comment cmt">##16，17，18  无明确的案件收费费用</span>
1790:     <span class="ruby-ivar">@litigation_fee30</span>=<span class="ruby-identifier">get_litigation_fee2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0002</span><span class="ruby-comment cmt">#无明确争议金额的 受理费 减 减免</span>
1791:     <span class="ruby-ivar">@processing_fee30</span>=<span class="ruby-identifier">get_processing_fee2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span><span class="ruby-comment cmt">#....处理费 减 减免</span>
1792:     <span class="ruby-ivar">@total_money30</span>=<span class="ruby-ivar">@litigation_fee30</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee30</span><span class="ruby-comment cmt">#合计</span>
1793:     <span class="ruby-comment cmt">#6，7，8  受理费、处理费分别的合计</span>
1794:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-ivar">@litigation_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@litigation_fee30</span>
1795:     <span class="ruby-ivar">@processing_fee</span>=<span class="ruby-ivar">@processing_fee20</span><span class="ruby-operator">+</span><span class="ruby-ivar">@processing_fee30</span>
1796:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-ivar">@litigation_fee</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@processing_fee</span>
1797:     <span class="ruby-comment cmt">#以上结果数字分割</span>
1798:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
1799:     <span class="ruby-ivar">@processing_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee</span>)
1800:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
1801: 
1802:     <span class="ruby-ivar">@litigation_fee2</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee20</span>)
1803:     <span class="ruby-ivar">@processing_fee2</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee20</span>)
1804:     <span class="ruby-ivar">@total_money</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_money1</span>)
1805:     <span class="ruby-ivar">@litigation_fee3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee30</span>)
1806:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation_fee3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1807:       <span class="ruby-ivar">@litigation_fee3</span>=<span class="ruby-value str">&quot;&quot;</span>
1808:     <span class="ruby-keyword kw">end</span>
1809:     <span class="ruby-ivar">@processing_fee3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@processing_fee30</span>)
1810:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing_fee3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1811:       <span class="ruby-ivar">@processing_fee3</span>=<span class="ruby-value str">&quot;&quot;</span>
1812:     <span class="ruby-keyword kw">end</span>
1813:     <span class="ruby-ivar">@total_money3</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_money30</span>)
1814:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@total_money3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
1815:       <span class="ruby-ivar">@total_money3</span>=<span class="ruby-value str">&quot;&quot;</span>
1816:     <span class="ruby-keyword kw">end</span>
1817:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_dfor03</span>)
1818:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee</span>,<span class="ruby-ivar">@format_dfor03</span>)
1819:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_dfor03</span>)
1820:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_money</span>,<span class="ruby-ivar">@format_dfor03</span>)
1821:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee2</span>,<span class="ruby-ivar">@format_dfor03</span>)
1822:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee2</span>,<span class="ruby-ivar">@format_dfor03</span>)
1823:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_money3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1824:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1825:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@processing_fee3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1826:     <span class="ruby-ivar">@con_year3</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)
1827:     <span class="ruby-ivar">@con_month3</span>=<span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)
1828:     <span class="ruby-ivar">@con_day3</span>=<span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)
1829:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@con_year3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1830:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@con_month3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1831:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@con_day3</span>,<span class="ruby-ivar">@format_dfor03</span>)
1832:     <span class="ruby-ivar">@sty1</span> = <span class="ruby-identifier">get_orgstyle</span>(<span class="ruby-identifier">code</span>)
1833:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@sty1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1834:     <span class="ruby-ivar">@nu1</span> = <span class="ruby-identifier">get_number11</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
1835:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1836:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1837:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1838:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_dfor03</span>)
1839:     <span class="ruby-ivar">@re</span> = <span class="ruby-identifier">get_remark</span>(<span class="ruby-identifier">code</span>)
1840:     <span class="ruby-ivar">@format_dfor03</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@re</span>,<span class="ruby-ivar">@format_dfor03</span>)
1841:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000251" class="method-detail">
        <a name="M000251"></a>

        <div class="method-heading">
          <a href="#M000251" class="method-signature">
          <span class="method-name">format_letter_fmt01</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000251-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000251-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt01</span>(<span class="ruby-identifier">code</span>)
275:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-value str">&quot;&quot;</span>
276:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
277:     <span class="ruby-ivar">@caseend</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
278:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseend!</span>=<span class="ruby-keyword kw">nil</span>
279:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@caseend</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
280:       <span class="ruby-identifier">rep1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]
281:       <span class="ruby-ivar">@endStyle</span>=<span class="ruby-ivar">@caseend</span>.<span class="ruby-identifier">endStyle</span>
282:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endStyle</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
283:         <span class="ruby-identifier">str2</span> = <span class="ruby-value str">&quot;裁&quot;</span>
284:         <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;裁决&quot;</span>
285:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@endStyle</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
286:         <span class="ruby-identifier">str2</span> = <span class="ruby-value str">&quot;裁&quot;</span>
287:         <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;和解裁决&quot;</span>
288:       <span class="ruby-keyword kw">else</span>
289:         <span class="ruby-identifier">str2</span> = <span class="ruby-value str">&quot;撤&quot;</span>
290:         <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;撤案&quot;</span>
291:       <span class="ruby-keyword kw">end</span>
292:       <span class="ruby-identifier">str3</span> = <span class="ruby-ivar">@caseend</span>.<span class="ruby-identifier">file_arbitBookNum</span>
293:     <span class="ruby-keyword kw">else</span>
294:       <span class="ruby-identifier">rep1</span>=<span class="ruby-value str">&quot;_____&quot;</span>
295:       <span class="ruby-identifier">str2</span> = <span class="ruby-value str">&quot;裁/撤&quot;</span>
296:       <span class="ruby-identifier">str3</span> = <span class="ruby-value str">&quot;_____&quot;</span>
297:       <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;裁决/撤案/和解裁决&quot;</span>
298:     <span class="ruby-keyword kw">end</span>
299:     <span class="ruby-ivar">@general_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">general_code</span>
300:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@general_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
301:       <span class="ruby-identifier">str4</span> = <span class="ruby-ivar">@general_code</span>.<span class="ruby-identifier">to_i</span>
302:     <span class="ruby-keyword kw">else</span>
303:       <span class="ruby-identifier">str4</span> = <span class="ruby-value str">&quot;_____&quot;</span>
304:     <span class="ruby-keyword kw">end</span>
305:     <span class="ruby-ivar">@nowdate</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>
306:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@nowdate!</span>=<span class="ruby-keyword kw">nil</span>
307:       <span class="ruby-identifier">str5</span> = <span class="ruby-ivar">@nowdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
308:       <span class="ruby-identifier">rep5</span> = <span class="ruby-identifier">str5</span>[<span class="ruby-value">0</span>]
309:     <span class="ruby-keyword kw">else</span>
310:       <span class="ruby-identifier">rep5</span> = <span class="ruby-value str">&quot;_____&quot;</span>
311:     <span class="ruby-keyword kw">end</span>
312:     <span class="ruby-identifier">str6</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>
313:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str6</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">str6</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
314:       <span class="ruby-identifier">str6</span> = <span class="ruby-value str">&quot;_____&quot;</span>
315:     <span class="ruby-keyword kw">end</span>
316:     <span class="ruby-identifier">str7</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">dispute_type</span>
317:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str7</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">str7</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
318:       <span class="ruby-identifier">str7</span> = <span class="ruby-value str">&quot;________________&quot;</span>
319:     <span class="ruby-keyword kw">end</span>
320:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">rep1</span>,<span class="ruby-ivar">@format_fmt01</span>)
321:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">str2</span>,<span class="ruby-ivar">@format_fmt01</span>)
322:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">str3</span>,<span class="ruby-ivar">@format_fmt01</span>)
323:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">str4</span>,<span class="ruby-ivar">@format_fmt01</span>)
324:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">rep5</span>,<span class="ruby-ivar">@format_fmt01</span>)
325:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_fmt01</span>)
326:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">str7</span>,<span class="ruby-ivar">@format_fmt01</span>)
327:     <span class="ruby-ivar">@format_fmt01</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">str8</span>,<span class="ruby-ivar">@format_fmt01</span>)
328:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000252" class="method-detail">
        <a name="M000252"></a>

        <div class="method-heading">
          <a href="#M000252" class="method-signature">
          <span class="method-name">format_letter_fmt02_1</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000252-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000252-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 329</span>
329:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt02_1</span>(<span class="ruby-identifier">code</span>)
330:     <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-value str">&quot;&quot;</span>
331:     <span class="ruby-ivar">@case</span>= <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
332:     <span class="ruby-ivar">@r1</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;   &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">dispute_type</span>
333:     <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@r1</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
334:     <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant_f</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>),<span class="ruby-ivar">@format_fmt02_1</span>)
335:     <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant_f</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>),<span class="ruby-ivar">@format_fmt02_1</span>)
336:     <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt02_1</span>)
337:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">receivedate!</span>=<span class="ruby-keyword kw">nil</span>
338:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">receivedate</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
339:     <span class="ruby-keyword kw">else</span>
340:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
341:     <span class="ruby-keyword kw">end</span>
342:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">accepttime!</span>=<span class="ruby-keyword kw">nil</span>
343:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">accepttime</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
344:     <span class="ruby-keyword kw">else</span>
345:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
346:     <span class="ruby-keyword kw">end</span>
347:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate!</span>=<span class="ruby-keyword kw">nil</span>
348:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
349:     <span class="ruby-keyword kw">else</span>
350:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
351:     <span class="ruby-keyword kw">end</span>
352:     <span class="ruby-ivar">@caseorg</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
353:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseorg!</span>=<span class="ruby-keyword kw">nil</span>
354:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
355:     <span class="ruby-keyword kw">else</span>
356:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;未组庭&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
357:     <span class="ruby-keyword kw">end</span>
358:     <span class="ruby-ivar">@caseend</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
359:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseend!</span>=<span class="ruby-keyword kw">nil</span>
360:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@caseend</span>.<span class="ruby-identifier">decideDate</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
361:     <span class="ruby-keyword kw">else</span>
362:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
363:     <span class="ruby-keyword kw">end</span>
364:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk!</span>=<span class="ruby-value str">&quot;&quot;</span>
365:       <span class="ruby-ivar">@zl</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>])
366:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>.<span class="ruby-identifier">name</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
367:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>.<span class="ruby-identifier">name</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
368:     <span class="ruby-keyword kw">else</span>
369:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
370:       <span class="ruby-ivar">@format_fmt02_1</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_1</span>)
371:     <span class="ruby-keyword kw">end</span>
372:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000253" class="method-detail">
        <a name="M000253"></a>

        <div class="method-heading">
          <a href="#M000253" class="method-signature">
          <span class="method-name">format_letter_fmt02_2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
普通程序
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000253-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000253-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt02_2</span>(<span class="ruby-identifier">code</span>)
375:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-value str">&quot;&quot;</span>
376:     <span class="ruby-ivar">@case</span>= <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
377:     <span class="ruby-ivar">@r1</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;   &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">dispute_type</span>
378:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@r1</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
379:     <span class="ruby-ivar">@app1</span> = <span class="ruby-identifier">applicant_f</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
380:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@app1</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
381:     <span class="ruby-ivar">@app2</span> = <span class="ruby-identifier">applicant_f</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
382:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@app2</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
383:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt02_2</span>)
384:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt02_2</span>)
385:     <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt02_2</span>)
386:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">receivedate!</span>=<span class="ruby-keyword kw">nil</span>
387:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">receivedate</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
388:     <span class="ruby-keyword kw">else</span>
389:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
390:     <span class="ruby-keyword kw">end</span>
391:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">accepttime!</span>=<span class="ruby-keyword kw">nil</span>
392:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">accepttime</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
393:     <span class="ruby-keyword kw">else</span>
394:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
395:     <span class="ruby-keyword kw">end</span>
396:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate!</span>=<span class="ruby-keyword kw">nil</span>
397:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
398:     <span class="ruby-keyword kw">else</span>
399:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
400:     <span class="ruby-keyword kw">end</span>
401:     <span class="ruby-ivar">@caseorg</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
402:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseorg!</span>=<span class="ruby-keyword kw">nil</span>
403:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
404:     <span class="ruby-keyword kw">else</span>
405:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;未组庭&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
406:     <span class="ruby-keyword kw">end</span>
407:     <span class="ruby-ivar">@caseend</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
408:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseend!</span>=<span class="ruby-keyword kw">nil</span>
409:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@caseend</span>.<span class="ruby-identifier">decideDate</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
410:     <span class="ruby-keyword kw">else</span>
411:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
412:     <span class="ruby-keyword kw">end</span>
413:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk!</span>=<span class="ruby-value str">&quot;&quot;</span>
414:       <span class="ruby-ivar">@zl</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>])
415:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>.<span class="ruby-identifier">name</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
416:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>.<span class="ruby-identifier">name</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
417:     <span class="ruby-keyword kw">else</span>
418:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
419:       <span class="ruby-ivar">@format_fmt02_2</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-ivar">@format_fmt02_2</span>)
420:     <span class="ruby-keyword kw">end</span>
421:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000254" class="method-detail">
        <a name="M000254"></a>

        <div class="method-heading">
          <a href="#M000254" class="method-signature">
          <span class="method-name">format_letter_fmt03</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
程序报告
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000254-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000254-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 424</span>
424:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt03</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
425:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-value str">&quot;&quot;</span>
426: 
427:     <span class="ruby-identifier">current_case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>])
428:     <span class="ruby-identifier">case_code</span> = <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">case_code</span> <span class="ruby-comment cmt"># 立案号</span>
429:     <span class="ruby-identifier">aribitprog_num</span> = <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-comment cmt"># 仲裁程序编码</span>
430:     <span class="ruby-identifier">nowdate</span> = <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">nowdate</span> <span class="ruby-comment cmt"># 立案日期</span>
431: 
432:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>, <span class="ruby-identifier">case_code</span>, <span class="ruby-identifier">format_fmt03</span>)
433: 
434:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt"># 国内普通</span>
435:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;国内&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
436:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;普通&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
437:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span>
438:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;国内&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
439:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;简易&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
440:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0003'</span>
441:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;涉外&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
442:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;普通&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
443:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0004'</span>
444:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;涉外&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
445:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;简易&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
446:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0006'</span>
447:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;国内&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
448:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;金融规则1人&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
449:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0008'</span>
450:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;国内&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
451:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;金融规则3人&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
452:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0007'</span>
453:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;涉外&quot;</span>,<span class="ruby-identifier">format_fmt03</span>)
454:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;金融规则3人&quot;</span>,<span class="ruby-identifier">format_fmt03</span>)
455:     <span class="ruby-keyword kw">else</span>
456:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;涉外&quot;</span>,<span class="ruby-identifier">format_fmt03</span>)
457:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;金融规则1人&quot;</span>,<span class="ruby-identifier">format_fmt03</span>)
458:     <span class="ruby-keyword kw">end</span>
459: 
460:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">nowdate</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
461:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">nowdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
462:       <span class="ruby-identifier">str6</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
463:     <span class="ruby-keyword kw">else</span>
464:       <span class="ruby-identifier">str6</span> = <span class="ruby-value str">&quot;______年___月___日&quot;</span>
465:     <span class="ruby-keyword kw">end</span>
466: 
467:     <span class="ruby-comment cmt">#仲裁通知日期修改为开庭日期</span>
468:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-identifier">format_fmt03</span>)
469: 
470:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">accepttime</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt"># 受理日期</span>
471:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">accepttime</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
472:       <span class="ruby-identifier">accepttime</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
473:     <span class="ruby-keyword kw">else</span>
474:       <span class="ruby-identifier">accepttime</span> = <span class="ruby-value str">&quot;______年___月___日&quot;</span>
475:     <span class="ruby-keyword kw">end</span>
476: 
477:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-identifier">accepttime</span>, <span class="ruby-identifier">format_fmt03</span>)
478: 
479:     <span class="ruby-comment cmt"># 仲裁费用是否已经缴清</span>
480:     <span class="ruby-identifier">shouldc</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>)
481:     <span class="ruby-identifier">tsc</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(
482:       <span class="ruby-identifier">:first</span>,
483:       <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;sum(rmb_money-re_rmb_money-redu_rmb_money) as s1&quot;</span>,
484:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and (typ='0001' or typ='0004')&quot;</span>, <span class="ruby-identifier">code</span>]
485:     )
486:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tsc</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
487:       <span class="ruby-ivar">@sss</span> = <span class="ruby-identifier">tsc</span>.<span class="ruby-identifier">s1</span>.<span class="ruby-identifier">to_i</span>
488:     <span class="ruby-keyword kw">else</span>
489:       <span class="ruby-ivar">@sss</span> = <span class="ruby-value">0</span>
490:     <span class="ruby-keyword kw">end</span>
491: 
492:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">shouldc</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">shouldc</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
493:       <span class="ruby-identifier">contents</span> = <span class="ruby-value str">&quot;未&quot;</span>
494:     <span class="ruby-keyword kw">end</span>
495: 
496:     <span class="ruby-identifier">contents</span> = <span class="ruby-ivar">@sss</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;未&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;已&quot;</span>
497: 
498:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">contents</span>,<span class="ruby-identifier">format_fmt03</span>)
499: 
500:     <span class="ruby-comment cmt">#财产保全(申请人，被申请人)-----------------------------</span>
501:     <span class="ruby-identifier">tsave1</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(
502:       <span class="ruby-identifier">:first</span>,
503:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>]
504:     ) <span class="ruby-comment cmt"># 申请人 财产保全</span>
505:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tsave1</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
506:       <span class="ruby-identifier">send_time1</span> = <span class="ruby-identifier">tsave1</span>.<span class="ruby-identifier">send_time</span>
507:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">send_time1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
508:       <span class="ruby-identifier">send_time1</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tsave1</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出财产保全申请&quot;</span>
509:     <span class="ruby-keyword kw">else</span>
510:       <span class="ruby-identifier">send_time1</span> = <span class="ruby-value str">&quot;申请人/被申请人于_____年___月__日提出财产保全申请&quot;</span>
511:     <span class="ruby-keyword kw">end</span>
512:     <span class="ruby-identifier">tsave2</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(
513:       <span class="ruby-identifier">:first</span>,
514:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0002'</span>]
515:     ) <span class="ruby-comment cmt"># 被申请人 财产保全</span>
516:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tsave2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
517:       <span class="ruby-identifier">send_time2</span> = <span class="ruby-identifier">tsave2</span>.<span class="ruby-identifier">send_time</span>
518:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">send_time2</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
519:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">send_time1</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
520:         <span class="ruby-identifier">send_time2</span> = <span class="ruby-value str">&quot;，被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tsave2</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span>
521:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出财产保全申请&quot;</span>
522:       <span class="ruby-keyword kw">else</span>
523:         <span class="ruby-identifier">send_time2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tsave2</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span>
524:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出财产保全申请&quot;</span>
525:       <span class="ruby-keyword kw">end</span>
526:     <span class="ruby-keyword kw">else</span>
527:       <span class="ruby-identifier">send_time2</span> = <span class="ruby-value str">&quot;&quot;</span>
528:     <span class="ruby-keyword kw">end</span>
529:     <span class="ruby-identifier">str7</span> = <span class="ruby-identifier">send_time1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">send_time2</span>
530:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">str7</span>,<span class="ruby-identifier">format_fmt03</span>)
531: 
532:     <span class="ruby-comment cmt">#证据保全(申请人，被申请人)--------------------------------------------</span>
533:     <span class="ruby-identifier">save1</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(
534:       <span class="ruby-identifier">:first</span>,
535:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0001'</span>]
536:     ) <span class="ruby-comment cmt"># 申请人 证据保全</span>
537:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">save1</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
538:       <span class="ruby-identifier">s_time1</span> = <span class="ruby-identifier">save1</span>.<span class="ruby-identifier">send_time</span>
539:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">s_time1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
540:       <span class="ruby-identifier">s_time1</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">save1</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出证据保全申请&quot;</span>
541:     <span class="ruby-keyword kw">else</span>
542:       <span class="ruby-identifier">s_time1</span> = <span class="ruby-value str">&quot;申请人/被申请人于_____年___月__日提出证据保全申请&quot;</span>
543:     <span class="ruby-keyword kw">end</span>
544:     <span class="ruby-identifier">save2</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(
545:       <span class="ruby-identifier">:first</span>,
546:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>]
547:     ) <span class="ruby-comment cmt"># 被申请人 证据保全</span>
548:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">save2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
549:       <span class="ruby-identifier">s_time2</span> = <span class="ruby-identifier">save2</span>.<span class="ruby-identifier">send_time</span>
550:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">s_time2</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
551:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s_time1</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
552:         <span class="ruby-identifier">s_time2</span> = <span class="ruby-value str">&quot;，被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">save2</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出证据保全申请&quot;</span>
553:       <span class="ruby-keyword kw">else</span>
554:         <span class="ruby-identifier">s_time2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>   <span class="ruby-operator">+</span> <span class="ruby-identifier">save2</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出证据保全申请&quot;</span>
555:       <span class="ruby-keyword kw">end</span>
556:     <span class="ruby-keyword kw">else</span>
557:       <span class="ruby-identifier">s_time2</span> = <span class="ruby-value str">&quot;&quot;</span>
558:     <span class="ruby-keyword kw">end</span>
559:     <span class="ruby-identifier">str8</span> = <span class="ruby-identifier">s_time1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">s_time2</span>
560:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>, <span class="ruby-identifier">str8</span>, <span class="ruby-identifier">format_fmt03</span>)
561: 
562:     <span class="ruby-comment cmt">#被申请人于    年    月    日提出管辖权异议。仲裁委员会于       年     月    日作出决定</span>
563:     <span class="ruby-identifier">jurisdiction</span> = <span class="ruby-constant">TbJurisdiction</span>.<span class="ruby-identifier">find</span>(
564:       <span class="ruby-identifier">:first</span>,
565:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and submitman='0002'&quot;</span>,<span class="ruby-identifier">code</span>]
566:     )
567:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">jurisdiction</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
568:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">jurisdiction</span>.<span class="ruby-identifier">request_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
569:       <span class="ruby-identifier">arr_date2</span> = <span class="ruby-identifier">jurisdiction</span>.<span class="ruby-identifier">decide_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
570:       <span class="ruby-identifier">str9</span> = <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jurisdiction</span>.<span class="ruby-identifier">request_man</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span>
571:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提出管辖权异议。仲裁委员会于&quot;</span> <span class="ruby-operator">+</span>
572:         <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日作出决定&quot;</span>
573:     <span class="ruby-keyword kw">else</span>
574:       <span class="ruby-identifier">str9</span> = <span class="ruby-value str">&quot;被申请人于_____年___月___日提出管辖权异议。仲裁委员会尚未作出决定&quot;</span>
575:     <span class="ruby-keyword kw">end</span>
576:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>, <span class="ruby-identifier">str9</span>, <span class="ruby-identifier">format_fmt03</span>)
577: 
578:     <span class="ruby-comment cmt">#被申请人于    年    月    日提交了答辩，于    年    月   日提出了反请求</span>
579:     <span class="ruby-ivar">@requ</span> = <span class="ruby-constant">TbPartyrequest</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2&quot;</span>, <span class="ruby-identifier">code</span>])
580:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@requ</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
581:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@requ</span>.<span class="ruby-identifier">requestdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
582:       <span class="ruby-identifier">str101</span> = <span class="ruby-value str">'\r    '</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;4．被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提交了答辩&quot;</span>
583:     <span class="ruby-keyword kw">else</span>
584:       <span class="ruby-identifier">str101</span> = <span class="ruby-value str">&quot;&quot;</span>
585:     <span class="ruby-keyword kw">end</span>
586: 
587:     <span class="ruby-ivar">@ans</span> = <span class="ruby-constant">TbPartyanswer</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2&quot;</span>,<span class="ruby-identifier">code</span>])
588:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ans</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
589:       <span class="ruby-identifier">arr_date2</span> = <span class="ruby-ivar">@ans</span>.<span class="ruby-identifier">receivedate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
590:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str101</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
591:         <span class="ruby-identifier">str102</span> = <span class="ruby-value str">&quot;，于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提交了反请求。&quot;</span>
592:       <span class="ruby-keyword kw">else</span>
593:         <span class="ruby-identifier">str102</span> = <span class="ruby-value str">'\r    '</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;4．被申请人于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日提交了反请求。&quot;</span>
594:       <span class="ruby-keyword kw">end</span>
595:     <span class="ruby-keyword kw">else</span>
596:       <span class="ruby-identifier">str102</span> = <span class="ruby-value str">&quot;&quot;</span>
597:     <span class="ruby-keyword kw">end</span>
598:     <span class="ruby-identifier">str10</span> = <span class="ruby-identifier">str101</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">str102</span>
599:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>, <span class="ruby-identifier">str10</span>, <span class="ruby-identifier">format_fmt03</span>)
600: 
601:     <span class="ruby-comment cmt"># 仲裁员</span>
602:     <span class="ruby-identifier">str19</span> = <span class="ruby-value str">&quot;&quot;</span>
603:     <span class="ruby-ivar">@adjudgebrike</span> = <span class="ruby-constant">TbAdjudgebrike</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>])
604:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str10</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
605:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>, <span class="ruby-value">6</span>, <span class="ruby-identifier">format_fmt03</span>)
606:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>, <span class="ruby-value">7</span>, <span class="ruby-identifier">format_fmt03</span>)
607:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@adjudgebrike</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
608:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@adjudgebrike</span>
609:           <span class="ruby-identifier">str_19</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(
610:             <span class="ruby-identifier">:first</span>,
611:             <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;typ_code='8106' and state='Y' and used='Y' and data_val=?&quot;</span>, <span class="ruby-identifier">s</span>.<span class="ruby-identifier">requestman_type</span>]
612:           ).<span class="ruby-identifier">data_text</span>
613:           <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
614:           <span class="ruby-identifier">end_date10</span> = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
615:           <span class="ruby-identifier">end_date1</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
616:           <span class="ruby-identifier">end_date2</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
617:           <span class="ruby-identifier">change_1</span> = <span class="ruby-identifier">end_date10</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date2</span>
618:           <span class="ruby-identifier">str19</span> = <span class="ruby-identifier">str_19</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;要求在&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;中止仲裁程序&quot;</span>
619:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">start_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
620:             <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
621:             <span class="ruby-identifier">end_date10</span> = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
622:             <span class="ruby-identifier">end_date1</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
623:             <span class="ruby-identifier">end_date2</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
624:             <span class="ruby-identifier">change_1</span> = <span class="ruby-identifier">end_date10</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date2</span>
625:             <span class="ruby-identifier">str19</span>=<span class="ruby-identifier">str19</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;，&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;恢复仲裁程序&quot;</span>
626:           <span class="ruby-keyword kw">end</span>
627:         <span class="ruby-keyword kw">end</span>
628:       <span class="ruby-keyword kw">end</span>
629:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str19</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
630:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;8．&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
631:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;9&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
632:       <span class="ruby-keyword kw">else</span>
633:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
634:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;8&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
635:       <span class="ruby-keyword kw">end</span>
636:     <span class="ruby-keyword kw">else</span>
637:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>, <span class="ruby-value">5</span>, <span class="ruby-identifier">format_fmt03</span>)
638:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>, <span class="ruby-value">6</span>, <span class="ruby-identifier">format_fmt03</span>)
639:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@adjudgebrike</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
640:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@adjudgebrike</span>
641:           <span class="ruby-identifier">str_19</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(
642:             <span class="ruby-identifier">:first</span>,
643:             <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;typ_code='8106' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">requestman_type</span>]
644:           ).<span class="ruby-identifier">data_text</span> <span class="ruby-comment cmt"># 要求终止仲裁程序的一方 （0001:法院  0002:当事人）</span>
645:           <span class="ruby-identifier">end_date</span>   = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
646:           <span class="ruby-identifier">end_date10</span> = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
647:           <span class="ruby-identifier">end_date1</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
648:           <span class="ruby-identifier">end_date2</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
649:           <span class="ruby-identifier">change_1</span>   = <span class="ruby-identifier">end_date10</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date2</span>
650:           <span class="ruby-identifier">str19</span> = <span class="ruby-identifier">str_19</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;要求在&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;中止仲裁程序&quot;</span>
651:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">start_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
652:             <span class="ruby-identifier">end_date</span>   = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
653:             <span class="ruby-identifier">end_date10</span> = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
654:             <span class="ruby-identifier">end_date1</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
655:             <span class="ruby-identifier">end_date2</span>  = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
656:             <span class="ruby-identifier">change_1</span>   = <span class="ruby-identifier">end_date10</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date2</span>
657:             <span class="ruby-identifier">str19</span> = <span class="ruby-identifier">str19</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;，&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;恢复仲裁程序&quot;</span>
658:           <span class="ruby-keyword kw">end</span>
659:         <span class="ruby-keyword kw">end</span>
660:       <span class="ruby-keyword kw">end</span>
661:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str19</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
662:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;7．&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
663:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;8&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
664:       <span class="ruby-keyword kw">else</span>
665:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
666:         <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;7&quot;</span>, <span class="ruby-identifier">format_fmt03</span>)
667:       <span class="ruby-keyword kw">end</span>
668:     <span class="ruby-keyword kw">end</span>
669:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-identifier">str19</span>,<span class="ruby-identifier">format_fmt03</span>)
670: 
671:     <span class="ruby-comment cmt"># 仲裁庭组成情况</span>
672:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0004'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0006'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0008'</span>
673:       <span class="ruby-identifier">str11</span> = <span class="ruby-value str">&quot;仲裁庭组成情况：由本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任独任仲裁员&quot;</span>
674:     <span class="ruby-keyword kw">else</span>
675:       <span class="ruby-comment cmt"># 申请人的仲裁员</span>
676:       <span class="ruby-identifier">arbit_man1</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;</span>, <span class="ruby-identifier">code</span>, <span class="ruby-value str">'0003'</span>])
677:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbit_man1</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
678:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbit_man1</span>.<span class="ruby-identifier">arbitmansign</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">'0005'</span> <span class="ruby-comment cmt"># 代指定</span>
679:           <span class="ruby-identifier">stra</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;state='Y' and typ_code='0015'&quot;</span>,<span class="ruby-value str">'0003'</span>]).<span class="ruby-identifier">data_text</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
680:         <span class="ruby-keyword kw">else</span>
681:           <span class="ruby-identifier">stra</span> = <span class="ruby-value str">&quot;本会主任代申请人指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
682:         <span class="ruby-keyword kw">end</span>
683:       <span class="ruby-keyword kw">else</span>
684:         <span class="ruby-identifier">stra</span> = <span class="ruby-value str">&quot;申请人选定_____作为本案仲裁员&quot;</span>
685:       <span class="ruby-keyword kw">end</span>
686:       <span class="ruby-comment cmt"># 被申请人的仲裁员</span>
687:       <span class="ruby-identifier">arbit_man2</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;</span>, <span class="ruby-identifier">code</span>, <span class="ruby-value str">'0004'</span>])
688:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbit_man2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
689:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbit_man2</span>.<span class="ruby-identifier">arbitmansign</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">'0005'</span> <span class="ruby-comment cmt"># 代指定</span>
690:           <span class="ruby-identifier">strb</span> = <span class="ruby-value str">&quot;，被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;state='Y' and typ_code='0015'&quot;</span>,<span class="ruby-value str">'0004'</span>]).<span class="ruby-identifier">data_text</span><span class="ruby-operator">+</span><span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
691:         <span class="ruby-keyword kw">else</span>
692:           <span class="ruby-identifier">strb</span> = <span class="ruby-value str">&quot;，本会主任代被申请人指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
693:         <span class="ruby-keyword kw">end</span>
694:       <span class="ruby-keyword kw">else</span>
695:         <span class="ruby-identifier">strb</span> = <span class="ruby-value str">&quot;，被申请人选定_____作为本案仲裁员&quot;</span>
696:       <span class="ruby-keyword kw">end</span>
697:       <span class="ruby-identifier">str11</span> = <span class="ruby-value str">&quot;仲裁庭组成情况：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">stra</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">strb</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;，由本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任首席仲裁员&quot;</span>
698:     <span class="ruby-keyword kw">end</span>
699: 
700:     <span class="ruby-comment cmt"># 仲裁员更换</span>
701:     <span class="ruby-identifier">change</span> = <span class="ruby-value str">&quot;&quot;</span>
702:     <span class="ruby-identifier">tb_change</span> = <span class="ruby-constant">TbChange</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>])
703:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">ch</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">tb_change</span>
704:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ch</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
705:         <span class="ruby-identifier">ar1</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>, <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">arbitman_1</span>]) <span class="ruby-comment cmt"># 更换前的仲裁员</span>
706:         <span class="ruby-identifier">ar2</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>, <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">arbitman</span>])   <span class="ruby-comment cmt"># 更换后的仲裁员</span>
707:         <span class="ruby-identifier">end_date</span>   = <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">changedate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
708:         <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
709:         <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
710:         <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
711:         <span class="ruby-identifier">change_1</span>   = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>]
712:         <span class="ruby-identifier">change_2</span>   = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;state='Y' and typ_code='0014' and data_val=?&quot;</span>,<span class="ruby-identifier">ch</span>.<span class="ruby-identifier">arbitmantype</span>]).<span class="ruby-identifier">data_text</span>
713:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar1</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
714:           <span class="ruby-identifier">change_3</span> = <span class="ruby-identifier">ar1</span>.<span class="ruby-identifier">name</span>
715:         <span class="ruby-keyword kw">end</span>
716:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
717:           <span class="ruby-identifier">change_4</span> = <span class="ruby-identifier">ar2</span>.<span class="ruby-identifier">name</span>
718:         <span class="ruby-keyword kw">end</span>
719:         <span class="ruby-identifier">change</span> = <span class="ruby-identifier">change</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;，&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_3</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;更换为&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change_4</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;）&quot;</span>
720:       <span class="ruby-keyword kw">end</span>
721:     <span class="ruby-keyword kw">end</span>
722:     <span class="ruby-identifier">str11</span> = <span class="ruby-identifier">str11</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">change</span>
723:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">str11</span>,<span class="ruby-identifier">format_fmt03</span>)
724: 
725:     <span class="ruby-comment cmt">#&lt;12$$$&gt;仲裁庭于   年  月   日组成，定于   年   月    日开庭</span>
726:     <span class="ruby-ivar">@case_date</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id desc&quot;</span>)
727:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
728:       <span class="ruby-identifier">end_date</span>    = <span class="ruby-ivar">@case_date</span>.<span class="ruby-identifier">orgdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
729:       <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span>
730:       <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span>
731:       <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>] = <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
732:       <span class="ruby-ivar">@org_date</span> = <span class="ruby-value str">&quot;仲裁庭于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;组成&quot;</span>
733:     <span class="ruby-keyword kw">else</span>
734:       <span class="ruby-ivar">@org_date</span> = <span class="ruby-value str">&quot;仲裁庭于_____年___月___日组成&quot;</span>
735:     <span class="ruby-keyword kw">end</span>
736:     <span class="ruby-comment cmt">#-----------------------</span>
737:     <span class="ruby-ivar">@sittingdate</span> = <span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id desc&quot;</span>)
738:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
739:       <span class="ruby-ivar">@sdate</span>  = <span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">sittingdate</span>
740:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@sdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
741:       <span class="ruby-ivar">@sdate</span> = <span class="ruby-value str">&quot;，定于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日开庭&quot;</span>
742:     <span class="ruby-keyword kw">else</span>
743:       <span class="ruby-ivar">@sdate</span> = <span class="ruby-value str">&quot;，定于____年__月__日开庭&quot;</span>
744:     <span class="ruby-keyword kw">end</span>
745:     <span class="ruby-identifier">str12</span> = <span class="ruby-ivar">@org_date</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@sdate</span>
746:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>, <span class="ruby-identifier">str12</span>, <span class="ruby-identifier">format_fmt03</span>)
747: 
748:     <span class="ruby-comment cmt"># 申请人/被申请人于  年 月 日提出仲裁员回避申请。本会主任于  年 月 日作出决定</span>
749:     <span class="ruby-ivar">@evite</span> = <span class="ruby-constant">TbEvite</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id desc&quot;</span>)
750:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@evite</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
751:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@evite</span>.<span class="ruby-identifier">requestdate</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
752:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@evite</span>.<span class="ruby-identifier">requestdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
753:         <span class="ruby-identifier">d1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
754:       <span class="ruby-keyword kw">else</span>
755:         <span class="ruby-identifier">d1</span> = <span class="ruby-value str">&quot;____年__月__日&quot;</span>
756:       <span class="ruby-keyword kw">end</span>
757:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@evite</span>.<span class="ruby-identifier">dat3</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
758:         <span class="ruby-identifier">arr_date2</span> = <span class="ruby-ivar">@evite</span>.<span class="ruby-identifier">dat3</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
759:         <span class="ruby-identifier">d2</span> = <span class="ruby-value str">&quot;本会主任于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date2</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日作出决定&quot;</span>
760:       <span class="ruby-keyword kw">else</span>
761:         <span class="ruby-identifier">d2</span> = <span class="ruby-value str">&quot;本会主任尚未作出决定&quot;</span>
762:       <span class="ruby-keyword kw">end</span>
763:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@evite</span>.<span class="ruby-identifier">submitman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span>
764:         <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;申请人于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提出仲裁员回避申请。&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d2</span>
765:       <span class="ruby-keyword kw">else</span>
766:         <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;被申请人于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提出仲裁员回避申请。&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d2</span>
767:       <span class="ruby-keyword kw">end</span>
768:     <span class="ruby-keyword kw">else</span>
769:       <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;申请人/被申请人于_____年___月___日提出仲裁员回避申请。本会主任于_____年___月___日作出决定&quot;</span>
770:     <span class="ruby-keyword kw">end</span>
771:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>, <span class="ruby-identifier">str13</span>, <span class="ruby-identifier">format_fmt03</span>)
772: 
773:     <span class="ruby-comment cmt"># 审限信息 ………………………………………………………………………………………………………………………………………………</span>
774:     <span class="ruby-identifier">limit_date</span> = <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">finally_limit_dat</span>
775:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">limit_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
776:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">limit_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
777:       <span class="ruby-identifier">str21</span> = <span class="ruby-value str">&quot;本案审限为&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日。&quot;</span>
778:       <span class="ruby-identifier">str24</span> =<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
779:     <span class="ruby-keyword kw">else</span>
780:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">limit_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
781:       <span class="ruby-identifier">str21</span> = <span class="ruby-value str">&quot;本案审限为&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;_____年___月___日。&quot;</span>
782:       <span class="ruby-identifier">str24</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
783:     <span class="ruby-keyword kw">end</span>
784: 
785:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>, <span class="ruby-identifier">str21</span>, <span class="ruby-identifier">format_fmt03</span>)
786:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>, <span class="ruby-identifier">str24</span>, <span class="ruby-identifier">format_fmt03</span>)
787: 
788:     <span class="ruby-comment cmt"># 仲裁代理人信息</span>
789:     <span class="ruby-identifier">applicant_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
790:     <span class="ruby-identifier">respondent_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
791:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>, <span class="ruby-identifier">applicant_agent</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;无&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">applicant_agent</span>, <span class="ruby-identifier">format_fmt03</span>)
792:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>, <span class="ruby-identifier">respondent_agent</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;无&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">respondent_agent</span>, <span class="ruby-identifier">format_fmt03</span>)
793: 
794:     <span class="ruby-comment cmt"># 经办人姓名</span>
795:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">clerk</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
796:       <span class="ruby-ivar">@zl</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">current_case</span>.<span class="ruby-identifier">clerk</span>])
797:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>.<span class="ruby-identifier">name</span>,<span class="ruby-identifier">format_fmt03</span>)
798:     <span class="ruby-keyword kw">else</span>
799:       <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>,<span class="ruby-identifier">format_fmt03</span>)
800:     <span class="ruby-keyword kw">end</span>
801: 
802:     <span class="ruby-comment cmt"># 时间</span>
803:     <span class="ruby-ivar">@date_of_letter</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
804:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
805:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
806:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>] = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>)
807:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>] = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>)
808:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>] = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>)
809:       <span class="ruby-identifier">str15</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
810:     <span class="ruby-keyword kw">else</span>
811:       <span class="ruby-identifier">str15</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
812:     <span class="ruby-keyword kw">end</span>
813:     <span class="ruby-identifier">format_fmt03</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-identifier">str15</span>,<span class="ruby-identifier">format_fmt03</span>)
814:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000268" class="method-detail">
        <a name="M000268"></a>

        <div class="method-heading">
          <a href="#M000268" class="method-signature">
          <span class="method-name">format_letter_fmt04</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
涉外案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000268-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1846</span>
1846:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt04</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1847:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
1848:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1849:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
1850:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1851:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
1852:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1853:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
1854:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1855:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1856:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-value str">&quot;&quot;</span>
1857:     <span class="ruby-comment cmt">#函号</span>
1858:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1859:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt04</span>)
1860:     <span class="ruby-comment cmt">#申请人</span>
1861:     <span class="ruby-ivar">@applicant2</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1862:     <span class="ruby-ivar">@applicant3</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1863:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant3</span>,<span class="ruby-ivar">@format_fmt04</span>)
1864:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1865:     <span class="ruby-comment cmt">#受理日期</span>
1866:     <span class="ruby-ivar">@date_receive</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">receivedate</span>
1867:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
1868:       <span class="ruby-ivar">@date_receive</span> = <span class="ruby-value str">&quot;_____&quot;</span>
1869:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_fmt04</span>)
1870:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_fmt04</span>)
1871:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_fmt04</span>)
1872:     <span class="ruby-keyword kw">else</span>
1873:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_receive</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
1874:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1875:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1876:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@format_fmt04</span>)
1877:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>],<span class="ruby-ivar">@format_fmt04</span>)
1878:       <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>],<span class="ruby-ivar">@format_fmt04</span>)
1879:     <span class="ruby-keyword kw">end</span>
1880: 
1881:     <span class="ruby-comment cmt">#被申请人</span>
1882:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1883:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt04</span>)
1884:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1885:     <span class="ruby-ivar">@cont_name</span> =  <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1886:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@cont_name</span>,<span class="ruby-ivar">@format_fmt04</span>)
1887:     <span class="ruby-comment cmt">#仲裁费</span>
1888:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span>
1889:     <span class="ruby-comment cmt">#立案费</span>
1890:     <span class="ruby-ivar">@litigation_fee</span> = <span class="ruby-identifier">applicant_litigation_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0002</span>
1891:     <span class="ruby-comment cmt">#合计</span>
1892:     <span class="ruby-ivar">@total_fee</span> = <span class="ruby-ivar">@litigation_fee</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@arbit_fee</span>
1893:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
1894:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
1895:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
1896:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt04</span>)
1897:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_fmt04</span>)
1898:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_fmt04</span>)
1899:     <span class="ruby-comment cmt">#助理</span>
1900:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>)
1901:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex2</span>(<span class="ruby-identifier">code</span>)
1902:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1903:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1904:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email2</span>(<span class="ruby-identifier">code</span>)
1905:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt04</span>)
1906:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt04</span>)
1907:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt04</span>)
1908:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt04</span>)
1909:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt04</span>)
1910:     <span class="ruby-comment cmt">#日期</span>
1911:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>).<span class="ruby-identifier">ss_t</span> <span class="ruby-comment cmt"># Time.now.to_s(:db)</span>
1912:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1913:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1914:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1915:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1916:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1917:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1918:     <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1919:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1920:     <span class="ruby-ivar">@accommodate_remarks</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1921:     <span class="ruby-ivar">@accommodate_remarks2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1922:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks</span>,<span class="ruby-ivar">@format_fmt04</span>)
1923:     <span class="ruby-ivar">@format_fmt04</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks2</span>,<span class="ruby-ivar">@format_fmt04</span>)
1924:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000270" class="method-detail">
        <a name="M000270"></a>

        <div class="method-heading">
          <a href="#M000270" class="method-signature">
          <span class="method-name">format_letter_fmt05</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知（被申请人） 涉外普通
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000270-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2006</span>
2006:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt05</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2007:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2008:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-value str">&quot;&quot;</span>
2009:     <span class="ruby-comment cmt">#函号</span>
2010:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2011:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt05</span>)
2012:     <span class="ruby-comment cmt">#立案号</span>
2013:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2014:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt05</span>)
2015:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt05</span>)
2016:     <span class="ruby-comment cmt">#被申请人</span>
2017:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2018:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt05</span>)
2019:     <span class="ruby-comment cmt">#申请人</span>
2020:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2021:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt05</span>)
2022:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同名称）</span>
2023:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2024:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt05</span>)
2025:     <span class="ruby-comment cmt">#文件份数</span>
2026:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0001')</span>
2027:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt05</span>)
2028:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0001')</span>
2029:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_fmt05</span>)
2030:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt05</span>)
2031:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt05</span>)
2032:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt05</span>)
2033:     <span class="ruby-comment cmt">#助理</span>
2034:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2035:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2036:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2037:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2038:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2039:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt05</span>)
2040:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt05</span>)
2041:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt05</span>)
2042:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt05</span>)
2043:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt05</span>)
2044:     <span class="ruby-comment cmt">#日期</span>
2045:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2046:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2047:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2048:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt05</span>)
2049:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt05</span>)
2050:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt05</span>)
2051:     <span class="ruby-ivar">@s1</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2052:     <span class="ruby-ivar">@s2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2053:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@s1</span>,<span class="ruby-ivar">@format_fmt05</span>)
2054:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@s2</span>,<span class="ruby-ivar">@format_fmt05</span>)
2055:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2056:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_fmt05</span>)
2057:     <span class="ruby-ivar">@ac</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2058:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@ac</span>,<span class="ruby-ivar">@format_fmt05</span>)
2059:     <span class="ruby-ivar">@party2</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2&quot;</span>,<span class="ruby-identifier">code</span>])
2060:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
2061:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
2062:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
2063:     <span class="ruby-keyword kw">else</span>
2064:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
2065:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
2066:     <span class="ruby-keyword kw">end</span>
2067:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep26</span>,<span class="ruby-ivar">@format_fmt05</span>)
2068:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep27</span>,<span class="ruby-ivar">@format_fmt05</span>)
2069:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2070:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2071:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2072:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2073:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2074:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2075:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2076:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;35$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2077:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;36$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2078:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;37$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2079:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;38$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2080:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;39$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2081:     <span class="ruby-ivar">@format_fmt05</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;40$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt05</span>)
2082:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000273" class="method-detail">
        <a name="M000273"></a>

        <div class="method-heading">
          <a href="#M000273" class="method-signature">
          <span class="method-name">format_letter_fmt06</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发给申请人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000273-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000273-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2236</span>
2236:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt06</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
2237:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2238:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-value str">&quot;&quot;</span>
2239:     <span class="ruby-comment cmt">#函号</span>
2240:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2241:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt06</span>)
2242:     <span class="ruby-comment cmt">#立案号</span>
2243:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2244:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt06</span>)
2245:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt06</span>)
2246:     <span class="ruby-comment cmt">#申请人</span>
2247:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2248:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt06</span>)
2249:     <span class="ruby-comment cmt">#申请人交材料的日期</span>
2250:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>  <span class="ruby-comment cmt">#get_recevicedate2(code)</span>
2251:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_fmt06</span>)
2252:     <span class="ruby-comment cmt">#被申请人</span>
2253:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2254:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt06</span>)
2255:     <span class="ruby-comment cmt">#文件份数</span>
2256:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2257:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt06</span>)
2258:     <span class="ruby-comment cmt">#仲裁费</span>
2259:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2260:     <span class="ruby-ivar">@arbit_fee</span> =<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
2261:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt06</span>)
2262:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
2263:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2264:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt06</span>)
2265:     <span class="ruby-comment cmt">#助理</span>
2266:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2267:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2268:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2269:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2270:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2271:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt06</span>)
2272:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt06</span>)
2273:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt06</span>)
2274:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt06</span>)
2275:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt06</span>)
2276:     <span class="ruby-comment cmt">#日期</span>
2277:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2278:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2279:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2280:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt06</span>)
2281:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt06</span>)
2282:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt06</span>)
2283:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2284:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_fmt06</span>)
2285:     <span class="ruby-ivar">@ac</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2286:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@ac</span>,<span class="ruby-ivar">@format_fmt06</span>)
2287:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
2288:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
2289:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
2290:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2291:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2292:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
2293:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
2294:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
2295:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
2296:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
2297:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
2298:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2299:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2300:     <span class="ruby-keyword kw">else</span>
2301:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
2302:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
2303:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
2304:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2305:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2306:     <span class="ruby-keyword kw">end</span>
2307:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_fmt06</span>)
2308:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_fmt06</span>)
2309:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_fmt06</span>)
2310:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_fmt06</span>)
2311:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_fmt06</span>)
2312:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2313:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2314:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2315:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2316:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2317:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2318:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2319:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2320:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;35$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2321:     <span class="ruby-ivar">@format_fmt06</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;36$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt06</span>)
2322:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000260" class="method-detail">
        <a name="M000260"></a>

        <div class="method-heading">
          <a href="#M000260" class="method-signature">
          <span class="method-name">format_letter_fmt07ap</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
证据保全
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000260-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1229</span>
1229:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt07ap</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1230:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1231:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-value str">&quot;&quot;</span>
1232:     <span class="ruby-comment cmt">#函号</span>
1233:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1234:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt07</span>)
1235:     <span class="ruby-comment cmt">#立案号</span>
1236:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
1237:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt07</span>)
1238:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt07</span>)
1239:     <span class="ruby-comment cmt">#申请人</span>
1240:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1241:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt07</span>)
1242:     <span class="ruby-comment cmt">#案件信息</span>
1243:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
1244: 
1245:     <span class="ruby-ivar">@tbsave</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1246:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tbsave</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
1247:       <span class="ruby-ivar">@request_typ</span> = <span class="ruby-ivar">@tbsave</span>.<span class="ruby-identifier">request_typ</span>
1248:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>   <span class="ruby-comment cmt">#申请人</span>
1249:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0001'</span>)
1250:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0001'</span>)
1251:         <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;申请人的仲裁申请书一份&quot;</span>
1252:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;申请人&quot;</span>
1253:         <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0001'</span>)
1254:         <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0001'</span>)
1255:       <span class="ruby-keyword kw">else</span>  <span class="ruby-ivar">@request_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>   <span class="ruby-comment cmt">#被申请人</span>
1256:         <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>)
1257:         <span class="ruby-ivar">@court</span>=<span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-value str">'0001'</span>)
1258:         <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;被申请人的答辩书一份&quot;</span>
1259:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>
1260:         <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1261:         <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0002'</span>)
1262:       <span class="ruby-keyword kw">end</span>
1263: 
1264:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0006'</span> <span class="ruby-comment cmt">#国内案件</span>
1265:         <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;根据《中华人民共和国仲裁法》第四十六条&quot;</span>
1266:       <span class="ruby-keyword kw">else</span>
1267:         <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;《中华人民共和国仲裁法》第六十八条&quot;</span>
1268:       <span class="ruby-keyword kw">end</span>
1269: 
1270:     <span class="ruby-keyword kw">else</span>
1271:       <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;申请人/被申请人&quot;</span>
1272:       <span class="ruby-ivar">@clause</span> = <span class="ruby-value str">&quot;《中华人民共和国仲裁法》第二十八条和《中华人民共和国民事诉讼法》第二百五十六条&quot;</span>
1273:       <span class="ruby-ivar">@court</span>=<span class="ruby-value str">&quot;_____&quot;</span>
1274:       <span class="ruby-ivar">@replace21</span> = <span class="ruby-value str">&quot;_________&quot;</span>
1275:       <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;_________&quot;</span>
1276:       <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0003'</span>)
1277:       <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>,<span class="ruby-value str">'0003'</span>)
1278:     <span class="ruby-keyword kw">end</span>
1279:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_fmt07</span>)
1280:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@request_typ</span>,<span class="ruby-value str">'0001'</span>),<span class="ruby-ivar">@format_fmt07</span>)
1281:     <span class="ruby-comment cmt">#被申请人</span>
1282:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1283:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt07</span>)
1284:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1285:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1286:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt07</span>)
1287:     <span class="ruby-comment cmt">#条款</span>
1288:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@court</span>,<span class="ruby-ivar">@format_fmt07</span>)
1289:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@clause</span>,<span class="ruby-ivar">@format_fmt07</span>)
1290:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_fmt07</span>)
1291:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_fmt07</span>)
1292:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_fmt07</span>)
1293:     <span class="ruby-comment cmt">#助理</span>
1294:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
1295:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
1296:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
1297:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt07</span>)
1298:     <span class="ruby-ivar">@format_dfmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt07</span>)
1299:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt07</span>)
1300:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt07</span>)
1301:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt07</span>)
1302:     <span class="ruby-comment cmt">#日期</span>
1303:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1304:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1305:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1306:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt07</span>)
1307:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt07</span>)
1308:     <span class="ruby-ivar">@format_fmt07</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt07</span>)
1309:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">
          <a href="#M000262" class="method-signature">
          <span class="method-name">format_letter_fmt08</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
反请求审批表（涉外）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000262-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1375</span>
1375:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt08</span>(<span class="ruby-identifier">code</span>)
1376:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-value str">&quot;&quot;</span>
1377:     <span class="ruby-comment cmt">#被申请人</span>
1378:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1379:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt08</span>)
1380:     <span class="ruby-comment cmt">#提起时间</span>
1381:     <span class="ruby-identifier">str2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_date</span>(<span class="ruby-identifier">code</span>)
1382:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">str2</span>,<span class="ruby-ivar">@format_fmt08</span>)
1383:     <span class="ruby-comment cmt">#案件编号</span>
1384:     <span class="ruby-identifier">case_code</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">case_code</span>
1385:     <span class="ruby-identifier">str3</span>=<span class="ruby-identifier">case_code</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-identifier">case_code</span>.<span class="ruby-identifier">length</span>)
1386:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">str3</span>,<span class="ruby-ivar">@format_fmt08</span>)
1387:     <span class="ruby-comment cmt">#提起的依据 合同编号</span>
1388:     <span class="ruby-identifier">contract_name</span> = <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
1389:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">contract_name</span>,<span class="ruby-ivar">@format_fmt08</span>)
1390:     <span class="ruby-identifier">str5</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
1391:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">str5</span>,<span class="ruby-ivar">@format_fmt08</span>)
1392:     <span class="ruby-identifier">str6</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
1393:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_fmt08</span>)
1394: 
1395:     <span class="ruby-comment cmt">#08 明确、不明确仲裁费用=应收    09：无明确仲裁费用=应收</span>
1396:     <span class="ruby-comment cmt">#    @str1 = TbShouldCharge.find(:first,:select=&gt;&quot;sum(rmb_money) as rmb_money&quot;,:conditions=&gt;[&quot;used='Y' and recevice_code=? and payment='0002' and typ='0001' and parent_id=0&quot;,code])</span>
1397:     <span class="ruby-comment cmt">#    @str2 = TbShouldCharge.find(:first,:select=&gt;&quot;sum(rmb_money) as rmb_money&quot;,:conditions=&gt;[&quot;used='Y' and recevice_code=? and payment='0002' and typ='0004' and parent_id=0&quot;,code])</span>
1398:     <span class="ruby-ivar">@str1</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and typ='0001' and parent_id=0&quot;</span>,<span class="ruby-identifier">code</span>])
1399:     <span class="ruby-ivar">@str2</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and typ='0004' and parent_id=0&quot;</span>,<span class="ruby-identifier">code</span>])
1400:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@str1!</span>=<span class="ruby-keyword kw">nil</span>
1401:       <span class="ruby-identifier">str8</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@str1</span>)
1402:     <span class="ruby-keyword kw">else</span>
1403:       <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;&quot;</span>
1404:     <span class="ruby-keyword kw">end</span>
1405:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">str8</span>,<span class="ruby-ivar">@format_fmt08</span>)
1406:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@str2!</span>=<span class="ruby-keyword kw">nil</span>
1407:       <span class="ruby-identifier">str9</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@str2</span>)
1408:     <span class="ruby-keyword kw">else</span>
1409:       <span class="ruby-identifier">str9</span> = <span class="ruby-value str">&quot;&quot;</span>
1410:     <span class="ruby-keyword kw">end</span>
1411:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_fmt08</span>)
1412:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@str1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@str2!</span>=<span class="ruby-keyword kw">nil</span>
1413:       <span class="ruby-identifier">str7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@str1</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@str2</span>)
1414:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@str1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@str2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
1415:       <span class="ruby-identifier">str7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@str1</span>)
1416:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@str1</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@str2!</span>=<span class="ruby-keyword kw">nil</span>
1417:       <span class="ruby-identifier">str7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@str2</span>)
1418:     <span class="ruby-keyword kw">else</span>
1419:       <span class="ruby-identifier">str7</span> = <span class="ruby-value str">&quot;&quot;</span>
1420:     <span class="ruby-keyword kw">end</span>
1421: 
1422:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">str7</span>,<span class="ruby-ivar">@format_fmt08</span>)
1423:     <span class="ruby-ivar">@t_detail</span>=<span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype='2' and currency&lt;&gt;'0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;distinct(currency) as currency,rate&quot;</span>)
1424:     <span class="ruby-identifier">str10</span>=<span class="ruby-value str">&quot;&quot;</span>
1425:     <span class="ruby-ivar">@t_detail</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">de</span><span class="ruby-operator">|</span>
1426:       <span class="ruby-identifier">str10</span> = <span class="ruby-identifier">str10</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">de</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">de</span>.<span class="ruby-identifier">rate</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
1427:     <span class="ruby-keyword kw">end</span>
1428:     <span class="ruby-ivar">@format_fmt08</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">str10</span>,<span class="ruby-ivar">@format_fmt08</span>)
1429:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000276" class="method-detail">
        <a name="M000276"></a>

        <div class="method-heading">
          <a href="#M000276" class="method-signature">
          <span class="method-name">format_letter_fmt09</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000276-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000276-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2515</span>
2515:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt09</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2516:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2517:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-value str">&quot;&quot;</span>
2518:     <span class="ruby-comment cmt">#函号</span>
2519:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2520:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt09</span>)
2521:     <span class="ruby-comment cmt">#被申请人</span>
2522:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2523:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt09</span>)
2524:     <span class="ruby-comment cmt">#立案号</span>
2525:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2526:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt09</span>)
2527:     <span class="ruby-comment cmt">#被申请人仲裁费</span>
2528:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">respondent_arbit_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_litigation_fee</span>(<span class="ruby-identifier">code</span>)
2529:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
2530:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt09</span>)
2531:     <span class="ruby-comment cmt">#日期</span>
2532:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2533:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2534:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2535:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt09</span>)
2536:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt09</span>)
2537:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt09</span>)
2538:     <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2539:     <span class="ruby-ivar">@format_fmt09</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax2</span>,<span class="ruby-ivar">@format_fmt09</span>)
2540:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000330" class="method-detail">
        <a name="M000330"></a>

        <div class="method-heading">
          <a href="#M000330" class="method-signature">
          <span class="method-name">format_letter_fmt10_scia</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000330-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000330-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6041</span>
6041:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt10_scia</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
6042:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
6043:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-value str">&quot;&quot;</span>
6044:     <span class="ruby-comment cmt">#函号</span>
6045:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
6046:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6047:     <span class="ruby-comment cmt">#立案号</span>
6048:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
6049:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6050:     <span class="ruby-comment cmt">#申请人</span>
6051:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
6052:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt10_scia</span>)
6053:     <span class="ruby-comment cmt">#被申请人</span>
6054:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
6055:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6056:  
6057:     <span class="ruby-comment cmt">#开庭日期,可以是多次的</span>
6058:     <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-value str">&quot;&quot;</span>
6059:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6060:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6061:       <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
6062:       <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-value str">&quot;&quot;</span>
6063:       <span class="ruby-ivar">@sitting_date</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
6064:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">sittingdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6065:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6066:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6067:         <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;, &quot;</span>
6068:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6069:       <span class="ruby-keyword kw">end</span>
6070:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6071:         <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6072:       <span class="ruby-keyword kw">end</span>
6073:     <span class="ruby-keyword kw">else</span>
6074:       <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
6075:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6076:     <span class="ruby-keyword kw">end</span>
6077:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
6078:       <span class="ruby-ivar">@num</span>=<span class="ruby-value str">&quot;&quot;</span>
6079:     <span class="ruby-keyword kw">else</span>
6080:       <span class="ruby-ivar">@num</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;次&quot;</span>
6081:     <span class="ruby-keyword kw">end</span>
6082:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6083:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@num</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6084:     <span class="ruby-comment cmt">#日期</span>
6085:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
6086:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
6087:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
6088:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6089:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6090:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6091:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
6092:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
6093:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;首席仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
6094:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;仲裁员：&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
6095:     <span class="ruby-keyword kw">else</span>
6096:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;独任仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
6097:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;&quot;</span>
6098:     <span class="ruby-keyword kw">end</span>
6099:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace10</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6100:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace11</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6101:     
6102:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)
6103:     <span class="ruby-ivar">@format_fmt10_scia</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt10_scia</span>)
6104:     
6105:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt10_scia</span> 
6106:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000277" class="method-detail">
        <a name="M000277"></a>

        <div class="method-heading">
          <a href="#M000277" class="method-signature">
          <span class="method-name">format_letter_fmt11a</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
普通案件——组庭通知当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000277-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000277-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2542</span>
2542:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt11a</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2543:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2544:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-value str">&quot;&quot;</span>
2545:     <span class="ruby-comment cmt">#函号</span>
2546:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2547:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2548:     <span class="ruby-comment cmt">#申请人</span>
2549:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2550:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2551:     <span class="ruby-comment cmt">#被申请人</span>
2552:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2553:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2554:     <span class="ruby-comment cmt">#立案号</span>
2555:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2556:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2557:     <span class="ruby-comment cmt">#将要选用的首席仲裁员#将要选用的申请人仲裁员#将要选用的被申请人仲裁员</span>
2558:     <span class="ruby-ivar">@b</span>=<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
2559:     <span class="ruby-ivar">@c</span>=<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
2560:     <span class="ruby-ivar">@style1</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-comment cmt">#申请人方仲裁员选定方式</span>
2561:     <span class="ruby-ivar">@style2</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-comment cmt">#被申请人方仲裁员选定方式</span>
2562:     <span class="ruby-ivar">@style3</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-comment cmt">#首席仲裁员选定方式</span>
2563:     <span class="ruby-comment cmt">#只用于普通案件</span>
2564:     <span class="ruby-comment cmt">#首席仲裁员</span>
2565:     <span class="ruby-ivar">@c1</span> = <span class="ruby-value str">&quot;首席仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
2566:     <span class="ruby-comment cmt">#申请人仲裁员</span>
2567:     <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-value str">&quot;仲  裁  员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
2568:     <span class="ruby-comment cmt">#被申请人仲裁员</span>
2569:     <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-value str">&quot;仲  裁  员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
2570:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@c1</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2571:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2572:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2573:     <span class="ruby-comment cmt">#当事人xxx选定/指定xxx为仲裁员</span>
2574:     <span class="ruby-ivar">@n1</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=1 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
2575:     <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=2 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
2576:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
2577:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
2578:         <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;因申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员而由本会主任为申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
2579:       <span class="ruby-keyword kw">else</span>
2580:         <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;因申请人未在规定的期限内选定或委托本会主任指定仲裁员而由本会主任为申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
2581:       <span class="ruby-keyword kw">end</span>
2582:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
2583:                 <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任为申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
2584:     <span class="ruby-keyword kw">else</span>
2585:       <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
2586:     <span class="ruby-keyword kw">end</span>
2587:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
2588:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
2589:         <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;因被申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员而由本会主任为被申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
2590:       <span class="ruby-keyword kw">else</span>
2591:         <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;因被申请人未在规定的期限内选定或委托本会主任指定仲裁员而由本会主任为被申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
2592:       <span class="ruby-keyword kw">end</span>
2593:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>    
2594:                     <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任为被申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>       
2595:     <span class="ruby-keyword kw">else</span>
2596:       <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
2597:     <span class="ruby-keyword kw">end</span>
2598:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
2599:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;因双方未在规定的期限内共同选定或共同委托本会主任指定首席仲裁员而由本会主任指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>
2600:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>    
2601:                     <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style3</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>   
2602:     <span class="ruby-keyword kw">else</span>
2603:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style3</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>
2604:     <span class="ruby-keyword kw">end</span>
2605:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@seven</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2606:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@eight</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2607:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@nine</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2608:     <span class="ruby-comment cmt">#组庭日期</span>
2609:     <span class="ruby-ivar">@case_date</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
2610:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
2611:       <span class="ruby-identifier">end_date</span> = <span class="ruby-ivar">@case_date</span>.<span class="ruby-identifier">orgdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2612:       <span class="ruby-identifier">end_date10</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span>
2613:       <span class="ruby-identifier">end_date1</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span>
2614:       <span class="ruby-identifier">end_date2</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
2615:       <span class="ruby-ivar">@org_date</span>=<span class="ruby-identifier">end_date10</span><span class="ruby-operator">+</span><span class="ruby-identifier">end_date1</span><span class="ruby-operator">+</span><span class="ruby-identifier">end_date2</span>
2616:     <span class="ruby-keyword kw">else</span>
2617:       <span class="ruby-ivar">@org_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
2618:     <span class="ruby-keyword kw">end</span>
2619:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@org_date</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2620:     <span class="ruby-comment cmt">#审限（裁决期限）</span>
2621:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">finally_limit_dat</span>
2622:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@end_date!</span>=<span class="ruby-keyword kw">nil</span>
2623:       <span class="ruby-identifier">end_date</span> = <span class="ruby-ivar">@end_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2624:       <span class="ruby-identifier">end_date10</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span>
2625:       <span class="ruby-identifier">end_date1</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span>
2626:       <span class="ruby-identifier">end_date2</span>=<span class="ruby-identifier">end_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
2627:       <span class="ruby-ivar">@end_date</span>=<span class="ruby-identifier">end_date10</span><span class="ruby-operator">+</span><span class="ruby-identifier">end_date1</span><span class="ruby-operator">+</span><span class="ruby-identifier">end_date2</span>
2628:     <span class="ruby-keyword kw">else</span>
2629:       <span class="ruby-ivar">@end_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
2630:     <span class="ruby-keyword kw">end</span>
2631:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@end_date</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2632:     <span class="ruby-comment cmt">#日期</span>
2633:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2634:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2635:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2636:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2637:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2638:     <span class="ruby-ivar">@format_fmt11a</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt11a</span>)
2639:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000279" class="method-detail">
        <a name="M000279"></a>

        <div class="method-heading">
          <a href="#M000279" class="method-signature">
          <span class="method-name">format_letter_fmt12</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
校核函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000279-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000279-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2703</span>
2703:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt12</span>(<span class="ruby-identifier">code</span>)
2704:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-value str">&quot;&quot;</span>
2705:     <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbAward</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
2706:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award!</span>=<span class="ruby-keyword kw">nil</span>
2707:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">end_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
2708:         <span class="ruby-identifier">c1</span>=<span class="ruby-value str">'裁决'</span>
2709:         <span class="ruby-identifier">c9</span>=<span class="ruby-value str">&quot;完整裁决书&quot;</span>
2710:         <span class="ruby-identifier">c22</span>=<span class="ruby-value str">&quot;一般裁决&quot;</span>
2711:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">end_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
2712:         <span class="ruby-identifier">c1</span>=<span class="ruby-value str">'裁决'</span>
2713:         <span class="ruby-identifier">c9</span>=<span class="ruby-value str">&quot;完整裁决书&quot;</span>
2714:         <span class="ruby-identifier">arbit</span>=<span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-ivar">@award</span>.<span class="ruby-identifier">arbiter</span>])
2715:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbit!</span>=<span class="ruby-keyword kw">nil</span>
2716:           <span class="ruby-identifier">name</span> = <span class="ruby-identifier">arbit</span>.<span class="ruby-identifier">name</span>
2717:         <span class="ruby-keyword kw">else</span>
2718:           <span class="ruby-identifier">name</span> = <span class="ruby-value str">&quot;&quot;</span>
2719:         <span class="ruby-keyword kw">end</span>
2720:         <span class="ruby-identifier">c22</span>=<span class="ruby-value str">&quot;多数/首仲裁决        持少数意见的仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span>
2721:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">end_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
2722:         <span class="ruby-identifier">c1</span>=<span class="ruby-value str">'裁决'</span>
2723:         <span class="ruby-identifier">c9</span>=<span class="ruby-value str">&quot;完整裁决书&quot;</span>
2724:         <span class="ruby-identifier">c22</span>=<span class="ruby-value str">&quot;和解裁决&quot;</span>
2725:       <span class="ruby-keyword kw">else</span>
2726:         <span class="ruby-identifier">c1</span>=<span class="ruby-value str">'撤案决定'</span>
2727:         <span class="ruby-identifier">c9</span>=<span class="ruby-value str">&quot;撤案决定书&quot;</span>
2728:         <span class="ruby-identifier">c22</span>=<span class="ruby-value str">&quot;撤案&quot;</span>
2729:       <span class="ruby-keyword kw">end</span>
2730:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">advice</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
2731:         <span class="ruby-identifier">c23</span>=<span class="ruby-value str">&quot;有意见       具体意见：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">remark</span>
2732:       <span class="ruby-keyword kw">else</span>
2733:         <span class="ruby-identifier">c23</span>=<span class="ruby-value str">&quot;无意见&quot;</span>
2734:       <span class="ruby-keyword kw">end</span>
2735:     <span class="ruby-keyword kw">else</span>
2736:       <span class="ruby-identifier">c1</span>=<span class="ruby-value str">&quot;裁决/撤案决定&quot;</span>
2737:       <span class="ruby-identifier">c9</span>=<span class="ruby-value str">&quot;撤案决定/完整裁决书&quot;</span>
2738:       <span class="ruby-identifier">c22</span>=<span class="ruby-value str">&quot;&quot;</span>
2739:     <span class="ruby-keyword kw">end</span>
2740:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">c1</span>,<span class="ruby-ivar">@format_fmt12</span>)
2741:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">c9</span>,<span class="ruby-ivar">@format_fmt12</span>)
2742:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-identifier">c22</span>,<span class="ruby-ivar">@format_fmt12</span>)
2743:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-identifier">c23</span>,<span class="ruby-ivar">@format_fmt12</span>)
2744:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
2745:     <span class="ruby-identifier">case_code</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>
2746:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">case_code</span>,<span class="ruby-ivar">@format_fmt12</span>)
2747:     <span class="ruby-identifier">c3</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>]).<span class="ruby-identifier">name</span>
2748:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">c3</span>,<span class="ruby-ivar">@format_fmt12</span>)
2749:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate!</span>=<span class="ruby-keyword kw">nil</span>
2750:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2751:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2752:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2753:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
2754:     <span class="ruby-keyword kw">else</span>
2755:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;&quot;</span>
2756:     <span class="ruby-keyword kw">end</span>
2757:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_fmt12</span>)
2758:     <span class="ruby-ivar">@caseorg_date</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
2759:     <span class="ruby-identifier">c5</span>=<span class="ruby-value str">&quot;&quot;</span>
2760:     <span class="ruby-ivar">@caseorg_date</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
2761:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">orgdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2762:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2763:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2764:       <span class="ruby-ivar">@caseorg_date1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span>
2765:       <span class="ruby-identifier">c5</span>= <span class="ruby-identifier">c5</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@caseorg_date1</span>
2766:     <span class="ruby-keyword kw">end</span>
2767:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">c5</span>,<span class="ruby-ivar">@format_fmt12</span>)
2768:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat!</span>=<span class="ruby-keyword kw">nil</span>
2769:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2770:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2771:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2772:       <span class="ruby-identifier">c6</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
2773:     <span class="ruby-keyword kw">else</span>
2774:       <span class="ruby-identifier">c6</span>=<span class="ruby-value str">&quot;&quot;</span>
2775:     <span class="ruby-keyword kw">end</span>
2776:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">c6</span>,<span class="ruby-ivar">@format_fmt12</span>)
2777:     <span class="ruby-ivar">@ampliation</span>=<span class="ruby-constant">TbCasedelay</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
2778:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ampliation!</span>=<span class="ruby-keyword kw">nil</span>
2779:       <span class="ruby-identifier">c7</span>=<span class="ruby-value str">&quot;是&quot;</span>
2780:     <span class="ruby-keyword kw">else</span>
2781:       <span class="ruby-identifier">c7</span>=<span class="ruby-value str">&quot;否&quot;</span>
2782:     <span class="ruby-keyword kw">end</span>
2783:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">c7</span>,<span class="ruby-ivar">@format_fmt12</span>)
2784:     <span class="ruby-ivar">@tbend</span>=<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
2785:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tbend!</span>=<span class="ruby-keyword kw">nil</span>
2786:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@tbend</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
2787:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2788:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
2789:       <span class="ruby-identifier">c8</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
2790:     <span class="ruby-keyword kw">else</span>
2791:       <span class="ruby-identifier">c8</span>=<span class="ruby-value str">&quot;&quot;</span>
2792:     <span class="ruby-keyword kw">end</span>
2793:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">c8</span>,<span class="ruby-ivar">@format_fmt12</span>)
2794:     <span class="ruby-identifier">c11</span>=<span class="ruby-value str">&quot;&quot;</span>
2795:     <span class="ruby-identifier">c12</span>=<span class="ruby-value str">&quot;&quot;</span>
2796:     <span class="ruby-identifier">c13</span>=<span class="ruby-value str">&quot;&quot;</span>
2797:     <span class="ruby-ivar">@award2</span>=<span class="ruby-constant">TbAwardDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;d.used='Y' and d.recevice_code=? and d.typ='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:joins=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;as d inner join tb_awards as aa on aa.recevice_code=d.recevice_code and aa.used='Y' and d.p_id=aa.id&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.draftsman as draftsman,d.draftsman_typ as draftsman_typ&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.id desc&quot;</span>)
2798:     <span class="ruby-ivar">@award2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
2799:       <span class="ruby-ivar">@draftsman_code1</span>=<span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2800:       <span class="ruby-ivar">@draftsman_code_1</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2801:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#仲裁员</span>
2802:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code1!</span>=<span class="ruby-keyword kw">nil</span>
2803:           <span class="ruby-identifier">c11</span>=<span class="ruby-identifier">c11</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2804:         <span class="ruby-keyword kw">end</span>
2805:       <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#助理</span>
2806:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code_1!</span>=<span class="ruby-keyword kw">nil</span>
2807:           <span class="ruby-identifier">c11</span>=<span class="ruby-identifier">c11</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code_1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2808:         <span class="ruby-keyword kw">end</span>
2809:       <span class="ruby-keyword kw">end</span>
2810:     <span class="ruby-keyword kw">end</span>
2811:     <span class="ruby-ivar">@award2</span>=<span class="ruby-constant">TbAwardDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;d.used='Y' and d.recevice_code=? and d.typ='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:joins=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;as d inner join tb_awards as aa on aa.recevice_code=d.recevice_code and aa.used='Y' and d.p_id=aa.id&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.draftsman as draftsman,d.draftsman_typ as draftsman_typ&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.id desc&quot;</span>)
2812:     <span class="ruby-ivar">@award2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
2813:       <span class="ruby-ivar">@draftsman_code2</span>=<span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2814:       <span class="ruby-ivar">@draftsman_code_2</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2815:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
2816:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code1!</span>=<span class="ruby-keyword kw">nil</span>
2817:           <span class="ruby-identifier">c12</span>=<span class="ruby-identifier">c12</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code2</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2818:         <span class="ruby-keyword kw">end</span>
2819:       <span class="ruby-keyword kw">else</span>
2820:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code_2!</span>=<span class="ruby-keyword kw">nil</span>
2821:           <span class="ruby-identifier">c12</span>=<span class="ruby-identifier">c12</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code_2</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2822:         <span class="ruby-keyword kw">end</span>
2823:       <span class="ruby-keyword kw">end</span>
2824:     <span class="ruby-keyword kw">end</span>
2825:     <span class="ruby-ivar">@award2</span>=<span class="ruby-constant">TbAwardDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;d.used='Y' and d.recevice_code=? and (d.typ='0003' or d.typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:joins=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;as d inner join tb_awards as aa on aa.recevice_code=d.recevice_code and aa.used='Y' and d.p_id=aa.id&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.draftsman as draftsman,d.draftsman_typ as draftsman_typ&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;d.id desc&quot;</span>)
2826:     <span class="ruby-ivar">@award2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
2827:       <span class="ruby-ivar">@draftsman_code3</span>=<span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2828:       <span class="ruby-ivar">@draftsman_code_3</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman</span>])
2829:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">draftsman_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
2830:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code3!</span>=<span class="ruby-keyword kw">nil</span>
2831:           <span class="ruby-identifier">c13</span>=<span class="ruby-identifier">c13</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code3</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2832:         <span class="ruby-keyword kw">end</span>
2833:       <span class="ruby-keyword kw">else</span>
2834:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@draftsman_code_3!</span>=<span class="ruby-keyword kw">nil</span>
2835:           <span class="ruby-identifier">c13</span>=<span class="ruby-identifier">c13</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@draftsman_code_3</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
2836:         <span class="ruby-keyword kw">end</span>
2837:       <span class="ruby-keyword kw">end</span>
2838:     <span class="ruby-keyword kw">end</span>
2839:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">c11</span>,<span class="ruby-ivar">@format_fmt12</span>)
2840:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-identifier">c12</span>,<span class="ruby-ivar">@format_fmt12</span>)
2841:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">c13</span>,<span class="ruby-ivar">@format_fmt12</span>)
2842:     <span class="ruby-comment cmt">#费用部分</span>
2843:     <span class="ruby-comment cmt">#申请人  应收=应交- （应退 - 减退 ）</span>
2844:     <span class="ruby-identifier">a_f1</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0001' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2845:     <span class="ruby-identifier">a_f2</span>=<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0001' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2846:     <span class="ruby-identifier">a_f3</span>=<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:redu_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0001' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2847:     <span class="ruby-identifier">a_f4</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0001' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2848:     <span class="ruby-identifier">af</span> = <span class="ruby-identifier">a_f1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">a_f2</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">a_f3</span>.<span class="ruby-identifier">to_i</span>)
2849:     <span class="ruby-identifier">c14</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">af</span>)
2850:     <span class="ruby-identifier">c17</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">a_f4</span>)
2851:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">c14</span>,<span class="ruby-ivar">@format_fmt12</span>)
2852:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-identifier">c17</span>,<span class="ruby-ivar">@format_fmt12</span>)
2853:     <span class="ruby-comment cmt">#被申请人  应收 、 实收</span>
2854:     <span class="ruby-identifier">a_f1</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2855:     <span class="ruby-identifier">a_f22</span>=<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2856:     <span class="ruby-identifier">a_f3</span>=<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:redu_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2857:     <span class="ruby-identifier">a_f4</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and payment='0002' and (typ='0001' or typ='0004')&quot;</span>,<span class="ruby-identifier">code</span>])
2858:     <span class="ruby-identifier">af</span> = <span class="ruby-identifier">a_f1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">a_f22</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">a_f3</span>.<span class="ruby-identifier">to_i</span>)
2859:     <span class="ruby-identifier">c15</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">af</span>)
2860:     <span class="ruby-identifier">c18</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">a_f4</span>)
2861:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-identifier">c15</span>,<span class="ruby-ivar">@format_fmt12</span>)
2862:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-identifier">c18</span>,<span class="ruby-ivar">@format_fmt12</span>)
2863: 
2864:     <span class="ruby-identifier">c16</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008'&quot;</span>,<span class="ruby-identifier">code</span>])
2865:     <span class="ruby-identifier">c16</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c16</span>)
2866: <span class="ruby-comment cmt">#    @format_fmt12 = add_record(&quot;&lt;16$$$&gt;&quot;,c16,@format_fmt12)</span>
2867: 
2868:     <span class="ruby-identifier">c116</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008' and payment='0001'&quot;</span>,<span class="ruby-identifier">code</span>])
2869:     <span class="ruby-identifier">c116</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c116</span>)
2870:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;116$$$&gt;&quot;</span>,<span class="ruby-identifier">c116</span>,<span class="ruby-ivar">@format_fmt12</span>)
2871: 
2872:     <span class="ruby-identifier">c216</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008' and payment='0002'&quot;</span>,<span class="ruby-identifier">code</span>])
2873:     <span class="ruby-identifier">c216</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c216</span>)
2874:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;216$$$&gt;&quot;</span>,<span class="ruby-identifier">c216</span>,<span class="ruby-ivar">@format_fmt12</span>)
2875: 
2876:     
2877:     <span class="ruby-identifier">c_19</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008'&quot;</span>,<span class="ruby-identifier">code</span>])
2878:     <span class="ruby-identifier">c19</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_19</span>)
2879: <span class="ruby-comment cmt">#    @format_fmt12 = add_record(&quot;&lt;19$$$&gt;&quot;,c19,@format_fmt12)</span>
2880: 
2881:     <span class="ruby-identifier">c_119</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008' and payment='0001'&quot;</span>,<span class="ruby-identifier">code</span>])
2882:     <span class="ruby-identifier">c_219</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008' and payment='0002'&quot;</span>,<span class="ruby-identifier">code</span>])
2883:     
2884:     <span class="ruby-identifier">c119</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_119</span>)
2885:     <span class="ruby-identifier">c219</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_219</span>)
2886:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;119$$$&gt;&quot;</span>,<span class="ruby-identifier">c119</span>,<span class="ruby-ivar">@format_fmt12</span>)
2887: 
2888:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;219$$$&gt;&quot;</span>,<span class="ruby-identifier">c219</span>,<span class="ruby-ivar">@format_fmt12</span>)
2889: 
2890:     <span class="ruby-comment cmt">#2010-8-16   应退费用----仲裁费，助理输入/系统产生应退、而未确认的费用</span>
2891:     <span class="ruby-identifier">c_20</span> = <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and (state=1 and state=4) and (typ='0001' or typ='0004') and parent_id=0&quot;</span>,<span class="ruby-identifier">code</span>])
2892:     <span class="ruby-identifier">c20</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_20</span>)
2893:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-identifier">c20</span>,<span class="ruby-ivar">@format_fmt12</span>)
2894:     <span class="ruby-comment cmt">#2010-8-16 仲裁员实际开支应退费用：需要判断，如果助理有输入实际开支的应退费用，以输入的为准进行显示。如果没有输入，以实际开支费用表的结余数字为准。</span>
2895:     <span class="ruby-identifier">c21</span>=<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008'&quot;</span>,<span class="ruby-identifier">code</span>])
2896:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c21</span>.<span class="ruby-identifier">to_i!</span>=<span class="ruby-value">0</span>
2897:       <span class="ruby-identifier">c21</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c21</span>)
2898:     <span class="ruby-keyword kw">else</span>
2899:       <span class="ruby-identifier">f12</span> = <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:re_rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0008'&quot;</span>,<span class="ruby-identifier">code</span>])
2900:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c_19</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
2901:         <span class="ruby-identifier">c_19</span>=<span class="ruby-value">0</span>
2902:       <span class="ruby-keyword kw">end</span>
2903:       <span class="ruby-identifier">c_19</span> = <span class="ruby-identifier">c_19</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">f12</span>.<span class="ruby-identifier">to_f</span>
2904:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
2905:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
2906:         <span class="ruby-identifier">as11</span>=<span class="ruby-constant">TbArbitmanSpend</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitman_typ&lt;&gt;'0001'&quot;</span>,<span class="ruby-identifier">code</span>])
2907:         <span class="ruby-identifier">as44</span>=<span class="ruby-constant">TbArbitcourtSpend</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
2908:         <span class="ruby-identifier">c21</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_19</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">as11</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">as44</span>.<span class="ruby-identifier">to_f</span>))
2909:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#简易案件</span>
2910:         <span class="ruby-identifier">as_3</span>=<span class="ruby-constant">TbArbitmanSpend</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitman_typ='0001'&quot;</span>,<span class="ruby-identifier">code</span>])
2911:         <span class="ruby-identifier">as_4</span>=<span class="ruby-constant">TbArbitcourtSpend</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
2912:         <span class="ruby-identifier">c21</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">c_19</span>  <span class="ruby-operator">-</span> (<span class="ruby-identifier">as_3</span>.<span class="ruby-identifier">to_f</span><span class="ruby-operator">+</span><span class="ruby-identifier">as_4</span>.<span class="ruby-identifier">to_f</span>))
2913:       <span class="ruby-keyword kw">end</span>
2914:     <span class="ruby-keyword kw">end</span>
2915:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">c21</span>,<span class="ruby-ivar">@format_fmt12</span>)
2916:     <span class="ruby-identifier">arbitprog_num</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">aribitprog_num</span>
2917:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">arbitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">arbitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">arbitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
2918:       <span class="ruby-identifier">r24</span> = <span class="ruby-value str">&quot;首仲：      申仲：       被仲：&quot;</span>
2919:     <span class="ruby-keyword kw">else</span>
2920:       <span class="ruby-identifier">r24</span> = <span class="ruby-value str">&quot;独任：&quot;</span>
2921:     <span class="ruby-keyword kw">end</span>
2922:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-identifier">r24</span>,<span class="ruby-ivar">@format_fmt12</span>)
2923:     <span class="ruby-ivar">@format_fmt12</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-identifier">r24</span>,<span class="ruby-ivar">@format_fmt12</span>)
2924:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000280" class="method-detail">
        <a name="M000280"></a>

        <div class="method-heading">
          <a href="#M000280" class="method-signature">
          <span class="method-name">format_letter_fmt14</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭通知当事人——普通案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000280-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000280-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2926</span>
2926:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt14</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2927:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2928:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-value str">&quot;&quot;</span>
2929:     <span class="ruby-comment cmt">#函号</span>
2930:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2931:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt14</span>)
2932:     <span class="ruby-comment cmt">#申请人</span>
2933:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2934:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt14</span>)
2935:     <span class="ruby-comment cmt">#被申请人</span>
2936:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2937:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt14</span>)
2938:     <span class="ruby-comment cmt">#立案号</span>
2939:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2940:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt14</span>)
2941:     <span class="ruby-comment cmt">#助理email</span>
2942:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2943:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt14</span>)    
2944:     <span class="ruby-comment cmt">#日期</span>
2945:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2946:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2947:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2948:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt14</span>)
2949:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt14</span>)
2950:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt14</span>)
2951:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-identifier">get_sittingdate</span>(<span class="ruby-identifier">code</span>)
2952:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_fmt14</span>)
2953:         
2954:     <span class="ruby-ivar">@sitting_place</span> = <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
2955:     <span class="ruby-identifier">sPlace</span>=<span class="ruby-value str">&quot;本会所在地&quot;</span>
2956:     <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;&quot;</span>
2957:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> 
2958:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
2959:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：前海仲裁庭位于前海E站通服务中心内。建议行车路线：深圳市滨海大道或北环大道西行至月亮湾大道，至东滨路口往西转，过铁路后左转前行200米左右到达。电话：0755-36668888）&quot;</span>
2960:                 <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span> 
2961:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
2962:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：证券仲裁庭地址：深圳证券交易所旧楼（深南东路5045号深业中心）2楼深圳国际仲裁院证券仲裁庭，地铁1、2号线大剧院站F出口，电话：25918321。如开车参加开庭，可以向本会前台索取停车票。&quot;</span>
2963:     <span class="ruby-keyword kw">else</span>
2964:                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：目前中银大厦停车位紧张，请尽量选择乘坐公共交通工具参加开庭。如开车参加开庭，可以选择将车辆停放到中银大厦旁边的深业花园住宅区，入场时请出示本开庭通知，离场时可凭本会提供的停车票免费停车。&quot;</span>
2965:     <span class="ruby-keyword kw">end</span>     
2966:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-identifier">sPlace</span>,<span class="ruby-ivar">@format_fmt14</span>)
2967:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">sInfo</span>,<span class="ruby-ivar">@format_fmt14</span>)
2968:     
2969:     <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
2970:     <span class="ruby-ivar">@format_fmt14</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt14</span>)
2971:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000282" class="method-detail">
        <a name="M000282"></a>

        <div class="method-heading">
          <a href="#M000282" class="method-signature">
          <span class="method-name">format_letter_fmt15</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000282-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000282-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3023</span>
3023:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt15</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3024:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3025:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-value str">&quot;&quot;</span>
3026:     <span class="ruby-comment cmt">#函号</span>
3027:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3028:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt15</span>)
3029:     <span class="ruby-comment cmt">#首席仲裁员</span>
3030:     <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
3031:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt15</span>)
3032:     <span class="ruby-comment cmt">#申请人仲裁员</span>
3033:     <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
3034:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt15</span>)
3035:     <span class="ruby-comment cmt">#被申请人仲裁员</span>
3036:     <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3037:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt15</span>)
3038:     <span class="ruby-comment cmt">#立案号</span>
3039:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3040:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt15</span>)
3041:     <span class="ruby-comment cmt">#日期</span>
3042:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3043:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3044:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3045:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt15</span>)
3046:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt15</span>)
3047:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt15</span>)
3048:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-identifier">get_sittingdate</span>(<span class="ruby-identifier">code</span>)
3049:     <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
3050:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_fmt15</span>)
3051:     
3052:     <span class="ruby-ivar">@sitting_place</span> = <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
3053:     <span class="ruby-identifier">sPlace</span>=<span class="ruby-value str">&quot;本会所在地&quot;</span>
3054:     <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;&quot;</span>
3055:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> 
3056:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
3057:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;4．前海仲裁庭位于前海E站通服务中心内。建议行车路线：深圳市滨海大道或北环大道西行至月亮湾大道，至东滨路口往西转，过铁路后左转前行200米左右到达。电话：0755-36668888）&quot;</span>
3058:     <span class="ruby-keyword kw">end</span>     
3059:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-identifier">sPlace</span>,<span class="ruby-ivar">@format_fmt15</span>)
3060:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">sInfo</span>,<span class="ruby-ivar">@format_fmt15</span>)
3061:     
3062:     <span class="ruby-ivar">@format_fmt15</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt15</span>)
3063:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000327" class="method-detail">
        <a name="M000327"></a>

        <div class="method-heading">
          <a href="#M000327" class="method-signature">
          <span class="method-name">format_letter_fmt161</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
退 费 审 批 表 &#8212;- 所有案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000327-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000327-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5966</span>
5966:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt161</span>(<span class="ruby-identifier">code</span>)
5967:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-value str">&quot;&quot;</span>
5968:     <span class="ruby-identifier">rep1</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
5969:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">rep1</span>,<span class="ruby-ivar">@format_fmt161</span>)
5970:     <span class="ruby-identifier">tb_caseendbook</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find_by_used_and_recevice_code</span>(<span class="ruby-value str">'Y'</span>,<span class="ruby-identifier">code</span>)
5971:     <span class="ruby-identifier">end_num</span> = (<span class="ruby-identifier">tb_caseendbook!</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">tb_caseendbook</span>.<span class="ruby-identifier">arbitBookNum</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
5972:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">end_num</span>,<span class="ruby-ivar">@format_fmt161</span>)
5973:     <span class="ruby-identifier">zl</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
5974:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">zl</span>,<span class="ruby-ivar">@format_fmt161</span>)
5975:     <span class="ruby-identifier">rep4</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5976:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">rep4</span>,<span class="ruby-ivar">@format_fmt161</span>)
5977:     <span class="ruby-identifier">rep5</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5978:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">rep5</span>,<span class="ruby-ivar">@format_fmt161</span>)
5979:     <span class="ruby-identifier">expend_detail</span> = <span class="ruby-constant">TbExpendDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? &quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5980:     <span class="ruby-identifier">rep6</span>=<span class="ruby-value str">&quot;&quot;</span>
5981:     <span class="ruby-identifier">rep7</span> = <span class="ruby-value str">&quot;_____年__月__日&quot;</span>
5982:     <span class="ruby-identifier">rep10</span> = <span class="ruby-value str">&quot;&quot;</span>    
5983:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">expend_detail!</span>=<span class="ruby-keyword kw">nil</span>
5984:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">expend_detail</span>.<span class="ruby-identifier">expend_date!</span>=<span class="ruby-keyword kw">nil</span>
5985:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">expend_detail</span>.<span class="ruby-identifier">expend_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5986:         <span class="ruby-identifier">rep7</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5987:       <span class="ruby-keyword kw">end</span>
5988:       <span class="ruby-identifier">rep10</span> =<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">expend_detail</span>.<span class="ruby-identifier">rmb_money</span>)
5989:       
5990:       <span class="ruby-identifier">sOtherPay</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and typ='0007' &quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;re_rmb_money &quot;</span>)      
5991:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
5992:       <span class="ruby-identifier">sOtherPay</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sPay</span><span class="ruby-operator">|</span>
5993:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
5994:                 <span class="ruby-identifier">rep6</span>=<span class="ruby-identifier">rep6</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;+&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">sPay</span>.<span class="ruby-identifier">re_rmb_money</span>) 
5995:               <span class="ruby-keyword kw">else</span>
5996:                 <span class="ruby-identifier">rep6</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">sPay</span>.<span class="ruby-identifier">re_rmb_money</span>) 
5997:               <span class="ruby-keyword kw">end</span>
5998:               <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
5999:        <span class="ruby-keyword kw">end</span>            
6000:       
6001:     <span class="ruby-keyword kw">end</span>
6002:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">rep6</span>,<span class="ruby-ivar">@format_fmt161</span>)
6003:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">rep7</span>,<span class="ruby-ivar">@format_fmt161</span>)
6004:     <span class="ruby-ivar">@format_fmt161</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">rep10</span>,<span class="ruby-ivar">@format_fmt161</span>)
6005:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000328" class="method-detail">
        <a name="M000328"></a>

        <div class="method-heading">
          <a href="#M000328" class="method-signature">
          <span class="method-name">format_letter_fmt162</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
生效证明&#8212;- 所有案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000328-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000328-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6009</span>
6009:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt162</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
6010:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-value str">&quot;&quot;</span>
6011:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>),<span class="ruby-ivar">@format_fmt162</span>)
6012:     <span class="ruby-identifier">end_num</span>=<span class="ruby-identifier">get_send_code</span>(<span class="ruby-identifier">code</span>)
6013:     <span class="ruby-identifier">tb_caseendbook</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find_by_used_and_recevice_code</span>(<span class="ruby-value str">'Y'</span>,<span class="ruby-identifier">code</span>)
6014:     <span class="ruby-keyword kw">if</span>  <span class="ruby-identifier">tb_caseendbook</span>
6015:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">tb_caseendbook</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6016:       <span class="ruby-identifier">rep2</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
6017:       <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">rep2</span>,<span class="ruby-ivar">@format_fmt162</span>)
6018:     <span class="ruby-keyword kw">end</span>
6019:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">end_num</span>,<span class="ruby-ivar">@format_fmt162</span>)
6020:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
6021:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt162</span>)
6022:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
6023:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt162</span>)
6024:     <span class="ruby-identifier">arr_date6</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6025:     <span class="ruby-identifier">rep6</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
6026:     <span class="ruby-ivar">@format_fmt162</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">rep6</span>,<span class="ruby-ivar">@format_fmt162</span>)
6027:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000329" class="method-detail">
        <a name="M000329"></a>

        <div class="method-heading">
          <a href="#M000329" class="method-signature">
          <span class="method-name">format_letter_fmt163</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000329-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000329-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6029</span>
6029:    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt163</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
6030:     
6031:     <span class="ruby-ivar">@format_fmt163</span> = <span class="ruby-value str">&quot;&quot;</span>
6032:     <span class="ruby-ivar">@format_fmt163</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>),<span class="ruby-ivar">@format_fmt163</span>)
6033:     
6034:     <span class="ruby-identifier">arr_date6</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)    
6035:     <span class="ruby-ivar">@format_fmt163</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>,<span class="ruby-ivar">@format_fmt163</span>)
6036:     <span class="ruby-ivar">@format_fmt163</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>,<span class="ruby-ivar">@format_fmt163</span>)
6037:     <span class="ruby-ivar">@format_fmt163</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date6</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>,<span class="ruby-ivar">@format_fmt163</span>)
6038:         
6039:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000283" class="method-detail">
        <a name="M000283"></a>

        <div class="method-heading">
          <a href="#M000283" class="method-signature">
          <span class="method-name">format_letter_fmt17</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
简易：组庭、开庭通知当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000283-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000283-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3065</span>
3065:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt17</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3066:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3067:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-value str">&quot;&quot;</span>
3068:     <span class="ruby-comment cmt">#函号</span>
3069:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3070:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt17</span>)
3071:     <span class="ruby-comment cmt">#申请人</span>
3072:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3073:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt17</span>)
3074:     <span class="ruby-comment cmt">#被申请人</span>
3075:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3076:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt17</span>)
3077:     <span class="ruby-comment cmt">#立案号</span>
3078:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3079:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt17</span>)
3080:     <span class="ruby-comment cmt">#独立仲裁员</span>
3081:     <span class="ruby-ivar">@style1</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3082:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span>
3083:       <span class="ruby-ivar">@style1</span>=<span class="ruby-value str">&quot;委托本会主任指定&quot;</span>
3084:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3085:       <span class="ruby-ivar">@style1</span>=<span class="ruby-value str">&quot;共同委托本会主任指定&quot;</span>
3086:     <span class="ruby-keyword kw">end</span>
3087:     <span class="ruby-ivar">@independent_arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3088:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3089:       <span class="ruby-ivar">@independent_arbitrator1</span>=<span class="ruby-value str">&quot;因双方未在规定的期限内共同选定/共同委托指定独任仲裁员，本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@independent_arbitrator</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案独任仲裁员&quot;</span>
3090:     <span class="ruby-keyword kw">else</span>
3091:       <span class="ruby-ivar">@independent_arbitrator1</span>=<span class="ruby-value str">&quot;双方&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style1</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@independent_arbitrator</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案独任仲裁员&quot;</span>
3092:     <span class="ruby-keyword kw">end</span>
3093:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@independent_arbitrator1</span>,<span class="ruby-ivar">@format_fmt17</span>)
3094:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@independent_arbitrator</span>,<span class="ruby-ivar">@format_fmt17</span>)
3095:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@independent_arbitrator</span>,<span class="ruby-ivar">@format_fmt17</span>)
3096:     <span class="ruby-comment cmt">#组庭日期</span>
3097:     <span class="ruby-ivar">@case_date</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
3098:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
3099:       <span class="ruby-ivar">@org_date</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case_date</span>.<span class="ruby-identifier">orgdate</span>)
3100:     <span class="ruby-keyword kw">else</span>
3101:       <span class="ruby-ivar">@org_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
3102:     <span class="ruby-keyword kw">end</span>
3103:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@org_date</span>,<span class="ruby-ivar">@format_fmt17</span>)
3104:     <span class="ruby-comment cmt">#审限（裁决期限）</span>
3105:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
3106:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@end_date</span>.<span class="ruby-identifier">finally_limit_dat!</span>= <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@end_date</span>.<span class="ruby-identifier">finally_limit_dat!</span>= <span class="ruby-value str">&quot;&quot;</span>
3107:       <span class="ruby-ivar">@end_date</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@end_date</span>.<span class="ruby-identifier">finally_limit_dat</span>)
3108:     <span class="ruby-keyword kw">else</span>
3109:       <span class="ruby-ivar">@end_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
3110:     <span class="ruby-keyword kw">end</span>
3111:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@end_date</span>,<span class="ruby-ivar">@format_fmt17</span>)
3112:     <span class="ruby-comment cmt">#日期</span>
3113:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3114:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3115:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3116:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt17</span>)
3117:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt17</span>)
3118:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt17</span>)
3119:     <span class="ruby-comment cmt">#助理</span>
3120:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
3121:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3122:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3123:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
3124:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt17</span>)
3125:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt17</span>)
3126:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt17</span>)
3127:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt17</span>)
3128:     <span class="ruby-ivar">@replace17</span> = <span class="ruby-identifier">get_sittingdate</span>(<span class="ruby-identifier">code</span>)
3129:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace17</span>,<span class="ruby-ivar">@format_fmt17</span>)
3130:     
3131:     <span class="ruby-ivar">@sitting_place</span> = <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
3132:     <span class="ruby-identifier">sPlace</span>=<span class="ruby-value str">&quot;本会所在地&quot;</span>
3133:     <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;&quot;</span>
3134:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> 
3135:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
3136:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;前海仲裁庭位于前海E站通服务中心内。建议行车路线：深圳市滨海大道或北环大道西行至月亮湾大道，至东滨路口往西转，过铁路后左转前行200米左右到达。电话：0755-36668888）&quot;</span>
3137:                 <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span> 
3138:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
3139:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;证券仲裁庭地址：深圳证券交易所旧楼（深南东路5045号深业中心）2楼深圳国际仲裁院证券仲裁庭，地铁1、2号线大剧院站F出口，电话：25918321。如开车参加开庭，可以向本会前台索取停车票。&quot;</span>
3140:     <span class="ruby-keyword kw">else</span>
3141:                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;目前中银大厦停车位紧张，请尽量选择乘坐公共交通工具参加开庭。如开车参加开庭，可以选择将车辆停放到中银大厦旁边的深业花园住宅区，入场时请出示本开庭通知，离场时可凭本会提供的停车票免费停车。&quot;</span>
3142:     <span class="ruby-keyword kw">end</span>     
3143:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-identifier">sPlace</span>,<span class="ruby-ivar">@format_fmt17</span>)
3144:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">sInfo</span>,<span class="ruby-ivar">@format_fmt17</span>)
3145:     
3146:     <span class="ruby-ivar">@replace17</span> = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
3147:     <span class="ruby-ivar">@format_fmt17</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace18</span>,<span class="ruby-ivar">@format_fmt17</span>)
3148:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000278" class="method-detail">
        <a name="M000278"></a>

        <div class="method-heading">
          <a href="#M000278" class="method-signature">
          <span class="method-name">format_letter_fmt17a</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
简易——组庭通知当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000278-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000278-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2641</span>
2641:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt17a</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2642:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2643:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-value str">&quot;&quot;</span>
2644:     <span class="ruby-comment cmt">#函号</span>
2645:     <span class="ruby-identifier">file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2646:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">file_code</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2647:     <span class="ruby-comment cmt">#申请人</span>
2648:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2649:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2650:     <span class="ruby-comment cmt">#被申请人</span>
2651:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2652:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2653:     <span class="ruby-comment cmt">#立案号</span>
2654:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2655:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2656:     <span class="ruby-ivar">@style3</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-comment cmt">#独任仲裁员选定方式</span>
2657:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
2658:       <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;因双方未在规定的期限内共同选定或共同委托本会主任指定独任仲裁员而由本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案独任仲裁员&quot;</span>
2659:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
2660:       <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方共同委托本会主任指定独任仲裁员而由本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案独任仲裁员&quot;</span>
2661:     <span class="ruby-keyword kw">else</span>
2662:       <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style3</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案独任仲裁员&quot;</span>
2663:     <span class="ruby-keyword kw">end</span>
2664:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@nine</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2665:     <span class="ruby-comment cmt">#组庭日期</span>
2666:     <span class="ruby-ivar">@case_date</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
2667:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_date</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
2668:       <span class="ruby-ivar">@org_date</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case_date</span>.<span class="ruby-identifier">orgdate</span>)
2669:     <span class="ruby-keyword kw">else</span>
2670:       <span class="ruby-ivar">@org_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
2671:     <span class="ruby-keyword kw">end</span>
2672:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@org_date</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2673:     <span class="ruby-comment cmt">#独任仲裁员</span>
2674:     <span class="ruby-identifier">c1</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2675:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">c1</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2676:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-identifier">c1</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2677:     <span class="ruby-comment cmt">#审限（裁决期限）</span>
2678:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">finally_limit_dat</span>
2679:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@end_date!</span>=<span class="ruby-keyword kw">nil</span>
2680:       <span class="ruby-ivar">@end_date</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@end_date</span>)
2681:     <span class="ruby-keyword kw">else</span>
2682:       <span class="ruby-ivar">@end_date</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
2683:     <span class="ruby-keyword kw">end</span>
2684:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@end_date</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2685:     <span class="ruby-comment cmt">#日期</span>
2686:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2687:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2688:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2689:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2690:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2691:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2692:     <span class="ruby-comment cmt">#办案助理</span>
2693:     <span class="ruby-ivar">@zl_name</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2694:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2695:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2696:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2697:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_name</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2698:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2699:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2700:     <span class="ruby-ivar">@format_fmt17a</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt17a</span>)
2701:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000281" class="method-detail">
        <a name="M000281"></a>

        <div class="method-heading">
          <a href="#M000281" class="method-signature">
          <span class="method-name">format_letter_fmt17b</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭通知当事人——简易案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000281-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000281-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2973</span>
2973:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt17b</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2974:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2975:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-value str">&quot;&quot;</span>
2976:     <span class="ruby-comment cmt">#函号</span>
2977:     <span class="ruby-identifier">file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2978:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">file_code</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2979:     <span class="ruby-comment cmt">#申请人</span>
2980:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2981:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2982:     <span class="ruby-comment cmt">#被申请人</span>
2983:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2984:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2985:     <span class="ruby-comment cmt">#立案号</span>
2986:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2987:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2988:     <span class="ruby-comment cmt">#助理email</span>
2989:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2990:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2991:     <span class="ruby-comment cmt">#日期</span>
2992:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2993:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2994:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2995:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2996:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2997:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt17b</span>)
2998:     <span class="ruby-identifier">arbit</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2999:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-identifier">arbit</span>,<span class="ruby-ivar">@format_fmt17b</span>)
3000:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-identifier">get_sittingdate</span>(<span class="ruby-identifier">code</span>)
3001:     <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
3002:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_fmt17b</span>)   
3003:         
3004:     <span class="ruby-ivar">@sitting_place</span> = <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
3005:     <span class="ruby-identifier">sPlace</span>=<span class="ruby-value str">&quot;本会所在地&quot;</span>
3006:     <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;&quot;</span>
3007:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> 
3008:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
3009:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：前海仲裁庭位于前海E站通服务中心内。建议行车路线：深圳市滨海大道或北环大道西行至月亮湾大道，至东滨路口往西转，过铁路后左转前行200米左右到达。电话：0755-36668888）&quot;</span>
3010:                 <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span> 
3011:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
3012:                                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：证券仲裁庭地址：深圳证券交易所旧楼（深南东路5045号深业中心）2楼深圳国际仲裁院证券仲裁庭，地铁1、2号线大剧院站F出口，电话：25918321。如开车参加开庭，可以向本会前台索取停车票。&quot;</span>
3013:     <span class="ruby-keyword kw">else</span>
3014:                 <span class="ruby-identifier">sInfo</span>=<span class="ruby-value str">&quot;注：目前中银大厦停车位紧张，请尽量选择乘坐公共交通工具参加开庭。如开车参加开庭，可以选择将车辆停放到中银大厦旁边的深业花园住宅区，入场时请出示本开庭通知，离场时可凭本会提供的停车票免费停车。&quot;</span>
3015:     <span class="ruby-keyword kw">end</span>     
3016:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-identifier">sPlace</span>,<span class="ruby-ivar">@format_fmt17b</span>)
3017:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">sInfo</span>,<span class="ruby-ivar">@format_fmt17b</span>)
3018:     
3019:     <span class="ruby-ivar">@format_fmt17b</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt17b</span>)
3020: 
3021:     
3022:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000284" class="method-detail">
        <a name="M000284"></a>

        <div class="method-heading">
          <a href="#M000284" class="method-signature">
          <span class="method-name">format_letter_fmt18</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
转函&#8212;此函公用
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000284-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000284-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3150</span>
3150:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt18</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
3151:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3152:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-value str">&quot;&quot;</span>
3153:     <span class="ruby-comment cmt">#函号</span>
3154:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3155:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt18</span>)
3156:     <span class="ruby-comment cmt">#立案号</span>
3157:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3158:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt18</span>)
3159:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>  <span class="ruby-comment cmt">#申请人</span>
3160:       <span class="ruby-identifier">r4</span> = <span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3161:       <span class="ruby-ivar">@replace16</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>
3162:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3163:       <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt18</span>)
3164:       <span class="ruby-comment cmt">#收文:被申请人或者第三方提交的日期、资料</span>
3165:       <span class="ruby-ivar">@recevicedate1</span>=<span class="ruby-identifier">get_recevicedate1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;&quot;</span>)
3166:       <span class="ruby-ivar">@materialtype1</span>=<span class="ruby-identifier">get_materialtype1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;&quot;</span>)
3167:       <span class="ruby-ivar">@str8</span>=<span class="ruby-value str">&quot;申请人附去我会秘书处于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@recevicedate1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;收到的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提交的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@materialtype1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;一式一份&quot;</span>
3168:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-comment cmt">#被申请人;发给被申请人的</span>
3169:       <span class="ruby-identifier">r4</span> = <span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3170:       <span class="ruby-ivar">@replace16</span> = <span class="ruby-value str">&quot;申请人&quot;</span>
3171:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3172:       <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt18</span>)
3173:       <span class="ruby-comment cmt">#收文:申请人提交的日期、资料</span>
3174:       <span class="ruby-ivar">@str8</span>=<span class="ruby-value str">&quot;被申请人附去我会秘书处于&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_recevicedate2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;&quot;</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;收到的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提交的&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_materialtype2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;&quot;</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;一式一份&quot;</span>
3175:     <span class="ruby-keyword kw">else</span>      <span class="ruby-comment cmt"># p_v=='0003'  双方</span>
3176:       <span class="ruby-identifier">r4</span> = <span class="ruby-value str">&quot;双方&quot;</span>
3177:       <span class="ruby-ivar">@replace16</span> = <span class="ruby-value str">&quot;申请人、被申请人&quot;</span>
3178:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3179:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3180:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant1!</span>=<span class="ruby-value str">&quot;_____&quot;</span>
3181:         <span class="ruby-ivar">@applicants</span> = <span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@respondents</span>
3182:       <span class="ruby-keyword kw">end</span>
3183:       <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt18</span>)
3184:       <span class="ruby-comment cmt">#收文:被申请人提交的日期、资料;申请人提交的日期、资料</span>
3185: 
3186:       <span class="ruby-ivar">@recevicedate11</span> = <span class="ruby-identifier">get_recevicedate1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;two&quot;</span>)
3187:       <span class="ruby-ivar">@materialtype11</span> = <span class="ruby-identifier">get_materialtype1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;two&quot;</span>)
3188:       <span class="ruby-ivar">@recevicedate12</span> = <span class="ruby-identifier">get_recevicedate2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;two&quot;</span>)
3189:       <span class="ruby-ivar">@materialtype12</span> = <span class="ruby-identifier">get_materialtype2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;two&quot;</span>)
3190:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;===================&quot;</span>
3191:       <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@recevicedate12</span>
3192:       <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@materialtype12</span>
3193:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;===================&quot;</span>
3194:       <span class="ruby-ivar">@str8</span> = <span class="ruby-value str">&quot;申请人附去我会秘书处于&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-ivar">@recevicedate11</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;收到的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0003&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提交的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@materialtype11</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;一式一份&quot;</span> <span class="ruby-operator">+</span>
3195:       <span class="ruby-value str">&quot;，向被申请人附去我会秘书处于&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@recevicedate12</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;收到的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0004&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提交的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@materialtype12</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;一式一份&quot;</span>
3196:       <span class="ruby-ivar">@amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? &quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
3197:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">submitman2</span>.<span class="ruby-identifier">blank?</span>
3198:         <span class="ruby-ivar">@str8</span> = <span class="ruby-value str">&quot;双方当事人附去我会秘书处于&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-ivar">@recevicedate11</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;收到的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0003&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;提交的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@materialtype11</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;各一式一份&quot;</span>
3199:       <span class="ruby-keyword kw">end</span>
3200: 
3201:     <span class="ruby-keyword kw">end</span>
3202:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">r4</span>,<span class="ruby-ivar">@format_fmt18</span>)
3203:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@str8</span>,<span class="ruby-ivar">@format_fmt18</span>)
3204:     <span class="ruby-comment cmt">#材料数量</span>
3205:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3206:       <span class="ruby-identifier">p_v</span>=<span class="ruby-value str">'0002'</span>
3207:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3208:       <span class="ruby-identifier">p_v</span>=<span class="ruby-value str">'0001'</span>
3209:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span><span class="ruby-comment cmt">#选择双方时，提交资料数量是多少？--按被申请人的</span>
3210:       <span class="ruby-identifier">p_v</span>=<span class="ruby-value str">'0001'</span>
3211:     <span class="ruby-keyword kw">else</span>
3212:       <span class="ruby-identifier">p_v</span>=<span class="ruby-value str">'0'</span>
3213:     <span class="ruby-keyword kw">end</span>
3214:     <span class="ruby-ivar">@nn</span>=<span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,p_v)</span>
3215:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@nn</span>,<span class="ruby-ivar">@format_fmt18</span>)
3216:     <span class="ruby-comment cmt">#日期</span>
3217:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3218:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3219:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3220:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt18</span>)
3221:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt18</span>)
3222:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt18</span>)
3223:     <span class="ruby-comment cmt">#组庭前发文不显示仲裁员，否则显示</span>
3224:     <span class="ruby-ivar">@sittiing</span>=<span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>)
3225:     <span class="ruby-ivar">@ss_t</span>=<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and id=#{doc_id}&quot;</span>).<span class="ruby-identifier">ss_t</span>
3226:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittiing!</span>=<span class="ruby-keyword kw">nil</span>
3227:       <span class="ruby-ivar">@orgdate</span>=<span class="ruby-ivar">@sittiing</span>.<span class="ruby-identifier">orgdate</span>
3228:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@orgdate</span><span class="ruby-operator">&lt;</span><span class="ruby-ivar">@ss_t</span>
3229:         <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-value str">&quot;&quot;</span>
3230:         <span class="ruby-comment cmt">#仲裁员</span>
3231:         <span class="ruby-ivar">@an_case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3232:         <span class="ruby-ivar">@an</span> = <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">aribitprog_num</span>
3233:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">special_convention</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0002&quot;</span>
3234:           <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;首席仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;（附&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@replace16</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;材料）&quot;</span>
3235:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">special_convention</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span>
3236:           <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;独任仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;（附&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@replace16</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;材料）&quot;</span>
3237:         <span class="ruby-keyword kw">else</span>
3238:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>
3239:             <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;首席仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;（附&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@replace16</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;材料）&quot;</span>
3240:           <span class="ruby-keyword kw">else</span>
3241:             <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;独任仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;（附&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@replace16</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;材料）&quot;</span>
3242:           <span class="ruby-keyword kw">end</span>
3243:         <span class="ruby-keyword kw">end</span>
3244:       <span class="ruby-keyword kw">else</span>
3245:         <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-value str">&quot;&quot;</span>
3246:       <span class="ruby-keyword kw">end</span>
3247:     <span class="ruby-keyword kw">else</span>
3248:       <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-value str">&quot;&quot;</span>
3249:     <span class="ruby-keyword kw">end</span>
3250:     <span class="ruby-ivar">@format_fmt18</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitman1</span>,<span class="ruby-ivar">@format_fmt18</span>)
3251:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000285" class="method-detail">
        <a name="M000285"></a>

        <div class="method-heading">
          <a href="#M000285" class="method-signature">
          <span class="method-name">format_letter_fmt19</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
当事人是可选的，地址相应改变 空缺 ###
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000285-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000285-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3253</span>
3253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt19</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3254:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3255:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-value str">&quot;&quot;</span>
3256:     <span class="ruby-comment cmt">#函号</span>
3257:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3258:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt19</span>)
3259:    <span class="ruby-comment cmt">#立案号</span>
3260:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3261:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt19</span>)
3262:     <span class="ruby-comment cmt">#当事人</span>
3263:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype=2 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
3264:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
3265:       <span class="ruby-ivar">@applicant</span> = <span class="ruby-value str">&quot;_____&quot;</span>
3266:       <span class="ruby-ivar">@addr</span> = <span class="ruby-value str">&quot;_____&quot;</span>
3267:     <span class="ruby-keyword kw">else</span>
3268:       <span class="ruby-ivar">@applicant</span> = <span class="ruby-value str">&quot;&quot;</span>
3269:       <span class="ruby-ivar">@addr</span> = <span class="ruby-value str">&quot;&quot;</span>
3270:       <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
3271:         <span class="ruby-ivar">@applicant</span> = <span class="ruby-ivar">@applicant</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;, &quot;</span>
3272:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">addr!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">addr!</span>=<span class="ruby-value str">&quot;&quot;</span>
3273:           <span class="ruby-ivar">@addr</span> = <span class="ruby-ivar">@addr</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">addr</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;, &quot;</span>
3274:         <span class="ruby-keyword kw">end</span>
3275:       <span class="ruby-keyword kw">end</span>
3276:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant!</span>=<span class="ruby-value str">&quot;&quot;</span>
3277:         <span class="ruby-ivar">@applicant</span> = <span class="ruby-ivar">@applicant</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
3278:       <span class="ruby-keyword kw">end</span>
3279:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@addr!</span>=<span class="ruby-value str">&quot;&quot;</span>
3280:         <span class="ruby-ivar">@addr</span> = <span class="ruby-ivar">@addr</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@addr</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
3281:       <span class="ruby-keyword kw">end</span>
3282:     <span class="ruby-keyword kw">end</span>
3283:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant</span>,<span class="ruby-ivar">@format_fmt19</span>)
3284:     <span class="ruby-comment cmt">#地址</span>
3285:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@addr</span>,<span class="ruby-ivar">@format_fmt19</span>)
3286:     <span class="ruby-comment cmt">#日期</span>
3287:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3288:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3289:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3290:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt19</span>)
3291:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt19</span>)
3292:     <span class="ruby-ivar">@format_fmt19</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt19</span>)
3293:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000286" class="method-detail">
        <a name="M000286"></a>

        <div class="method-heading">
          <a href="#M000286" class="method-signature">
          <span class="method-name">format_letter_fmt20</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
空白函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000286-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000286-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3295</span>
3295:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt20</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
3296:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3297:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-value str">&quot;&quot;</span>
3298:     <span class="ruby-comment cmt">#函号</span>
3299:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3300:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt20</span>)
3301:     <span class="ruby-comment cmt">#立案号</span>
3302:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3303:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt20</span>)
3304:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3305:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3306:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3307:       <span class="ruby-ivar">@applicants</span> =<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3308:     <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># p_v=='0003'</span>
3309:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3310:     <span class="ruby-keyword kw">end</span>
3311:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt20</span>)
3312:     <span class="ruby-comment cmt">#日期</span>
3313:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3314:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3315:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3316:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt20</span>)
3317:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt20</span>)
3318:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt20</span>)
3319:     <span class="ruby-comment cmt">#组庭前发文不显示仲裁员，否则显示</span>
3320:     <span class="ruby-ivar">@sittiing</span>=<span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>)
3321:     <span class="ruby-ivar">@ss_t</span>=<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and id=#{doc_id}&quot;</span>).<span class="ruby-identifier">ss_t</span>
3322:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittiing!</span>=<span class="ruby-keyword kw">nil</span>
3323:       <span class="ruby-ivar">@orgdate</span>=<span class="ruby-ivar">@sittiing</span>.<span class="ruby-identifier">orgdate</span>
3324:       <span class="ruby-comment cmt">#if @ss_t&lt;=@orgdate</span>
3325:         <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-value str">&quot;&quot;</span>
3326:         <span class="ruby-comment cmt">#仲裁员</span>
3327:         <span class="ruby-ivar">@an_case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3328:         <span class="ruby-ivar">@an</span> = <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">aribitprog_num</span>
3329:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">special_convention</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0002&quot;</span>
3330:           <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;首席仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3331:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@an_case</span>.<span class="ruby-identifier">special_convention</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span>
3332:           <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;独任仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3333:         <span class="ruby-keyword kw">else</span>
3334:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span> <span class="ruby-comment cmt">#添加了0007 2010-2-23 niell</span>
3335:             <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;首席仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;      仲  裁  员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3336:           <span class="ruby-keyword kw">else</span>
3337:             <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-ivar">@arbitman1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;抄送：&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;独任仲裁员：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3338:           <span class="ruby-keyword kw">end</span>
3339:         <span class="ruby-keyword kw">end</span>
3340:       <span class="ruby-comment cmt">#else</span>
3341:         <span class="ruby-comment cmt">#@arbitman1=&quot;&quot;</span>
3342:       <span class="ruby-comment cmt">#end</span>
3343:     <span class="ruby-keyword kw">else</span>
3344:       <span class="ruby-ivar">@arbitman1</span>=<span class="ruby-value str">&quot;&quot;</span>
3345:     <span class="ruby-keyword kw">end</span>
3346:     <span class="ruby-ivar">@format_fmt20</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitman1</span>,<span class="ruby-ivar">@format_fmt20</span>)
3347:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000287" class="method-detail">
        <a name="M000287"></a>

        <div class="method-heading">
          <a href="#M000287" class="method-signature">
          <span class="method-name">format_letter_fmt23b</span><span class="method-args">(code,p_v,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
普通案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000287-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000287-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3349</span>
3349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt23b</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">ar_nu</span>)
3350:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3351:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-value str">&quot;&quot;</span>
3352:     <span class="ruby-comment cmt">#立案号</span>
3353:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3354:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3355:     <span class="ruby-comment cmt">#申请人</span>
3356:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3357:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3358:     <span class="ruby-comment cmt">#申请人代理人(可多名）</span>
3359:     <span class="ruby-ivar">@applicant_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3360:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3361:     <span class="ruby-comment cmt">#被申请人</span>
3362:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3363:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3364:     <span class="ruby-comment cmt">#被申请人代理人(可多名）</span>
3365:     <span class="ruby-ivar">@respondent_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3366:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3367:     <span class="ruby-ivar">@a</span>=<span class="ruby-identifier">get_fix_appoint</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
3368:     <span class="ruby-ivar">@b</span>=<span class="ruby-identifier">get_fix_appoint</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3369:     <span class="ruby-ivar">@c</span>=<span class="ruby-identifier">get_fix_appoint_2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;'0001','0002'&quot;</span>)
3370:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span>
3371:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@a!</span>=<span class="ruby-value str">&quot;指定&quot;</span>
3372:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;申请人的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@a</span>
3373:       <span class="ruby-keyword kw">else</span>
3374:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3375:       <span class="ruby-keyword kw">end</span>
3376:       <span class="ruby-ivar">@replace7</span>=<span class="ruby-ivar">@a</span>
3377:       <span class="ruby-ivar">@replace8</span>=<span class="ruby-ivar">@a</span>
3378:       <span class="ruby-ivar">@replace9</span>=<span class="ruby-ivar">@a</span>
3379:       <span class="ruby-ivar">@rep10</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
3380:       <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
3381:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
3382:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@b!</span>=<span class="ruby-value str">&quot;指定&quot;</span>
3383:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;被申请人的&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@b</span>
3384:       <span class="ruby-keyword kw">else</span>
3385:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3386:       <span class="ruby-keyword kw">end</span>
3387:       <span class="ruby-ivar">@replace7</span>=<span class="ruby-ivar">@b</span>
3388:       <span class="ruby-ivar">@replace8</span>=<span class="ruby-ivar">@b</span>
3389:       <span class="ruby-ivar">@replace9</span>=<span class="ruby-ivar">@b</span>
3390:       <span class="ruby-ivar">@rep10</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
3391:       <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
3392:     <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># p_v=='0008'</span>
3393:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@c!</span>=<span class="ruby-value str">&quot;指定&quot;</span>
3394:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;双方当事人的共同选定&quot;</span>
3395:       <span class="ruby-keyword kw">else</span>
3396:         <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3397:       <span class="ruby-keyword kw">end</span>
3398:       <span class="ruby-comment cmt">#@replace6=&quot;本会主任的&quot; + @c</span>
3399:       <span class="ruby-ivar">@replace7</span>=<span class="ruby-ivar">@c</span>
3400:       <span class="ruby-ivar">@replace8</span>=<span class="ruby-ivar">@c</span>
3401:       <span class="ruby-ivar">@replace9</span>=<span class="ruby-ivar">@c</span>
3402:       <span class="ruby-ivar">@rep10</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span>
3403:       <span class="ruby-ivar">@rep11</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span>
3404:       <span class="ruby-comment cmt">#    else</span>
3405:       <span class="ruby-comment cmt">#      @replace6=&quot;申请人的选定/被申请人的选定/本会主任的指定&quot;</span>
3406:       <span class="ruby-comment cmt">#      @replace7=&quot;选定/指定&quot;</span>
3407:       <span class="ruby-comment cmt">#      @replace8=&quot;选定/指定&quot;</span>
3408:       <span class="ruby-comment cmt">#      @replace9=&quot;选定/指定&quot;</span>
3409:       <span class="ruby-comment cmt">#      @rep10 = &quot;首席仲裁员&quot;</span>
3410:     <span class="ruby-keyword kw">end</span>
3411:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace6</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3412:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace7</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3413:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace8</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3414:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace9</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3415:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep10</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3416:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep11</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3417:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0005'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0007'</span>)
3418:       <span class="ruby-identifier">str12</span> = <span class="ruby-value str">&quot;《中国国际经济贸易仲裁委员会金融争议仲裁规则》、&quot;</span>
3419:       <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
3420:     <span class="ruby-keyword kw">else</span>
3421:       <span class="ruby-identifier">str12</span> = <span class="ruby-value str">&quot;&quot;</span>
3422:       <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;&quot;</span>
3423:     <span class="ruby-keyword kw">end</span>
3424:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-identifier">str12</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3425:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">str13</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3426:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000288" class="method-detail">
        <a name="M000288"></a>

        <div class="method-heading">
          <a href="#M000288" class="method-signature">
          <span class="method-name">format_letter_fmt23c</span><span class="method-args">(code,p_v,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
普通案件2
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000288-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000288-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3428</span>
3428:  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt23c</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">ar_nu</span>)
3429:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3430:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-value str">&quot;&quot;</span>
3431:     <span class="ruby-comment cmt">#立案号</span>
3432:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3433:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3434:     <span class="ruby-comment cmt">#申请人</span>
3435:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3436:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3437:     <span class="ruby-comment cmt">#申请人代理人(可多名）</span>
3438:     <span class="ruby-ivar">@applicant_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3439:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3440:     <span class="ruby-comment cmt">#被申请人</span>
3441:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3442:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3443:     <span class="ruby-comment cmt">#被申请人代理人(可多名）</span>
3444:     <span class="ruby-ivar">@respondent_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3445:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3446:     
3447:     <span class="ruby-ivar">@b</span>=<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
3448:     <span class="ruby-ivar">@c</span>=<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
3449:     <span class="ruby-ivar">@style1</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-comment cmt">#申请人方仲裁员选定方式</span>
3450:     <span class="ruby-ivar">@style2</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-comment cmt">#被申请人方仲裁员选定方式</span>
3451:     <span class="ruby-ivar">@style3</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-comment cmt">#首席仲裁员选定方式</span>
3452:     <span class="ruby-comment cmt">#只用于普通案件</span>
3453: 
3454:     <span class="ruby-comment cmt">#当事人xxx选定/指定xxx为仲裁员</span>
3455:     <span class="ruby-ivar">@n1</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=1 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3456:     <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=2 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3457:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3458:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
3459:         <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;因申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员而由本会主任为申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
3460:       <span class="ruby-keyword kw">else</span>
3461:         <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;因申请人未在规定的期限内选定或委托本会主任指定仲裁员而由本会主任为申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
3462:       <span class="ruby-keyword kw">end</span>
3463:       <span class="ruby-ivar">@replace7</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3464:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3465:                 <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任为申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
3466:           <span class="ruby-ivar">@replace7</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3467:     <span class="ruby-keyword kw">else</span>
3468:       <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
3469:       <span class="ruby-ivar">@replace7</span>=<span class="ruby-value str">&quot;申请人的选定&quot;</span>
3470:     <span class="ruby-keyword kw">end</span>
3471:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3472:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
3473:         <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;因被申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员而由本会主任为被申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3474:       <span class="ruby-keyword kw">else</span>
3475:         <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;因被申请人未在规定的期限内选定或委托本会主任指定仲裁员而由本会主任为被申请人指定仲裁员&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3476:       <span class="ruby-keyword kw">end</span>
3477:        <span class="ruby-ivar">@replace8</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3478:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>    
3479:                     <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任为被申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>       
3480:                     <span class="ruby-ivar">@replace8</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3481:     <span class="ruby-keyword kw">else</span>
3482:       <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案仲裁员&quot;</span>
3483:       <span class="ruby-ivar">@replace8</span>=<span class="ruby-value str">&quot;被申请人的选定&quot;</span>
3484:     <span class="ruby-keyword kw">end</span>
3485:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3486:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;因双方未在规定的期限内共同选定或共同委托本会主任指定首席仲裁员而由本会主任指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>
3487:         <span class="ruby-ivar">@replace9</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3488:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>    
3489:                     <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style3</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;本会主任指定仲裁员而由本会主任指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>   
3490:                     <span class="ruby-ivar">@replace9</span>=<span class="ruby-value str">&quot;本会主任的指定&quot;</span>
3491:     <span class="ruby-keyword kw">else</span>
3492:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;双方&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style3</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;作为本案首席仲裁员&quot;</span>
3493:         <span class="ruby-ivar">@replace9</span>=<span class="ruby-value str">&quot;双方当事人的共同选定&quot;</span>
3494:     <span class="ruby-keyword kw">end</span>
3495:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@seven</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3496:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@eight</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3497:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@nine</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3498:   
3499:     <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace7</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3500:                 <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace8</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3501:                 <span class="ruby-ivar">@format_fmt23c</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace9</span>,<span class="ruby-ivar">@format_fmt23c</span>)
3502:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000290" class="method-detail">
        <a name="M000290"></a>

        <div class="method-heading">
          <a href="#M000290" class="method-signature">
          <span class="method-name">format_letter_fmt23e</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000290-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000290-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3548</span>
3548:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt23e</span>(<span class="ruby-identifier">code</span>)
3549:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3550:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-value str">&quot;&quot;</span>
3551:     <span class="ruby-comment cmt">#立案号</span>
3552:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3553:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt23e</span>)
3554:     <span class="ruby-comment cmt">#申请人</span>
3555:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3556:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt23e</span>)
3557:     <span class="ruby-comment cmt">#被申请人</span>
3558:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3559:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt23e</span>)
3560:     <span class="ruby-comment cmt">#申请人代理人</span>
3561:     <span class="ruby-ivar">@applicant_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3562:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt23e</span>)
3563:     <span class="ruby-comment cmt">#被申请人代理人</span>
3564:     <span class="ruby-ivar">@respondent_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3565:     <span class="ruby-ivar">@format_fmt23e</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt23e</span>)
3566:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000289" class="method-detail">
        <a name="M000289"></a>

        <div class="method-heading">
          <a href="#M000289" class="method-signature">
          <span class="method-name">format_letter_fmt23m</span><span class="method-args">(code,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
简易案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000289-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000289-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3504</span>
3504:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt23m</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">ar_nu</span>)
3505:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3506:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-value str">&quot;&quot;</span>
3507:     <span class="ruby-comment cmt">#立案号</span>
3508:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3509:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3510:     <span class="ruby-comment cmt">#申请人</span>
3511:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3512:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3513:     <span class="ruby-comment cmt">#申请人代理人(可多名？）</span>
3514:     <span class="ruby-ivar">@applicant_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3515:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3516:     <span class="ruby-comment cmt">#被申请人</span>
3517:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3518:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3519:     <span class="ruby-comment cmt">#被申请人代理人(可多名？）</span>
3520:     <span class="ruby-ivar">@respondent_agent</span> = <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3521:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3522:     <span class="ruby-ivar">@independent_arbitrator</span>=<span class="ruby-identifier">get_fix_appoint_2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;'0001','0002'&quot;</span>)
3523:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@independent_arbitrator</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;指定&quot;</span>
3524:       <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;本会主任的&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@independent_arbitrator</span>
3525:     <span class="ruby-keyword kw">else</span>
3526:       <span class="ruby-ivar">@replace6</span>=<span class="ruby-value str">&quot;双方当事人的共同&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@independent_arbitrator</span>
3527:     <span class="ruby-keyword kw">end</span>
3528:     <span class="ruby-ivar">@replace7</span>=<span class="ruby-ivar">@independent_arbitrator</span>
3529:     <span class="ruby-ivar">@replace8</span>=<span class="ruby-ivar">@independent_arbitrator</span>
3530:     <span class="ruby-ivar">@replace9</span>=<span class="ruby-ivar">@independent_arbitrator</span>
3531:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace6</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3532:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace7</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3533:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace8</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3534:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace9</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3535:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;独任仲裁员&quot;</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3536:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;独任仲裁员&quot;</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3537:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0006'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0008'</span>)
3538:       <span class="ruby-identifier">str12</span> = <span class="ruby-value str">&quot;《中国国际经济贸易仲裁委员会金融争议仲裁规则》、&quot;</span>
3539:       <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
3540:     <span class="ruby-keyword kw">else</span>
3541:       <span class="ruby-identifier">str12</span> = <span class="ruby-value str">&quot;&quot;</span>
3542:       <span class="ruby-identifier">str13</span> = <span class="ruby-value str">&quot;&quot;</span>
3543:     <span class="ruby-keyword kw">end</span>
3544:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-identifier">str12</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3545:     <span class="ruby-ivar">@format_fmt23b</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">str13</span>,<span class="ruby-ivar">@format_fmt23b</span>)
3546:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000291" class="method-detail">
        <a name="M000291"></a>

        <div class="method-heading">
          <a href="#M000291" class="method-signature">
          <span class="method-name">format_letter_fmt24</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000291-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000291-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3568</span>
3568:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt24</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
3569:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3570:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-value str">&quot;&quot;</span>
3571:     <span class="ruby-comment cmt">#函号</span>
3572:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3573:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt24</span>)
3574:     <span class="ruby-comment cmt">#立案号</span>
3575:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3576:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt24</span>)
3577:     <span class="ruby-comment cmt">#当事人</span>
3578:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3579:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3580:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-value str">&quot;&quot;</span>
3581:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3582:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-value str">&quot;&quot;</span>
3583:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3584:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
3585:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3586:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3587:     <span class="ruby-keyword kw">else</span>
3588:     <span class="ruby-keyword kw">end</span>
3589:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt24</span>)
3590:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt24</span>)
3591:     <span class="ruby-comment cmt">#申请人仲裁员 被申请人仲裁员</span>
3592:     <span class="ruby-ivar">@aribitprog_num1</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3593:     <span class="ruby-ivar">@num</span>=<span class="ruby-ivar">@aribitprog_num1</span>.<span class="ruby-identifier">aribitprog_num</span>
3594:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@an</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-comment cmt"># 普通</span>
3595:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3596:         <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)
3597:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3598:         <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3599:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#p_v=='0003' 双方</span>
3600:         <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
3601:         <span class="ruby-ivar">@respondent_arbitrator</span> =<span class="ruby-value str">&quot;&quot;</span>
3602:       <span class="ruby-keyword kw">end</span>
3603:     <span class="ruby-keyword kw">else</span>
3604:       <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3605:       <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-value str">&quot;&quot;</span>
3606:     <span class="ruby-keyword kw">end</span>
3607:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt24</span>)
3608:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt24</span>)
3609:     <span class="ruby-comment cmt">#先按5天算</span>
3610:     <span class="ruby-ivar">@time_limit</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-value">5</span>)
3611:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@time_limit</span>,<span class="ruby-ivar">@format_fmt24</span>)
3612:     <span class="ruby-comment cmt">#日期</span>
3613:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3614:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3615:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3616:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt24</span>)
3617:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt24</span>)
3618:     <span class="ruby-ivar">@format_fmt24</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt24</span>)
3619:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000292" class="method-detail">
        <a name="M000292"></a>

        <div class="method-heading">
          <a href="#M000292" class="method-signature">
          <span class="method-name">format_letter_fmt27</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
预缴查询费 空缺 #########################
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000292-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000292-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3621</span>
3621:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt27</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3622:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3623:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-value str">&quot;&quot;</span>
3624:     <span class="ruby-comment cmt">#函号</span>
3625:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3626:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt27</span>)
3627:     <span class="ruby-comment cmt">#申请人</span>
3628:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3629:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt27</span>)
3630: 
3631:     <span class="ruby-comment cmt"># 案号</span>
3632:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3633:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt27</span>)
3634:     <span class="ruby-comment cmt">#预缴查询费</span>
3635:     <span class="ruby-comment cmt">#</span>
3636:     <span class="ruby-comment cmt">#</span>
3637:     <span class="ruby-comment cmt">#日期</span>
3638:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3639:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3640:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3641:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt27</span>)
3642:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt27</span>)
3643:     <span class="ruby-ivar">@format_fmt27</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt27</span>)
3644:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000293" class="method-detail">
        <a name="M000293"></a>

        <div class="method-heading">
          <a href="#M000293" class="method-signature">
          <span class="method-name">format_letter_fmt31</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000293-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000293-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3646</span>
3646:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt31</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3647:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-value str">&quot;&quot;</span>
3648:     <span class="ruby-comment cmt">#函号</span>
3649:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3650:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt31</span>)
3651:     <span class="ruby-comment cmt">#立案号</span>
3652:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3653:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt31</span>)
3654:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt31</span>)
3655:     <span class="ruby-comment cmt">#被申请人</span>
3656:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3657:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt31</span>)
3658:     <span class="ruby-comment cmt">#申请人</span>
3659:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
3660:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt31</span>)
3661:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同名称）</span>
3662:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
3663:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt31</span>)
3664:     <span class="ruby-comment cmt">#文件份数</span>
3665:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0002')</span>
3666:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt31</span>)
3667:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0002')</span>
3668:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_fmt31</span>)
3669:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt31</span>)
3670:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt31</span>)
3671:     <span class="ruby-comment cmt">#    @format_fmt31 = add_record(&quot;&lt;23$$$&gt;&quot;,@copies,@format_fmt31)</span>
3672:     <span class="ruby-comment cmt">#助理</span>
3673:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
3674:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3675:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3676:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
3677:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt31</span>)
3678:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt31</span>)
3679:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt31</span>)
3680:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt31</span>)
3681:     <span class="ruby-comment cmt">#日期</span>
3682:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3683:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3684:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3685:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt31</span>)
3686:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt31</span>)
3687:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt31</span>)
3688:     <span class="ruby-ivar">@voucher1</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3689:     <span class="ruby-ivar">@voucher2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3690:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@voucher1</span>,<span class="ruby-ivar">@format_fmt31</span>)
3691:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@voucher2</span>,<span class="ruby-ivar">@format_fmt31</span>)
3692:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3693:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3694:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3695:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3696:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3697:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3698:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3699:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3700:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_fmt31</span>)
3701:     <span class="ruby-identifier">s31</span>=<span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
3702:     <span class="ruby-ivar">@format_fmt31</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-identifier">s31</span>,<span class="ruby-ivar">@format_fmt31</span>)
3703:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000294" class="method-detail">
        <a name="M000294"></a>

        <div class="method-heading">
          <a href="#M000294" class="method-signature">
          <span class="method-name">format_letter_fmt32</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000294-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000294-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3705</span>
3705:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt32</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
3706:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3707:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-value str">&quot;&quot;</span>
3708:     <span class="ruby-comment cmt">#函号</span>
3709:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3710:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt32</span>)
3711:     <span class="ruby-comment cmt">#立案号</span>
3712:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3713:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt32</span>)
3714:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt32</span>)
3715:     <span class="ruby-comment cmt">#申请人</span>
3716:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3717:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt32</span>)
3718:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
3719:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_fmt32</span>)
3720:     <span class="ruby-comment cmt">#被申请人</span>
3721:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
3722:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt32</span>)
3723:     <span class="ruby-comment cmt">#文件份数</span>
3724:     <span class="ruby-ivar">@copies</span> =  <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3725:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_fmt32</span>)
3726:     <span class="ruby-comment cmt">#仲裁费</span>
3727:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
3728:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
3729:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt32</span>)
3730:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
3731:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
3732:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt32</span>)
3733:     <span class="ruby-comment cmt">#助理</span>
3734:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
3735:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3736:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3737:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
3738:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt32</span>)
3739:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt32</span>)
3740:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt32</span>)
3741:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt32</span>)
3742:     <span class="ruby-comment cmt">#日期</span>
3743:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3744:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3745:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3746:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt32</span>)
3747:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt32</span>)
3748:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt32</span>)
3749:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
3750:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
3751:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
3752:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
3753:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
3754:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
3755:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
3756:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
3757:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
3758:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
3759:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
3760:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
3761:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
3762:     <span class="ruby-keyword kw">else</span>
3763:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
3764:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;1、《仲裁规则》&quot;</span>
3765:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;2、《仲裁员名册》&quot;</span>
3766:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;3、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
3767:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;4、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
3768:     <span class="ruby-keyword kw">end</span>
3769:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_fmt32</span>)
3770:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_fmt32</span>)
3771:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_fmt32</span>)
3772:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_fmt32</span>)
3773:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_fmt32</span>)
3774:     <span class="ruby-identifier">s25</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
3775:     <span class="ruby-ivar">@format_fmt32</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-identifier">s25</span>,<span class="ruby-ivar">@format_fmt32</span>)
3776:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000295" class="method-detail">
        <a name="M000295"></a>

        <div class="method-heading">
          <a href="#M000295" class="method-signature">
          <span class="method-name">format_letter_fmt33</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000295-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000295-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3778</span>
3778:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt33</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3779:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3780:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-value str">&quot;&quot;</span>
3781:     <span class="ruby-comment cmt">#函号</span>
3782:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3783:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt33</span>)
3784:     <span class="ruby-comment cmt">#申请人</span>
3785:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3786:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt33</span>)
3787:     <span class="ruby-comment cmt">#被申请人</span>
3788:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3789:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt33</span>)
3790:     <span class="ruby-comment cmt">#立案号</span>
3791:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3792:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt33</span>)
3793:     <span class="ruby-comment cmt">#日期</span>
3794:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3795:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3796:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3797:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt33</span>)
3798:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt33</span>)
3799:     <span class="ruby-ivar">@format_fmt33</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt33</span>)
3800:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000296" class="method-detail">
        <a name="M000296"></a>

        <div class="method-heading">
          <a href="#M000296" class="method-signature">
          <span class="method-name">format_letter_fmt36</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
第n次庭审的日期 空缺 ########################
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000296-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000296-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3802</span>
3802:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt36</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3803:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3804:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-value str">&quot;&quot;</span>
3805:     <span class="ruby-comment cmt">#函号</span>
3806:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3807:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt36</span>)
3808:     <span class="ruby-comment cmt">#立案号</span>
3809:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3810:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt36</span>)
3811:     <span class="ruby-comment cmt">#首席仲裁员</span>
3812:     <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>)
3813:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt36</span>)
3814:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt36</span>)
3815:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt36</span>)
3816:     <span class="ruby-comment cmt">#申请人仲裁员</span>
3817:     <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
3818:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt36</span>)
3819:     <span class="ruby-comment cmt">#被申请人仲裁员</span>
3820:     <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
3821:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt36</span>)
3822:     <span class="ruby-comment cmt">###           第n次庭审的日期###</span>
3823:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sittingdate desc&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sittingdate&quot;</span>)
3824:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
3825:       <span class="ruby-ivar">@sd</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">sittingdate</span>
3826:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sd!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@sd!</span>=<span class="ruby-value str">&quot;&quot;</span>
3827:         <span class="ruby-identifier">sd</span>= <span class="ruby-ivar">@sd</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
3828:         <span class="ruby-identifier">sd</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">sd</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
3829:         <span class="ruby-identifier">sd</span>[<span class="ruby-value">2</span>] = <span class="ruby-identifier">sd</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
3830:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">sd</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@format_fmt36</span>)
3831:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">sd</span>[<span class="ruby-value">1</span>],<span class="ruby-ivar">@format_fmt36</span>)
3832:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">sd</span>[<span class="ruby-value">2</span>],<span class="ruby-ivar">@format_fmt36</span>)
3833:       <span class="ruby-keyword kw">else</span>
3834:         <span class="ruby-ivar">@sd</span>=<span class="ruby-value str">&quot;_____&quot;</span>
3835:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@sd</span>,<span class="ruby-ivar">@format_fmt36</span>)
3836:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@sd</span>,<span class="ruby-ivar">@format_fmt36</span>)
3837:         <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@sd</span>,<span class="ruby-ivar">@format_fmt36</span>)
3838:       <span class="ruby-keyword kw">end</span>
3839:     <span class="ruby-keyword kw">end</span>
3840:     <span class="ruby-ivar">@sittingdate1</span>=<span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;count(id) as cou&quot;</span>)
3841:     <span class="ruby-ivar">@cou</span>=<span class="ruby-ivar">@sittingdate1</span>.<span class="ruby-identifier">cou</span>
3842:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@cou!</span>=<span class="ruby-keyword kw">nil</span>
3843:       <span class="ruby-ivar">@cou</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-ivar">@cou</span>)
3844:       <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@cou</span>,<span class="ruby-ivar">@format_fmt36</span>)
3845:     <span class="ruby-keyword kw">else</span>
3846:       <span class="ruby-ivar">@cou</span>=<span class="ruby-value str">&quot;_____&quot;</span>
3847:       <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@cou</span>,<span class="ruby-ivar">@format_fmt36</span>)
3848:     <span class="ruby-keyword kw">end</span>
3849:     <span class="ruby-comment cmt">#助理</span>
3850:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
3851:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt36</span>)
3852:     <span class="ruby-comment cmt">#日期</span>
3853:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3854:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3855:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3856:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt36</span>)
3857:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt36</span>)
3858:     <span class="ruby-ivar">@format_fmt36</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt36</span>)
3859:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000297" class="method-detail">
        <a name="M000297"></a>

        <div class="method-heading">
          <a href="#M000297" class="method-signature">
          <span class="method-name">format_letter_fmt37</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000297-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000297-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3861</span>
3861:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt37</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
3862:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3863:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-value str">&quot;&quot;</span>
3864:     <span class="ruby-comment cmt">#函号</span>
3865:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3866:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt37</span>)
3867:     <span class="ruby-comment cmt">#立案号</span>
3868:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3869:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt37</span>)
3870:     <span class="ruby-comment cmt">#申请人</span>
3871:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3872:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt37</span>)
3873:     <span class="ruby-comment cmt">#被申请人</span>
3874:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
3875:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt37</span>)
3876:     <span class="ruby-comment cmt">#日期</span>
3877:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
3878:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
3879:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
3880:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt37</span>)
3881:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt37</span>)
3882:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt37</span>)
3883:     <span class="ruby-ivar">@endstyle1</span>=<span class="ruby-identifier">get_endstyle</span>(<span class="ruby-identifier">code</span>)
3884:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@endstyle1</span>,<span class="ruby-ivar">@format_fmt37</span>)
3885:     <span class="ruby-ivar">@format_fmt37</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@endstyle1</span>,<span class="ruby-ivar">@format_fmt37</span>)
3886:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000298" class="method-detail">
        <a name="M000298"></a>

        <div class="method-heading">
          <a href="#M000298" class="method-signature">
          <span class="method-name">format_letter_fmt38a</span><span class="method-args">(code,doc_id,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员是否接受选（指）定的征询函 所有案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000298-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000298-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 3888</span>
3888:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt38a</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-identifier">ar_nu</span>)
3889:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
3890:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-value str">&quot;&quot;</span>
3891:     <span class="ruby-comment cmt">#函号</span>
3892:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
3893:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt38a</span>)
3894:     <span class="ruby-comment cmt">#立案号</span>
3895:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
3896:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt38a</span>)
3897:     <span class="ruby-comment cmt">#将要选用的首席仲裁员#将要选用的申请人仲裁员#将要选用的被申请人仲裁员</span>
3898:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3899:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
3900:     <span class="ruby-ivar">@a</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>)
3901:     <span class="ruby-ivar">@b</span>=<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
3902:     <span class="ruby-ivar">@c</span>=<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
3903:     <span class="ruby-ivar">@d</span>=<span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)
3904:     <span class="ruby-ivar">@style1</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-comment cmt">#申请人方仲裁员选定方式</span>
3905:     <span class="ruby-ivar">@style2</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-comment cmt">#被申请人方仲裁员选定方式</span>
3906:     <span class="ruby-ivar">@style3</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-comment cmt">#首席仲裁员选定方式</span>
3907:     <span class="ruby-ivar">@style4</span>=<span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-comment cmt">#独任仲裁员选定方式</span>
3908:     <span class="ruby-comment cmt">#特殊语句处理</span>
3909:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span>
3910:       <span class="ruby-ivar">@style1</span>=<span class="ruby-value str">&quot;委托本会主任指定&quot;</span>
3911:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3912:       <span class="ruby-ivar">@style1</span>=<span class="ruby-value str">&quot;共同委托本会主任指定&quot;</span>
3913:     <span class="ruby-keyword kw">end</span>
3914:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span>
3915:       <span class="ruby-ivar">@style2</span>=<span class="ruby-value str">&quot;委托本会主任指定&quot;</span>
3916:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3917:       <span class="ruby-ivar">@style2</span>=<span class="ruby-value str">&quot;共同委托本会主任指定&quot;</span>
3918:     <span class="ruby-keyword kw">end</span>
3919:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span>
3920:       <span class="ruby-ivar">@style3</span>=<span class="ruby-value str">&quot;委托本会主任指定&quot;</span>
3921:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3922:       <span class="ruby-ivar">@style3</span>=<span class="ruby-value str">&quot;共同委托本会主任指定&quot;</span>
3923:     <span class="ruby-keyword kw">end</span>
3924:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style4</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;委托&quot;</span>
3925:       <span class="ruby-ivar">@style4</span>=<span class="ruby-value str">&quot;委托本会主任指定&quot;</span>
3926:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style4</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
3927:       <span class="ruby-ivar">@style4</span>=<span class="ruby-value str">&quot;共同委托本会主任指定&quot;</span>
3928:     <span class="ruby-keyword kw">end</span>
3929:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">app_rules</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0001&quot;</span>
3930:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3931:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于国内仲裁和普通程序&quot;</span>
3932:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3933:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于国内仲裁和简易程序&quot;</span>
3934:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
3935:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于涉外仲裁和普通程序&quot;</span>
3936:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>
3937:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于涉外仲裁和简易程序&quot;</span>
3938:       <span class="ruby-keyword kw">else</span>
3939:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;《金融争议仲裁规则》（2005年5月1日起施行）&quot;</span>
3940:       <span class="ruby-keyword kw">end</span>
3941:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">app_rules</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0006&quot;</span>
3942:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
3943:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于普通程序&quot;</span>
3944:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>
3945:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于简易程序&quot;</span>
3946:       <span class="ruby-keyword kw">else</span>
3947:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;《金融争议仲裁规则》（2005年5月1日起施行）&quot;</span>
3948:       <span class="ruby-keyword kw">end</span>
3949:     <span class="ruby-keyword kw">else</span>
3950:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
3951:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于国内仲裁和普通程序&quot;</span>
3952:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
3953:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于国内仲裁和简易程序&quot;</span>
3954:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
3955:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于涉外仲裁和普通程序&quot;</span>
3956:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>
3957:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;关于涉外仲裁和简易程序&quot;</span>
3958:       <span class="ruby-keyword kw">else</span>
3959:         <span class="ruby-ivar">@ari</span>=<span class="ruby-value str">&quot;《金融争议仲裁规则》（2005年5月1日起施行）&quot;</span>
3960:       <span class="ruby-keyword kw">end</span>
3961:     <span class="ruby-keyword kw">end</span>
3962:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@ari</span>,<span class="ruby-ivar">@format_fmt38a</span>)
3963:     <span class="ruby-ivar">@lan</span>=<span class="ruby-identifier">get_language</span>(<span class="ruby-identifier">code</span>)
3964:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@lan</span>,<span class="ruby-ivar">@format_fmt38a</span>)
3965:     <span class="ruby-ivar">@n1</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=1 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3966:     <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=2 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
3967:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>  <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-comment cmt">#普通</span>
3968:       <span class="ruby-comment cmt">#首席仲裁员</span>
3969:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
3970:       <span class="ruby-comment cmt">#申请人仲裁员</span>
3971:       <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-value str">&quot;      &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@b</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
3972:       <span class="ruby-comment cmt">#被申请人仲裁员</span>
3973:       <span class="ruby-ivar">@respondent_arbitrator</span> =<span class="ruby-value str">&quot;      &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@c</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
3974:       <span class="ruby-ivar">@arbit_man</span>=<span class="ruby-value str">&quot;仲裁员/首席仲裁员&quot;</span>
3975:       <span class="ruby-comment cmt">#当事人xxx选定/指定xxx为仲裁员   发此函时仲裁员已经选定或指定</span>
3976:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3977:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
3978:           <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;由于申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员，本会主任为申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3979:         <span class="ruby-keyword kw">else</span>
3980:           <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;由于申请人未在规定的期限内选定或委托本会主任指定仲裁员，本会主任为申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3981:         <span class="ruby-keyword kw">end</span>
3982:       <span class="ruby-keyword kw">else</span>
3983:         <span class="ruby-ivar">@seven</span> = <span class="ruby-value str">&quot;申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@b</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3984:       <span class="ruby-keyword kw">end</span>
3985:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3986:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
3987:           <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;，由于被申请人未在规定的期限内共同选定或共同委托本会主任指定仲裁员，本会主任为被申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3988:         <span class="ruby-keyword kw">else</span>
3989:           <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;，由于被申请人未在规定的期限内选定或委托本会主任指定仲裁员，本会主任为被申请人指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3990:         <span class="ruby-keyword kw">end</span>
3991:       <span class="ruby-keyword kw">else</span>
3992:         <span class="ruby-ivar">@eight</span> = <span class="ruby-value str">&quot;，被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style2</span><span class="ruby-operator">+</span><span class="ruby-ivar">@c</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
3993:       <span class="ruby-keyword kw">end</span>
3994:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
3995:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;。由于双方未共同选定或共同委托本会主任指定首席仲裁员，本会主任指定&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案首席仲裁员&quot;</span>
3996:       <span class="ruby-keyword kw">else</span>
3997:         <span class="ruby-ivar">@nine</span> = <span class="ruby-value str">&quot;。申请人和被申请人&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@style3</span><span class="ruby-operator">+</span><span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;担任本案首席仲裁员&quot;</span>
3998:       <span class="ruby-keyword kw">end</span>
3999:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span>
4000:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4001:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4002:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1!</span>=<span class="ruby-value str">&quot;代指定&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2!</span>=<span class="ruby-value str">&quot;代指定&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3!</span>=<span class="ruby-value str">&quot;代指定&quot;</span>
4003:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;选定&quot;</span>
4004:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;选定&quot;</span>
4005:       <span class="ruby-keyword kw">else</span>
4006:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;选定或指定&quot;</span>
4007:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;选(指)定&quot;</span>
4008:       <span class="ruby-keyword kw">end</span>
4009:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#简易---独任仲裁员</span>
4010:       <span class="ruby-ivar">@chief_arbitrator</span>=<span class="ruby-ivar">@d</span> <span class="ruby-operator">+</span>  <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
4011:       <span class="ruby-ivar">@applicant_arbitrator</span>=<span class="ruby-value str">&quot;&quot;</span>
4012:       <span class="ruby-ivar">@respondent_arbitrator</span>= <span class="ruby-value str">&quot;&quot;</span>
4013:       <span class="ruby-ivar">@arbit_man</span>=<span class="ruby-value str">&quot;独任仲裁员&quot;</span>
4014:       <span class="ruby-ivar">@seven</span>=<span class="ruby-value str">&quot;&quot;</span>
4015:       <span class="ruby-ivar">@nine</span>=<span class="ruby-value str">&quot;&quot;</span>
4016:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style4</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;代指定&quot;</span><span class="ruby-comment cmt">#未选定独任仲裁员</span>
4017:         <span class="ruby-ivar">@eight</span>=<span class="ruby-value str">&quot;由于双方未共同选定或共同委托本会主任指定独任仲裁员，本会主任指定您担任独任仲裁员&quot;</span>
4018:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4019:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4020:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style4</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;共同委托&quot;</span>
4021:         <span class="ruby-ivar">@eight</span>=<span class="ruby-value str">&quot;双方当事人共同委托本会主任指定独任仲裁员，本会主任指定您担任独任仲裁员&quot;</span>
4022:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4023:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;指定&quot;</span>
4024:       <span class="ruby-keyword kw">else</span>
4025:         <span class="ruby-ivar">@eight</span>=<span class="ruby-value str">&quot;双方当事人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style4</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;您担任本案独任仲裁员&quot;</span> <span class="ruby-comment cmt">#@d + get_arbitman_sex(code,'0001') +</span>
4026:         <span class="ruby-ivar">@replace28</span> = <span class="ruby-value str">&quot;选定&quot;</span>
4027:         <span class="ruby-ivar">@rep31</span> = <span class="ruby-value str">&quot;选定&quot;</span>
4028:       <span class="ruby-keyword kw">end</span>
4029:     <span class="ruby-keyword kw">end</span>
4030:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4031:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4032:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4033:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_man</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4034:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@seven</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4035:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@eight</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4036:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@nine</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4037:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace28</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4038:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace28</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4039:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace28</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4040:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep31</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4041:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace28</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4042:     <span class="ruby-ivar">@case_code1</span>=<span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4043:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code1</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4044:     <span class="ruby-comment cmt">#申请人</span>
4045:     <span class="ruby-ivar">@applicantss</span> = <span class="ruby-identifier">applicant2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>,<span class="ruby-value">1</span>)
4046:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicantss</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4047:     <span class="ruby-comment cmt">#申请人代理人(可多名？）</span>
4048:     <span class="ruby-ivar">@applicant_agent</span> = <span class="ruby-identifier">get_agent2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4049:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4050:     <span class="ruby-comment cmt">#被申请人</span>
4051:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">applicant2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>,<span class="ruby-value">2</span>)
4052:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4053:     <span class="ruby-comment cmt">#被申请人代理人(可多名？）</span>
4054:     <span class="ruby-ivar">@respondent_agent</span> = <span class="ruby-identifier">get_agent2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
4055:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4056:     <span class="ruby-comment cmt">#争议金额（人民币）</span>
4057:     <span class="ruby-ivar">@accounts_rmb</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and currency='0001' and typ='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'id'</span>)
4058:     <span class="ruby-ivar">@sum_rmb</span> = <span class="ruby-value">0</span>
4059:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">account_rmb</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@accounts_rmb</span>
4060:       <span class="ruby-ivar">@sum_rmb</span> = <span class="ruby-ivar">@sum_rmb</span>  <span class="ruby-operator">+</span>  <span class="ruby-identifier">account_rmb</span>.<span class="ruby-identifier">rmb_money</span>
4061:     <span class="ruby-keyword kw">end</span>
4062:     <span class="ruby-ivar">@sum_rmb</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@sum_rmb</span>)
4063:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_rmb</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4064:     <span class="ruby-comment cmt">#争议类型（该案的类型，立案时选定的）--仲裁协议类型</span>
4065:     <span class="ruby-ivar">@case_typ</span>=<span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
4066:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_typ</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4067:     <span class="ruby-comment cmt">#助理</span>
4068:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
4069:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
4070:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4071:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4072:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
4073:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4074:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4075:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4076:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4077:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4078:     <span class="ruby-comment cmt">#日期</span>
4079:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4080:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4081:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4082:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4083:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4084:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4085:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0005'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0006'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0007'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0008'</span>)
4086:       <span class="ruby-identifier">rep33</span> = <span class="ruby-value str">&quot;《金融争议仲裁规则》、&quot;</span>
4087:       <span class="ruby-identifier">rep34</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4088:       <span class="ruby-identifier">rep35</span> = <span class="ruby-value str">&quot;《仲裁法》、《仲裁规则》及《金融争议仲裁规则》&quot;</span>
4089:       <span class="ruby-identifier">rep36</span> = <span class="ruby-value str">&quot;《金融争议仲裁规则》第二十六条第二款、&quot;</span>
4090:     <span class="ruby-keyword kw">else</span>
4091:       <span class="ruby-identifier">rep33</span> = <span class="ruby-value str">&quot;&quot;</span>
4092:       <span class="ruby-identifier">rep34</span> = <span class="ruby-value str">&quot;&quot;</span>
4093:       <span class="ruby-identifier">rep35</span> = <span class="ruby-value str">&quot;《仲裁法》及《仲裁规则》&quot;</span>
4094:       <span class="ruby-identifier">rep36</span> = <span class="ruby-value str">&quot;&quot;</span>
4095:     <span class="ruby-keyword kw">end</span>
4096:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-identifier">rep33</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4097:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-identifier">rep34</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4098:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;35$$$&gt;&quot;</span>,<span class="ruby-identifier">rep35</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4099:     <span class="ruby-ivar">@format_fmt38a</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;36$$$&gt;&quot;</span>,<span class="ruby-identifier">rep36</span>,<span class="ruby-ivar">@format_fmt38a</span>)
4100:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000299" class="method-detail">
        <a name="M000299"></a>

        <div class="method-heading">
          <a href="#M000299" class="method-signature">
          <span class="method-name">format_letter_fmt39</span><span class="method-args">(code,doc_id,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件延期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000299-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000299-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4102</span>
4102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt39</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-identifier">ar_nu</span>)
4103:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4104:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-value str">&quot;&quot;</span>
4105:     <span class="ruby-comment cmt">#函号</span>
4106:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4107:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt39</span>)
4108:     <span class="ruby-comment cmt">#立案号</span>
4109:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4110:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt39</span>)
4111:     <span class="ruby-comment cmt">#申请人</span>
4112:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4113:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt39</span>)
4114:     <span class="ruby-comment cmt">#被申请人</span>
4115:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4116:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt39</span>)
4117:     <span class="ruby-comment cmt">#开庭日期,可以是多次的</span>
4118:     <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-value str">&quot;&quot;</span>
4119:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
4120:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
4121:       <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
4122:       <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-value str">&quot;&quot;</span>
4123:       <span class="ruby-ivar">@sitting_date</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
4124:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">sittingdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
4125:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4126:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4127:         <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;, &quot;</span>
4128:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4129:       <span class="ruby-keyword kw">end</span>
4130:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date1!</span>=<span class="ruby-value str">&quot;&quot;</span>
4131:         <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
4132:       <span class="ruby-keyword kw">end</span>
4133:     <span class="ruby-keyword kw">else</span>
4134:       <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
4135:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4136:     <span class="ruby-keyword kw">end</span>
4137:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
4138:       <span class="ruby-ivar">@num</span>=<span class="ruby-value str">&quot;&quot;</span>
4139:     <span class="ruby-keyword kw">else</span>
4140:       <span class="ruby-ivar">@num</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;次&quot;</span>
4141:     <span class="ruby-keyword kw">end</span>
4142:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt39</span>)
4143:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@num</span>,<span class="ruby-ivar">@format_fmt39</span>)
4144:     <span class="ruby-comment cmt">#日期</span>
4145:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4146:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4147:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4148:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt39</span>)
4149:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt39</span>)
4150:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt39</span>)
4151:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4152:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
4153:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;首席仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
4154:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;仲裁员：&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
4155:     <span class="ruby-keyword kw">else</span>
4156:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;独任仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
4157:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;&quot;</span>
4158:     <span class="ruby-keyword kw">end</span>
4159:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace10</span>,<span class="ruby-ivar">@format_fmt39</span>)
4160:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace11</span>,<span class="ruby-ivar">@format_fmt39</span>)
4161:     <span class="ruby-comment cmt">#第四十二条 对应涉外普通程序/第五十六条 对应（涉外和国内的）简易程序/第六十五  对应国内普通</span>
4162:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4163:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0002'</span>) <span class="ruby-comment cmt">#国内案件</span>
4164:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#国内普通</span>
4165:         <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;六十五&quot;</span>
4166:       <span class="ruby-keyword kw">else</span>
4167:         <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;五十六&quot;</span>
4168:       <span class="ruby-keyword kw">end</span>
4169:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;&quot;</span>
4170:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;&quot;</span>
4171:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0004'</span>)<span class="ruby-comment cmt">#涉外案件</span>
4172:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
4173:         <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;四十二&quot;</span>
4174:       <span class="ruby-keyword kw">else</span>
4175:         <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;五十六&quot;</span>
4176:       <span class="ruby-keyword kw">end</span>
4177:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;&quot;</span>
4178:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;&quot;</span>
4179:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#金融案件</span>
4180:       <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;二十二条第二款&quot;</span>
4181:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4182:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4183:     <span class="ruby-keyword kw">end</span>
4184:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@legal_code</span>,<span class="ruby-ivar">@format_fmt39</span>)
4185:     <span class="ruby-ivar">@delaydat</span>=<span class="ruby-identifier">get_delaydate</span>(<span class="ruby-identifier">code</span>)
4186:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@delaydat</span>,<span class="ruby-ivar">@format_fmt39</span>)
4187:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@delaydat</span>,<span class="ruby-ivar">@format_fmt39</span>)
4188:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-identifier">rep15</span>,<span class="ruby-ivar">@format_fmt39</span>)
4189:     <span class="ruby-ivar">@delayTerm</span> = <span class="ruby-identifier">get_delayTerm</span>(<span class="ruby-identifier">code</span>)
4190:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@delayTerm</span>,<span class="ruby-ivar">@format_fmt39</span>)
4191:     <span class="ruby-ivar">@format_fmt39</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-identifier">rep16</span>,<span class="ruby-ivar">@format_fmt39</span>)
4192:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000300" class="method-detail">
        <a name="M000300"></a>

        <div class="method-heading">
          <a href="#M000300" class="method-signature">
          <span class="method-name">format_letter_fmt39_scia</span><span class="method-args">(code,doc_id,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件延期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000300-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000300-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4194</span>
4194:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt39_scia</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-identifier">ar_nu</span>)
4195:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4196:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-value str">&quot;&quot;</span>
4197:     <span class="ruby-comment cmt">#函号</span>
4198:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4199:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4200:     <span class="ruby-comment cmt">#立案号</span>
4201:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4202:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4203:     <span class="ruby-comment cmt">#申请人</span>
4204:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4205:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4206:     <span class="ruby-comment cmt">#被申请人</span>
4207:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4208:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4209:     <span class="ruby-comment cmt">#开庭日期,可以是多次的</span>
4210:     <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-value str">&quot;&quot;</span>
4211:     <span class="ruby-ivar">@sitting_date</span> = <span class="ruby-constant">TbSitting</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
4212:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
4213:       <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
4214:       <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-value str">&quot;&quot;</span>
4215:       <span class="ruby-ivar">@sitting_date</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
4216:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">sittingdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
4217:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4218:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4219:         <span class="ruby-ivar">@sitting_date1</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;, &quot;</span>
4220:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4221:       <span class="ruby-keyword kw">end</span>
4222:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_date1!</span>=<span class="ruby-value str">&quot;&quot;</span>
4223:         <span class="ruby-ivar">@sitting_date2</span>=<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@sitting_date1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
4224:       <span class="ruby-keyword kw">end</span>
4225:     <span class="ruby-keyword kw">else</span>
4226:       <span class="ruby-ivar">@sitting_date2</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
4227:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4228:     <span class="ruby-keyword kw">end</span>
4229:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
4230:       <span class="ruby-ivar">@num</span>=<span class="ruby-value str">&quot;&quot;</span>
4231:     <span class="ruby-keyword kw">else</span>
4232:       <span class="ruby-ivar">@num</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;次&quot;</span>
4233:     <span class="ruby-keyword kw">end</span>
4234:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date2</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4235:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@num</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4236:     <span class="ruby-comment cmt">#日期</span>
4237:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4238:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4239:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4240:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4241:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4242:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4243:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4244:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
4245:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;首席仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
4246:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;仲裁员：&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
4247:     <span class="ruby-keyword kw">else</span>
4248:       <span class="ruby-ivar">@replace10</span>=<span class="ruby-value str">&quot;独任仲裁员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
4249:       <span class="ruby-ivar">@replace11</span>=<span class="ruby-value str">&quot;&quot;</span>
4250:     <span class="ruby-keyword kw">end</span>
4251:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace10</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4252:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace11</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4253:     <span class="ruby-comment cmt">#第五十条 对应涉外普通程序/第六十二条 对应（涉外和国内的）简易程序/第五十  对应国内普通</span>
4254:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4255:     <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>   <span class="ruby-comment cmt"># ar_nu.index('0001') || ar_nu.index('0002')#国内案件</span>
4256: <span class="ruby-comment cmt">#      if @aribitprog_num=='0001' #国内普通</span>
4257: <span class="ruby-comment cmt">#        @legal_code=&quot;五十&quot;</span>
4258: <span class="ruby-comment cmt">#      else</span>
4259: <span class="ruby-comment cmt">#        @legal_code=&quot;六十二&quot;</span>
4260: <span class="ruby-comment cmt">#      end</span>
4261:       <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;五十&quot;</span>
4262:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;&quot;</span>
4263:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;&quot;</span>
4264:     <span class="ruby-keyword kw">elsif</span>  <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>   <span class="ruby-comment cmt"># ar_nu.index('0003') || ar_nu.index('0004')#涉外案件</span>
4265: <span class="ruby-comment cmt">#      if @aribitprog_num=='0003'</span>
4266: <span class="ruby-comment cmt">#        @legal_code=&quot;五十&quot;</span>
4267: <span class="ruby-comment cmt">#      else</span>
4268: <span class="ruby-comment cmt">#        @legal_code=&quot;六十二&quot;</span>
4269: <span class="ruby-comment cmt">#      end</span>
4270:       <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;六十二&quot;</span>
4271:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;&quot;</span>
4272:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;&quot;</span>
4273:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#金融案件</span>
4274:       <span class="ruby-ivar">@legal_code</span>=<span class="ruby-value str">&quot;二十二条第二款&quot;</span>
4275:       <span class="ruby-identifier">rep15</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4276:       <span class="ruby-identifier">rep16</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4277:     <span class="ruby-keyword kw">end</span>
4278:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@legal_code</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4279:     <span class="ruby-ivar">@delaydat</span>=<span class="ruby-identifier">get_delaydate</span>(<span class="ruby-identifier">code</span>)
4280:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@delaydat</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4281:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@delaydat</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4282:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-identifier">rep15</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4283:     <span class="ruby-ivar">@delayTerm</span> = <span class="ruby-identifier">get_delayTerm</span>(<span class="ruby-identifier">code</span>)
4284:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@delayTerm</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4285:     <span class="ruby-ivar">@format_fmt39_scia</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-identifier">rep16</span>,<span class="ruby-ivar">@format_fmt39_scia</span>)
4286:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000301" class="method-detail">
        <a name="M000301"></a>

        <div class="method-heading">
          <a href="#M000301" class="method-signature">
          <span class="method-name">format_letter_fmt40</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
&lt;03$$$&gt;仲裁员的报告 &#8212; 选定 或者 指定 或者
代指定 等###
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000301-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000301-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4288</span>
4288:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
4289:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4290:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-value str">&quot;&quot;</span>
4291:     <span class="ruby-comment cmt">#函号</span>
4292:     <span class="ruby-ivar">@file_code</span> =<span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4293:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt40</span>)
4294:     <span class="ruby-comment cmt">#立案号</span>
4295:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4296:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt40</span>)
4297:     <span class="ruby-ivar">@case_code1</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4298:     <span class="ruby-comment cmt">#根据案件类型，提醒代指定的仲裁员类型##########################################</span>
4299:     <span class="ruby-ivar">@style1</span> = <span class="ruby-identifier">get_style</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-comment cmt">#申请人方</span>
4300:     <span class="ruby-ivar">@style2</span> = <span class="ruby-identifier">get_style</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)<span class="ruby-comment cmt">#被申请人方</span>
4301:     <span class="ruby-ivar">@style3</span> = <span class="ruby-identifier">get_style</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)<span class="ruby-comment cmt">#首席</span>
4302:     <span class="ruby-ivar">@style4</span> = <span class="ruby-identifier">get_style</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)<span class="ruby-comment cmt">#独任</span>
4303:     <span class="ruby-ivar">@chief_arbitrator1</span>=<span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#首席仲裁员</span>
4304:     <span class="ruby-ivar">@applicant_arbitrator1</span>=<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#申请人仲裁员</span>
4305:     <span class="ruby-ivar">@respondent_arbitrator1</span>=<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#被申请人仲裁员</span>
4306:     <span class="ruby-ivar">@chief_arbitrator2</span>=<span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#独任仲裁员</span>
4307:     <span class="ruby-ivar">@n1</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=1 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
4308:     <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and partytype=2 and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
4309:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_code1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_code1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_code1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-comment cmt">#普通</span>
4310:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#首席未选定</span>
4311:         <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4312:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span>
4313:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为双方指定_____先生/女士为本案首席仲裁员。&quot;</span>
4314:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#申请人未选定</span>
4315:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4316:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期共同选定或共同委托本会主任指定仲裁员&quot;</span>
4317:         <span class="ruby-keyword kw">else</span>
4318:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期选定或委托本会主任指定仲裁员&quot;</span>
4319:         <span class="ruby-keyword kw">end</span>
4320:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
4321:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为申请人指定_____先生/女士为本案仲裁员。&quot;</span>
4322:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#被申请人未选定</span>
4323:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4324:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于被申请人未能按期共同选定或共同委托本会主任指定仲裁员&quot;</span>
4325:         <span class="ruby-keyword kw">else</span>
4326:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于被申请人未能按期选定或委托本会主任指定仲裁员&quot;</span>
4327:         <span class="ruby-keyword kw">end</span>
4328:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
4329:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为被申请人指定_____先生/女士为本案仲裁员。&quot;</span>
4330:       <span class="ruby-keyword kw">elsif</span>  <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#申请人和被申请人未选定仲裁员</span>
4331:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4332:           <span class="ruby-ivar">@arbitratora</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期共同选定或共同委托本会主任指定仲裁员,&quot;</span>
4333:         <span class="ruby-keyword kw">else</span>
4334:           <span class="ruby-ivar">@arbitratora</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期选定或委托本会主任指定仲裁员,&quot;</span>
4335:         <span class="ruby-keyword kw">end</span>
4336:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4337:           <span class="ruby-ivar">@arbitratorb</span> = <span class="ruby-value str">&quot;被申请人未能按期共同选定或共同委托本会主任指定仲裁员&quot;</span>
4338:         <span class="ruby-keyword kw">else</span>
4339:           <span class="ruby-ivar">@arbitratorb</span> = <span class="ruby-value str">&quot;被申请人未能按期选定或委托本会主任指定仲裁员&quot;</span>
4340:         <span class="ruby-keyword kw">end</span>
4341:         <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-ivar">@arbitratora</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@arbitratorb</span>
4342:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员&quot;</span>
4343:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为申请人指定_____先生/女士为本案仲裁员,为被申请人指定_____先生/女士为本案仲裁员。&quot;</span>
4344:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#申请人、双方未选定</span>
4345:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4346:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期共同选定或共同委托本会主任指定仲裁员,申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4347:         <span class="ruby-keyword kw">else</span>
4348:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期选定或委托本会主任指定仲裁员,申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4349:         <span class="ruby-keyword kw">end</span>
4350:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员/首席仲裁员&quot;</span>
4351:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为申请人指定_____先生/女士为本案仲裁员,为双方指定_____先生/女士为本案首席仲裁员。&quot;</span>
4352:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1!</span>=<span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#被申请人、双方未选定</span>
4353:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4354:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于被申请人未能按期共同选定或共同委托本会主任指定仲裁员,申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4355:         <span class="ruby-keyword kw">else</span>
4356:           <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-value str">&quot;鉴于被申请人未能按期选定或委托本会主任指定仲裁员,申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4357:         <span class="ruby-keyword kw">end</span>
4358:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员/首席仲裁员&quot;</span>
4359:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为被申请人指定_____先生/女士为本案仲裁员,为双方指定_____先生/女士为本案首席仲裁员。&quot;</span>
4360:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@style1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style2</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@style3</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span> <span class="ruby-comment cmt">#当事人方、首席都未选定</span>
4361:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4362:           <span class="ruby-ivar">@arbitratora</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期共同选定或共同委托本会主任指定仲裁员，&quot;</span>
4363:         <span class="ruby-keyword kw">else</span>
4364:           <span class="ruby-ivar">@arbitratora</span> = <span class="ruby-value str">&quot;鉴于申请人未能按期选定或委托本会主任指定仲裁员，&quot;</span>
4365:         <span class="ruby-keyword kw">end</span>
4366:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4367:           <span class="ruby-ivar">@arbitratorb</span> = <span class="ruby-value str">&quot;被申请人未能按期共同选定或共同委托本会主任指定仲裁员，&quot;</span>
4368:         <span class="ruby-keyword kw">else</span>
4369:           <span class="ruby-ivar">@arbitratorb</span> = <span class="ruby-value str">&quot;被申请人未能按期选定或委托本会主任指定仲裁员，&quot;</span>
4370:         <span class="ruby-keyword kw">end</span>
4371:         <span class="ruby-ivar">@arbitrator19</span> = <span class="ruby-ivar">@arbitratora</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@arbitratorb</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;申请人和被申请人未能按期共同选定或共同委托本会主任指定首席仲裁员&quot;</span>
4372:         <span class="ruby-ivar">@arbitrator20</span> = <span class="ruby-value str">&quot;仲裁员/首席仲裁员&quot;</span>
4373:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为申请人指定_____先生/女士为本案仲裁员,为被申请人指定_____先生/女士为本案仲裁员,为双方指定_____先生/女士为本案首席仲裁员。&quot;</span>
4374:       <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#都选定了</span>
4375:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style1!</span>=<span class="ruby-value str">&quot;代指定&quot;</span>
4376:           <span class="ruby-ivar">@seven</span>=<span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
4377:         <span class="ruby-keyword kw">else</span>
4378:           <span class="ruby-ivar">@seven</span>=<span class="ruby-value str">&quot;本会主任为申请人指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
4379:         <span class="ruby-keyword kw">end</span>
4380:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style2!</span>=<span class="ruby-value str">&quot;代指定&quot;</span>
4381:           <span class="ruby-ivar">@eight</span>=<span class="ruby-value str">&quot;，被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
4382:         <span class="ruby-keyword kw">else</span>
4383:           <span class="ruby-ivar">@seven</span>=<span class="ruby-value str">&quot;，本会主任为被申请人指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案仲裁员&quot;</span>
4384:         <span class="ruby-keyword kw">end</span>
4385:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style3!</span>=<span class="ruby-value str">&quot;代指定&quot;</span>
4386:           <span class="ruby-ivar">@nine</span>=<span class="ruby-value str">&quot;，双方&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style3</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案首席仲裁员&quot;</span>
4387:         <span class="ruby-keyword kw">else</span>
4388:           <span class="ruby-ivar">@nine</span>=<span class="ruby-value str">&quot;，本会主任为双方指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style3</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案首席仲裁员&quot;</span>
4389:         <span class="ruby-keyword kw">end</span>
4390:         <span class="ruby-ivar">@arbitrator19</span>=<span class="ruby-ivar">@seven</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@eight</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@nine</span>
4391:         <span class="ruby-ivar">@arbitrator20</span> =<span class="ruby-value str">&quot;仲裁员/首席仲裁员&quot;</span>
4392:         <span class="ruby-ivar">@replace22</span> = <span class="ruby-value str">&quot;&quot;</span>
4393:       <span class="ruby-keyword kw">end</span>
4394:     <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#简易案件</span>
4395:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@style4</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;f&quot;</span><span class="ruby-comment cmt">#未选定独任仲裁员</span>
4396:         <span class="ruby-ivar">@arbitrator19</span>=<span class="ruby-value str">&quot;鉴于双方未能按期共同选定或共同委托本会主任指定独任仲裁员&quot;</span>
4397:         <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;基于上述情况，本会秘书处拟请本会主任为双方指定_____先生/女士为本案独任仲裁员。&quot;</span>
4398:       <span class="ruby-keyword kw">else</span>
4399:         <span class="ruby-ivar">@arbitrator19</span>=<span class="ruby-value str">&quot;申请人和被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@style4</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;担任本案独任仲裁员&quot;</span>
4400:         <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;&quot;</span>
4401:       <span class="ruby-keyword kw">end</span>
4402:       <span class="ruby-ivar">@arbitrator20</span>=<span class="ruby-value str">&quot;独任仲裁员&quot;</span>
4403:     <span class="ruby-keyword kw">end</span>
4404:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitrator19</span>,<span class="ruby-ivar">@format_fmt40</span>)
4405:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitrator20</span>,<span class="ruby-ivar">@format_fmt40</span>)
4406:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_fmt40</span>)
4407:     <span class="ruby-comment cmt">#################################################################################</span>
4408:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt40</span>)
4409:     <span class="ruby-comment cmt">#申请人</span>
4410:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4411:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt40</span>)
4412:     <span class="ruby-comment cmt">#申请人代理人(可多名？）</span>
4413:     <span class="ruby-ivar">@applicant_agent</span> =<span class="ruby-identifier">get_agent2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4414:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_agent</span>,<span class="ruby-ivar">@format_fmt40</span>)
4415:     <span class="ruby-comment cmt">#被申请人</span>
4416:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">applicant2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
4417:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt40</span>)
4418:     <span class="ruby-comment cmt">#被申请人代理人(可多名？）</span>
4419:     <span class="ruby-ivar">@respondent_agent</span> =<span class="ruby-identifier">get_agent2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
4420:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_agent</span>,<span class="ruby-ivar">@format_fmt40</span>)
4421:     <span class="ruby-comment cmt">### 关于&lt;09$$$&gt;仲裁及&lt;10$$$&gt;程序的有关规定--指国内、涉外；简易、普通的意思，从程序内容中取 ###</span>
4422:     <span class="ruby-ivar">@typ</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
4423:     <span class="ruby-ivar">@typ1</span>=<span class="ruby-ivar">@typ</span>.<span class="ruby-identifier">aribitprog_num</span>
4424:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
4425:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;国内&quot;</span>
4426:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;普通&quot;</span>
4427:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;三人仲裁庭&quot;</span>
4428:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
4429:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;国内&quot;</span>
4430:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;简易&quot;</span>
4431:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;独任仲裁庭&quot;</span>
4432:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
4433:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;涉外&quot;</span>
4434:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;普通&quot;</span>
4435:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;三人仲裁庭&quot;</span>
4436:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span>
4437:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;涉外&quot;</span>
4438:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;简易&quot;</span>
4439:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;独任仲裁庭&quot;</span>
4440:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>
4441:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;国内&quot;</span>
4442:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;金融规则3人&quot;</span>
4443:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;三人仲裁庭&quot;</span>
4444:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span>
4445:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;国内&quot;</span>
4446:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;金融规则1人&quot;</span>
4447:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;独任仲裁庭&quot;</span>
4448:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@typ1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
4449:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;涉外&quot;</span>
4450:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;金融规则3人&quot;</span>
4451:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;三人仲裁庭&quot;</span>
4452:     <span class="ruby-keyword kw">else</span>
4453:       <span class="ruby-ivar">@a1</span>=<span class="ruby-value str">&quot;涉外&quot;</span>
4454:       <span class="ruby-ivar">@a2</span>=<span class="ruby-value str">&quot;金融规则1人&quot;</span>
4455:       <span class="ruby-ivar">@r</span>=<span class="ruby-value str">&quot;独任仲裁庭&quot;</span>
4456:     <span class="ruby-keyword kw">end</span>
4457:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@a1</span>,<span class="ruby-ivar">@format_fmt40</span>)
4458:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@a2</span>,<span class="ruby-ivar">@format_fmt40</span>)
4459:     <span class="ruby-comment cmt">#  11 是仲裁庭组成的，简易 独任仲裁庭；普通  三人仲裁庭</span>
4460:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@r</span>,<span class="ruby-ivar">@format_fmt40</span>)
4461:     <span class="ruby-comment cmt">#申请人仲裁员</span>
4462:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant_arbitrator1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
4463:       <span class="ruby-ivar">@applicant_arbitrator1</span>=<span class="ruby-value str">&quot;无&quot;</span>
4464:     <span class="ruby-keyword kw">end</span>
4465:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator1</span>,<span class="ruby-ivar">@format_fmt40</span>)
4466:     <span class="ruby-comment cmt">#被申请人仲裁员</span>
4467:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondent_arbitrator1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;_____&quot;</span>
4468:       <span class="ruby-ivar">@respondent_arbitrator1</span>=<span class="ruby-value str">&quot;无&quot;</span>
4469:     <span class="ruby-keyword kw">end</span>
4470:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator1</span>,<span class="ruby-ivar">@format_fmt40</span>)
4471:     <span class="ruby-comment cmt">#办案秘书--助理</span>
4472:     <span class="ruby-comment cmt">#助理</span>
4473:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
4474:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt40</span>)
4475:     <span class="ruby-comment cmt">#日期</span>
4476:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4477:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4478:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4479:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt40</span>)
4480:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt40</span>)
4481:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt40</span>)
4482:     <span class="ruby-ivar">@casetype_num2</span>=<span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
4483:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype_num2</span>,<span class="ruby-ivar">@format_fmt40</span>)
4484:     <span class="ruby-ivar">@lan</span>=<span class="ruby-identifier">get_language</span>(<span class="ruby-identifier">code</span>)
4485:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@lan</span>,<span class="ruby-ivar">@format_fmt40</span>)
4486: 
4487:     <span class="ruby-comment cmt"># 争议金额</span>
4488:     <span class="ruby-comment cmt"># 币种全部转成人民币也可以</span>
4489:     <span class="ruby-comment cmt"># 增加、减少，本函不考虑</span>
4490:     <span class="ruby-comment cmt"># 在本函只写明立案时候的争议金额即可</span>
4491: 
4492:     <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-identifier">get_amount_detail</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt40</span>)
4493: 
4494:     <span class="ruby-ivar">@dispute_type</span> = <span class="ruby-constant">TbJurisdiction</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
4495:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@dispute_type!</span>=<span class="ruby-keyword kw">nil</span>
4496:       <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;有&quot;</span>,<span class="ruby-ivar">@format_fmt40</span>)
4497:     <span class="ruby-keyword kw">else</span>
4498:       <span class="ruby-ivar">@format_fmt40</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;无&quot;</span>,<span class="ruby-ivar">@format_fmt40</span>)
4499:     <span class="ruby-keyword kw">end</span>
4500: 
4501:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000302" class="method-detail">
        <a name="M000302"></a>

        <div class="method-heading">
          <a href="#M000302" class="method-signature">
          <span class="method-name">format_letter_fmt41</span><span class="method-args">(code,p_t,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
补缴仲裁费用通知单
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000302-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000302-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4503</span>
4503:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt41</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_t</span>,<span class="ruby-identifier">doc_id</span>)
4504:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4505:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-value str">&quot;&quot;</span>
4506:     <span class="ruby-comment cmt">#函号</span>
4507:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4508:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt41</span>)
4509:    <span class="ruby-comment cmt">#立案号</span>
4510:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4511:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt41</span>)
4512:     <span class="ruby-comment cmt">#判断申请人或者被申请人</span>
4513:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_t</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span>
4514:       <span class="ruby-comment cmt">#申请人</span>
4515:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4516:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt"># p_t == '0002'</span>
4517:       <span class="ruby-comment cmt">#被申请人</span>
4518:       <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4519:     <span class="ruby-keyword kw">end</span>
4520:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt41</span>)
4521:     <span class="ruby-comment cmt">#“就$$$争议” （合同名称）</span>
4522:     <span class="ruby-ivar">@contract_name</span> =  <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
4523:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt41</span>)
4524:     <span class="ruby-comment cmt">#提出变更请求的日期，“于  年 月  日”，空缺</span>
4525:     <span class="ruby-ivar">@caseamount</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_t</span>.<span class="ruby-identifier">to_i</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
4526:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseamount!</span>=<span class="ruby-keyword kw">nil</span>
4527:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">dt!</span>=<span class="ruby-keyword kw">nil</span>
4528:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">dt</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
4529:         <span class="ruby-ivar">@replace4</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
4530:       <span class="ruby-keyword kw">else</span>
4531:         <span class="ruby-ivar">@replace4</span>=<span class="ruby-value str">&quot;_____年__月__日&quot;</span>
4532:       <span class="ruby-keyword kw">end</span>
4533:     <span class="ruby-keyword kw">else</span>
4534:       <span class="ruby-ivar">@replace4</span>=<span class="ruby-value str">&quot;_____年__月__日&quot;</span>
4535:     <span class="ruby-keyword kw">end</span>
4536:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace4</span>,<span class="ruby-ivar">@format_fmt41</span>)
4537:     <span class="ruby-ivar">@replace5</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_t</span>) <span class="ruby-comment cmt">#传真号</span>
4538:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace5</span>,<span class="ruby-ivar">@format_fmt41</span>)
4539:     <span class="ruby-comment cmt">#补缴仲裁费&lt;07$$$&gt;</span>
4540:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_t</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#申请人</span>
4541:       <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-identifier">applicant_arbit_fee3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
4542:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_t</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span><span class="ruby-comment cmt">#被申请人</span>
4543:       <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-identifier">applicant_arbit_fee3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>)
4544:     <span class="ruby-keyword kw">else</span>
4545:       <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-value">0</span>
4546:     <span class="ruby-keyword kw">end</span>
4547:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
4548:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt41</span>)
4549:     <span class="ruby-comment cmt">#日期</span>
4550:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4551:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4552:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4553:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt41</span>)
4554:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt41</span>)
4555:     <span class="ruby-ivar">@format_fmt41</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt41</span>)
4556:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000303" class="method-detail">
        <a name="M000303"></a>

        <div class="method-heading">
          <a href="#M000303" class="method-signature">
          <span class="method-name">format_letter_fmt42</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000303-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000303-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4558</span>
4558:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt42</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
4559:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4560:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-value str">&quot;&quot;</span>
4561:     <span class="ruby-comment cmt">#函号</span>
4562:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4563:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt42</span>)
4564:     <span class="ruby-comment cmt">#立案号</span>
4565:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4566:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt42</span>)
4567:     <span class="ruby-comment cmt">#日期</span>
4568:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>).<span class="ruby-identifier">ss_t</span> <span class="ruby-comment cmt"># Time.now.to_s(:db)</span>
4569:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@date_of_letter</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
4570:       <span class="ruby-ivar">@date_of_letter</span> = <span class="ruby-value str">&quot;_____&quot;</span>
4571:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span>,<span class="ruby-ivar">@format_fmt42</span>)
4572:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span>,<span class="ruby-ivar">@format_fmt42</span>)
4573:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span>,<span class="ruby-ivar">@format_fmt42</span>)
4574:     <span class="ruby-keyword kw">else</span>
4575:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
4576:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4577:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4578:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@format_fmt42</span>)
4579:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>],<span class="ruby-ivar">@format_fmt42</span>)
4580:       <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>],<span class="ruby-ivar">@format_fmt42</span>)
4581:     <span class="ruby-keyword kw">end</span>
4582:     <span class="ruby-comment cmt">#联系人--确定是否是助理</span>
4583:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
4584:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
4585:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4586:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
4587:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_fmt42</span>)
4588:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_fmt42</span>)
4589:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_fmt42</span>)
4590:     <span class="ruby-ivar">@format_fmt42</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_fmt42</span>)
4591:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000304" class="method-detail">
        <a name="M000304"></a>

        <div class="method-heading">
          <a href="#M000304" class="method-signature">
          <span class="method-name">format_letter_fmt44</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000304-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000304-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4593</span>
4593:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt44</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
4594:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4595:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-value str">&quot;&quot;</span>
4596:     <span class="ruby-comment cmt">#函号</span>
4597:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4598:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt44</span>)
4599:     <span class="ruby-comment cmt">#立案号</span>
4600:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4601:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt44</span>)
4602:     <span class="ruby-comment cmt">#申请人</span>
4603:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4604:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt44</span>)
4605:     <span class="ruby-comment cmt">#被申请人</span>
4606:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4607:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt44</span>)
4608:     <span class="ruby-comment cmt">#日期</span>
4609:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4610:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4611:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4612:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt44</span>)
4613:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt44</span>)
4614:     <span class="ruby-ivar">@format_fmt44</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt44</span>)
4615:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000305" class="method-detail">
        <a name="M000305"></a>

        <div class="method-heading">
          <a href="#M000305" class="method-signature">
          <span class="method-name">format_letter_fmt45</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000305-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000305-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4617</span>
4617:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt45</span>(<span class="ruby-identifier">doc_id</span>)
4618:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4619:     <span class="ruby-ivar">@format_fmt45</span> = <span class="ruby-value str">&quot;&quot;</span>
4620:     <span class="ruby-comment cmt">#函号</span>
4621:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4622:     <span class="ruby-ivar">@format_fmt45</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt45</span>)
4623:     <span class="ruby-comment cmt">#日期</span>
4624:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4625:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4626:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4627:     <span class="ruby-ivar">@format_fmt45</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt45</span>)
4628:     <span class="ruby-ivar">@format_fmt45</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt45</span>)
4629:     <span class="ruby-ivar">@format_fmt45</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt45</span>)
4630:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000306" class="method-detail">
        <a name="M000306"></a>

        <div class="method-heading">
          <a href="#M000306" class="method-signature">
          <span class="method-name">format_letter_fmt46</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000306-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000306-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4632</span>
4632:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt46</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
4633:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4634:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-value str">&quot;&quot;</span>
4635:     <span class="ruby-comment cmt">#函号</span>
4636:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
4637:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_fmt46</span>)
4638:     <span class="ruby-comment cmt">#申请人</span>
4639:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4640:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt46</span>)
4641:     <span class="ruby-comment cmt">#立案号</span>
4642:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4643:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt46</span>)
4644:     <span class="ruby-comment cmt">#日期</span>
4645:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
4646:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
4647:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
4648:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_fmt46</span>)
4649:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_fmt46</span>)
4650:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_fmt46</span>)
4651:     <span class="ruby-comment cmt">#收 反请求及证据 的时间</span>
4652:     <span class="ruby-identifier">amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
4653:     <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;反请求申请书/答辩书（被申请人在答辩书中提出了反请求）&quot;</span>
4654:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">amail!</span>=<span class="ruby-keyword kw">nil</span>
4655:       <span class="ruby-identifier">recevicedate</span> = <span class="ruby-identifier">amail</span>.<span class="ruby-identifier">recevicedate</span>
4656:       <span class="ruby-identifier">str7</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-identifier">recevicedate</span>)
4657:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">amail</span>.<span class="ruby-identifier">submitman</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-comment cmt">#被申请人</span>
4658:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">amail</span>.<span class="ruby-identifier">materialtype!</span>=<span class="ruby-keyword kw">nil</span>
4659:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">amail</span>.<span class="ruby-identifier">materialtype</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
4660:             <span class="ruby-identifier">str8</span> = <span class="ruby-value str">&quot;答辩书及证据（被申请人在答辩书中提出了反请求）&quot;</span>
4661:           <span class="ruby-keyword kw">else</span>
4662:             <span class="ruby-identifier">str8</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='8138' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">amail</span>.<span class="ruby-identifier">materialtype</span>]).<span class="ruby-identifier">data_text</span>
4663:           <span class="ruby-keyword kw">end</span>
4664:         <span class="ruby-keyword kw">else</span>
4665:           <span class="ruby-identifier">str8</span> = <span class="ruby-identifier">amail</span>.<span class="ruby-identifier">material_other</span>
4666:         <span class="ruby-keyword kw">end</span>
4667:       <span class="ruby-keyword kw">end</span>
4668:     <span class="ruby-keyword kw">else</span>
4669:       <span class="ruby-identifier">str7</span> = <span class="ruby-value str">&quot;______年____月____日&quot;</span>
4670:     <span class="ruby-keyword kw">end</span>
4671:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">str7</span>,<span class="ruby-ivar">@format_fmt46</span>)
4672:     <span class="ruby-ivar">@format_fmt46</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">str8</span>,<span class="ruby-ivar">@format_fmt46</span>)
4673:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000307" class="method-detail">
        <a name="M000307"></a>

        <div class="method-heading">
          <a href="#M000307" class="method-signature">
          <span class="method-name">format_letter_fmt47</span><span class="method-args">(code,ar_nu)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000307-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000307-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4675</span>
4675:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt47</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">ar_nu</span>)
4676:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4677:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-value str">&quot;&quot;</span>
4678:     <span class="ruby-comment cmt">#申请人</span>
4679:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4680:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt47</span>)
4681:     <span class="ruby-comment cmt">#被申请人</span>
4682:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
4683:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt47</span>)
4684:     <span class="ruby-comment cmt">#立案号</span>
4685:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4686:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt47</span>)
4687:     <span class="ruby-comment cmt">#首席仲裁员  申请人仲裁员  被申请人仲裁员</span>
4688:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4689:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-comment cmt">#普通</span>
4690:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;以及&quot;</span>
4691:       <span class="ruby-ivar">@applicant_arbitrator</span> =<span class="ruby-value str">&quot;仲裁员&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;和&quot;</span>
4692:       <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>)
4693:     <span class="ruby-keyword kw">else</span>
4694:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-value str">&quot;独任仲裁员&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
4695:       <span class="ruby-ivar">@applicant_arbitrator</span> = <span class="ruby-value str">&quot;&quot;</span>
4696:       <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-value str">&quot;&quot;</span>
4697:     <span class="ruby-keyword kw">end</span>
4698:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt47</span>)
4699:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant_arbitrator</span>,<span class="ruby-ivar">@format_fmt47</span>)
4700:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondent_arbitrator</span>,<span class="ruby-ivar">@format_fmt47</span>)
4701:     <span class="ruby-comment cmt">#开庭日期</span>
4702:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
4703:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
4704:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">sittingdate</span>
4705:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@sdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
4706:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4707:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
4708:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>])<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>])<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
4709:     <span class="ruby-keyword kw">else</span>
4710:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;____年__月__日&quot;</span>
4711:     <span class="ruby-keyword kw">end</span>
4712:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_fmt47</span>)
4713:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0005'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0006'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0007'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">ar_nu</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'0008'</span>)
4714:       <span class="ruby-identifier">rep8</span> = <span class="ruby-value str">&quot;2005年5月1日&quot;</span>
4715:       <span class="ruby-identifier">rep9</span> = <span class="ruby-value str">&quot;金融争议&quot;</span>
4716:     <span class="ruby-keyword kw">else</span>
4717:       <span class="ruby-identifier">rep8</span> = <span class="ruby-value str">&quot;2005年5月1日&quot;</span>
4718:       <span class="ruby-identifier">rep9</span> = <span class="ruby-value str">&quot;&quot;</span>
4719:     <span class="ruby-keyword kw">end</span>
4720:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">rep8</span>,<span class="ruby-ivar">@format_fmt47</span>)
4721:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">rep9</span>,<span class="ruby-ivar">@format_fmt47</span>)
4722:     <span class="ruby-ivar">@format_fmt47</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_fmt47</span>)
4723:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000308" class="method-detail">
        <a name="M000308"></a>

        <div class="method-heading">
          <a href="#M000308" class="method-signature">
          <span class="method-name">format_letter_fmt48</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭签到表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000308-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000308-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4725</span>
4725:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt48</span>(<span class="ruby-identifier">code</span>)
4726:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
4727:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-value str">&quot;&quot;</span>
4728:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4729:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt48</span>)
4730:     <span class="ruby-ivar">@sitting_date</span>=<span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
4731:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@sitting_date</span>,<span class="ruby-ivar">@format_fmt48</span>)
4732:     
4733:     <span class="ruby-comment cmt">#开庭地点   </span>
4734:     <span class="ruby-ivar">@sitting_place</span> = <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
4735:     <span class="ruby-identifier">sPlace</span>=<span class="ruby-value str">&quot;深圳市福田区彩田路中银大厦B座19层仲裁庭&quot;</span>
4736: 
4737:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-operator">||</span>  <span class="ruby-ivar">@sitting_place</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span> 
4738:                                 <span class="ruby-identifier">sPlace</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0023' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@sitting_place</span>]).<span class="ruby-identifier">data_text</span>              
4739:     <span class="ruby-keyword kw">end</span>     
4740:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">sPlace</span>,<span class="ruby-ivar">@format_fmt48</span>)
4741: 
4742:     <span class="ruby-comment cmt">#仲裁员</span>
4743:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
4744:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-comment cmt">#普通</span>
4745:       <span class="ruby-ivar">@str3</span> = <span class="ruby-value str">&quot;首席&quot;</span>
4746:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;        仲  裁  员：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span><span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;        仲  裁  员：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>
4747:     <span class="ruby-keyword kw">else</span>
4748:       <span class="ruby-ivar">@str3</span> = <span class="ruby-value str">&quot;独任&quot;</span>
4749:       <span class="ruby-ivar">@chief_arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>
4750:     <span class="ruby-keyword kw">end</span>
4751:     <span class="ruby-ivar">@zl</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>
4752:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@str3</span>,<span class="ruby-ivar">@format_fmt48</span>)
4753:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@chief_arbitrator</span>,<span class="ruby-ivar">@format_fmt48</span>)
4754:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl</span>,<span class="ruby-ivar">@format_fmt48</span>)
4755:     <span class="ruby-comment cmt">#申请人</span>
4756:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 1 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
4757:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
4758:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;____________&quot;</span>
4759:     <span class="ruby-keyword kw">else</span>
4760:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
4761:       <span class="ruby-ivar">@n1</span> = <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span>
4762:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
4763:         <span class="ruby-ivar">@applicant1</span> = <span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;申 请 人（名称）：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>).<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4764:         <span class="ruby-ivar">@tp</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and commissary!='' and partyname=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>).<span class="ruby-identifier">partyname</span>])
4765:         <span class="ruby-ivar">@tp1</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@tp</span>)
4766:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tp1!</span>=<span class="ruby-keyword kw">nil</span>
4767:           <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4768:           <span class="ruby-ivar">@tp</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
4769:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4770:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                     &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">commissary</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4771:             <span class="ruby-keyword kw">else</span>
4772:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          法定代表人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4773:             <span class="ruby-keyword kw">end</span>
4774:             <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4775:           <span class="ruby-keyword kw">end</span>
4776:         <span class="ruby-keyword kw">end</span>
4777:         <span class="ruby-comment cmt">#申请人的代理人</span>
4778:         <span class="ruby-ivar">@agents1</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and party_id=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants</span>).<span class="ruby-identifier">id</span>])
4779:         <span class="ruby-ivar">@ag1</span> =  <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@agents1</span>)
4780:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ag1!</span>=<span class="ruby-keyword kw">nil</span>
4781:           <span class="ruby-identifier">i2</span>=<span class="ruby-value">1</span>
4782:           <span class="ruby-ivar">@agents1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agentss</span><span class="ruby-operator">|</span>
4783:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4784:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                 &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agentss</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4785:             <span class="ruby-keyword kw">else</span>
4786:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          代理人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agentss</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4787:             <span class="ruby-keyword kw">end</span>
4788:             <span class="ruby-identifier">i2</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4789:           <span class="ruby-keyword kw">end</span>
4790:         <span class="ruby-keyword kw">end</span>
4791:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#多个申请人时按次序显示</span>
4792:         <span class="ruby-identifier">i3</span> = <span class="ruby-value">1</span>
4793:         <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
4794:           <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;第&quot;</span> <span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i3</span>)<span class="ruby-operator">+</span> <span class="ruby-value str">&quot;申请人（名称）：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4795:           <span class="ruby-comment cmt">#法定代表人</span>
4796:           <span class="ruby-ivar">@tp3</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and commissary!='' and partyname=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span>])
4797:           <span class="ruby-ivar">@tp</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@tp3</span>)
4798:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tp!</span>=<span class="ruby-keyword kw">nil</span>
4799:             <span class="ruby-ivar">@n3</span> = <span class="ruby-ivar">@tp3</span>.<span class="ruby-identifier">length</span>
4800:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n3</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
4801:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          法定代表人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@tp</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4802:             <span class="ruby-keyword kw">else</span>
4803:               <span class="ruby-identifier">i5</span> = <span class="ruby-value">1</span>
4804:               <span class="ruby-ivar">@tp3</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tp3</span><span class="ruby-operator">|</span>
4805:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i5</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4806:                   <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                     &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tp3</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4807:                 <span class="ruby-keyword kw">else</span>
4808:                   <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          法定代表人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tp3</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4809:                 <span class="ruby-keyword kw">end</span>
4810:                 <span class="ruby-identifier">i5</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4811:               <span class="ruby-keyword kw">end</span>
4812:             <span class="ruby-keyword kw">end</span>
4813:           <span class="ruby-keyword kw">end</span>
4814:           <span class="ruby-comment cmt">#代理人</span>
4815:           <span class="ruby-ivar">@agents2</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and party_id=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">id</span>])
4816:           <span class="ruby-ivar">@agents1</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@agents2</span>)
4817:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents1!</span>=<span class="ruby-keyword kw">nil</span>
4818:             <span class="ruby-identifier">i6</span> = <span class="ruby-value">1</span>
4819:             <span class="ruby-ivar">@agents2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
4820:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i6</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4821:                 <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                  &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4822:               <span class="ruby-keyword kw">else</span>
4823:                 <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          代理人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4824:               <span class="ruby-keyword kw">end</span>
4825:               <span class="ruby-identifier">i6</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4826:             <span class="ruby-keyword kw">end</span>
4827:           <span class="ruby-keyword kw">end</span>
4828:           <span class="ruby-identifier">i3</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4829:         <span class="ruby-keyword kw">end</span>
4830:       <span class="ruby-keyword kw">end</span><span class="ruby-comment cmt">#  去掉最后的\r</span>
4831:     <span class="ruby-keyword kw">end</span>
4832:     <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
4833:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant1</span>,<span class="ruby-ivar">@format_fmt48</span>)
4834:     <span class="ruby-comment cmt">#被申请人</span>
4835:     <span class="ruby-ivar">@applicants2</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 2 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
4836:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
4837:       <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;____________&quot;</span>
4838:     <span class="ruby-keyword kw">else</span>
4839:       <span class="ruby-ivar">@n2</span> = <span class="ruby-ivar">@applicants2</span>.<span class="ruby-identifier">length</span>
4840:       <span class="ruby-ivar">@applicant2</span> = <span class="ruby-value str">&quot;&quot;</span>
4841:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n2</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
4842:         <span class="ruby-ivar">@applicant2</span> =<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;被申请人（名称）：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants2</span>).<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4843:         <span class="ruby-ivar">@tp</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and commissary!='' and partyname=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants2</span>).<span class="ruby-identifier">partyname</span>])
4844:         <span class="ruby-ivar">@tp1</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@tp</span>)
4845:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tp1!</span>=<span class="ruby-keyword kw">nil</span>
4846:           <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4847:           <span class="ruby-ivar">@tp</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
4848:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4849:               <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                     &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">commissary</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4850:             <span class="ruby-keyword kw">else</span>
4851:               <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          法定代表人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4852:             <span class="ruby-keyword kw">end</span>
4853:             <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4854:           <span class="ruby-keyword kw">end</span>
4855:         <span class="ruby-keyword kw">end</span>
4856:         <span class="ruby-comment cmt">#被申请人的代理人</span>
4857:         <span class="ruby-ivar">@agents1</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and party_id=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@applicants2</span>).<span class="ruby-identifier">id</span>])
4858:         <span class="ruby-ivar">@ag1</span> =  <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@agents1</span>)
4859:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ag1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@ag1!</span>=<span class="ruby-value str">&quot;&quot;</span>
4860:           <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4861:           <span class="ruby-ivar">@agents1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agentss</span><span class="ruby-operator">|</span>
4862:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4863:               <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                 &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agentss</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4864:             <span class="ruby-keyword kw">else</span>
4865:               <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          代理人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agentss</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4866:             <span class="ruby-keyword kw">end</span>
4867:             <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4868:           <span class="ruby-keyword kw">end</span>
4869:         <span class="ruby-keyword kw">end</span>
4870:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#多个被申请人</span>
4871:         <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
4872:         <span class="ruby-ivar">@applicants2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant2</span><span class="ruby-operator">|</span>
4873:           <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span> <span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span> <span class="ruby-value str">&quot;被申请人（名称）：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant2</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4874:           <span class="ruby-comment cmt">#法定代表人</span>
4875:           <span class="ruby-ivar">@tp4</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and commissary!='' and partyname=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">applicant2</span>.<span class="ruby-identifier">partyname</span>])
4876:           <span class="ruby-ivar">@tp</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@tp4</span>)
4877:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tp!</span>=<span class="ruby-keyword kw">nil</span>
4878:             <span class="ruby-identifier">i7</span> = <span class="ruby-value">1</span>
4879:             <span class="ruby-ivar">@tp4</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tp4</span><span class="ruby-operator">|</span>
4880:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i7</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4881:                 <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                     &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tp4</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4882:               <span class="ruby-keyword kw">else</span>
4883:                 <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          法定代表人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tp4</span>.<span class="ruby-identifier">commissary</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4884:               <span class="ruby-keyword kw">end</span>
4885:               <span class="ruby-identifier">i7</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4886:             <span class="ruby-keyword kw">end</span>
4887:           <span class="ruby-keyword kw">end</span>
4888:           <span class="ruby-comment cmt">#代理人</span>
4889:           <span class="ruby-ivar">@agents10</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and party_id=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">applicant2</span>.<span class="ruby-identifier">id</span>])
4890:           <span class="ruby-ivar">@agents1</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@agents10</span>)
4891:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents1!</span>=<span class="ruby-keyword kw">nil</span>
4892:             <span class="ruby-identifier">i8</span> = <span class="ruby-value">1</span>
4893:             <span class="ruby-ivar">@agents10</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents1</span><span class="ruby-operator">|</span>
4894:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i8</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
4895:                 <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;                 &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4896:               <span class="ruby-keyword kw">else</span>
4897:                 <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;          代理人：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents1</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（签名） __________&quot;</span>  <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
4898:               <span class="ruby-keyword kw">end</span>
4899:               <span class="ruby-identifier">i8</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4900:             <span class="ruby-keyword kw">end</span>
4901:           <span class="ruby-keyword kw">end</span>
4902:           <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
4903:         <span class="ruby-keyword kw">end</span>      <span class="ruby-comment cmt">#  去掉最后的\r</span>
4904:       <span class="ruby-keyword kw">end</span>
4905:     <span class="ruby-keyword kw">end</span>
4906:     <span class="ruby-ivar">@applicant2</span>=<span class="ruby-ivar">@applicant2</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
4907:     <span class="ruby-ivar">@format_fmt48</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_fmt48</span>)
4908:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000309" class="method-detail">
        <a name="M000309"></a>

        <div class="method-heading">
          <a href="#M000309" class="method-signature">
          <span class="method-name">format_letter_fmt49</span><span class="method-args">(code,p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
变 更 仲 裁 费 用 审 批
表（涉外案件）；增加/减少争议金额
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000309-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000309-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 4910</span>
4910:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt49</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>)
4911:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-value str">&quot;&quot;</span>
4912:     <span class="ruby-identifier">rep11</span> = <span class="ruby-value str">&quot;&quot;</span>
4913:     <span class="ruby-identifier">rep2</span> = <span class="ruby-value str">&quot;____年__月__日&quot;</span>
4914:     <span class="ruby-identifier">rep10</span> = <span class="ruby-value str">&quot;____年__月__日&quot;</span>
4915:     <span class="ruby-identifier">rep3</span> = <span class="ruby-value str">&quot;&quot;</span>
4916:     <span class="ruby-identifier">rep4</span> = <span class="ruby-value str">&quot;&quot;</span>
4917:     <span class="ruby-identifier">rep5</span> = <span class="ruby-value str">&quot;&quot;</span>
4918:     <span class="ruby-identifier">rep6</span> = <span class="ruby-value str">&quot;&quot;</span>
4919:     <span class="ruby-identifier">rep7</span> = <span class="ruby-value str">&quot;&quot;</span>
4920:     <span class="ruby-identifier">rep8</span> = <span class="ruby-value str">&quot;&quot;</span>
4921:     <span class="ruby-identifier">rep9</span> = <span class="ruby-value str">&quot;&quot;</span>
4922:     <span class="ruby-identifier">rep13</span> = <span class="ruby-value str">&quot;&quot;</span>
4923:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span><span class="ruby-comment cmt">#提出人是申请人</span>
4924:       <span class="ruby-identifier">rep1</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
4925:       <span class="ruby-ivar">@a</span>=<span class="ruby-value">1</span>
4926:     <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#被申请人</span>
4927:       <span class="ruby-identifier">rep1</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
4928:       <span class="ruby-ivar">@a</span>=<span class="ruby-value">2</span>
4929:     <span class="ruby-keyword kw">end</span>
4930:     <span class="ruby-identifier">aribitprog_num</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">aribitprog_num</span>
4931:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span>
4932:       <span class="ruby-identifier">rep12</span> = <span class="ruby-value str">&quot;国内&quot;</span>
4933:     <span class="ruby-keyword kw">else</span>
4934:       <span class="ruby-identifier">rep12</span> = <span class="ruby-value str">&quot;涉外&quot;</span>
4935:     <span class="ruby-keyword kw">end</span>
4936:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-identifier">rep12</span>,<span class="ruby-ivar">@format_fmt49</span>)
4937:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">rep1</span>,<span class="ruby-ivar">@format_fmt49</span>)
4938:     <span class="ruby-comment cmt">#立案号</span>
4939:     <span class="ruby-identifier">case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
4940:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">case_code</span>,<span class="ruby-ivar">@format_fmt49</span>)
4941:     <span class="ruby-comment cmt">#typ=='0002' （增加）；'0003' （减少）</span>
4942:     <span class="ruby-ivar">@caseamount</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=? and typ&lt;&gt;'0001'&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@a</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
4943:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseamount!</span>=<span class="ruby-keyword kw">nil</span>
4944:       <span class="ruby-identifier">rep2</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">dt</span>)
4945:       <span class="ruby-identifier">rep10</span> = <span class="ruby-identifier">rep2</span>
4946:       <span class="ruby-identifier">rep9</span> = <span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">remark</span>
4947:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
4948:         <span class="ruby-identifier">rep11</span> = <span class="ruby-value str">&quot;（增加）&quot;</span>
4949:         <span class="ruby-identifier">rep13</span> = <span class="ruby-value str">&quot;增加&quot;</span>
4950:         <span class="ruby-comment cmt">#增加的明确的争议金额</span>
4951:         <span class="ruby-identifier">rep4</span> =<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_d_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>,<span class="ruby-ivar">@a</span>)
4952:         <span class="ruby-comment cmt">#增加的不明确但可以确定的争议金额</span>
4953:         <span class="ruby-identifier">rep5</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_i_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>,<span class="ruby-ivar">@a</span>)
4954:         <span class="ruby-comment cmt">#明确的或不明确但可以确定的争议金额的仲裁费用</span>
4955:         <span class="ruby-ivar">@sum1</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select s.rmb_money as sm from tb_should_charges as s,tb_case_amounts as a
4956:      where s.used='Y' and a.used='Y' and s.recevice_code=a.recevice_code and s.recevice_code='#{code}' and s.case_amount_id=#{@caseamount.id} and s.parent_id=0 and a.typ='0002' and a.partytype=#{@a} order by a.id desc&quot;</span>)
4957:         <span class="ruby-ivar">@s1</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@sum1</span>)
4958:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s1!</span>=<span class="ruby-keyword kw">nil</span>
4959:           <span class="ruby-ivar">@rep7</span> = <span class="ruby-ivar">@s1</span>.<span class="ruby-identifier">sm</span>
4960:           <span class="ruby-identifier">rep7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@rep7</span>.<span class="ruby-identifier">to_f</span>)
4961:         <span class="ruby-keyword kw">else</span>
4962:           <span class="ruby-ivar">@rep7</span> = <span class="ruby-value">0</span>
4963:         <span class="ruby-keyword kw">end</span>
4964:         <span class="ruby-comment cmt">#不明确且无法确定金额的请求事项的仲裁费用</span>
4965:         <span class="ruby-ivar">@sum2</span>= <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}' and parent_id=0 and payment='#{p_v}' and typ='0009'&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as sm2&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
4966:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sum2!</span>=<span class="ruby-keyword kw">nil</span>
4967:           <span class="ruby-ivar">@rep8</span> = <span class="ruby-ivar">@sum2</span>.<span class="ruby-identifier">sm2</span>
4968:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@rep8!</span>=<span class="ruby-keyword kw">nil</span>
4969:             <span class="ruby-identifier">rep8</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@rep8</span>.<span class="ruby-identifier">to_f</span>)
4970:           <span class="ruby-keyword kw">end</span>
4971:         <span class="ruby-keyword kw">else</span>
4972:           <span class="ruby-ivar">@rep8</span> = <span class="ruby-value">0</span>
4973:           <span class="ruby-identifier">rep8</span> = <span class="ruby-value str">&quot;&quot;</span>
4974:         <span class="ruby-keyword kw">end</span>
4975:         <span class="ruby-ivar">@rep6</span> = <span class="ruby-ivar">@rep7</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@rep8</span>.<span class="ruby-identifier">to_i</span>
4976:         <span class="ruby-identifier">rep6</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-ivar">@rep6</span>)
4977:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
4978:         <span class="ruby-identifier">rep11</span> = <span class="ruby-value str">&quot;（减少）&quot;</span>
4979:         <span class="ruby-identifier">rep13</span> = <span class="ruby-value str">&quot;减少&quot;</span>
4980:         <span class="ruby-comment cmt">#减少的明确的争议金额</span>
4981:         <span class="ruby-identifier">rep4</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_d_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>,<span class="ruby-ivar">@a</span>)
4982:         <span class="ruby-comment cmt">#减少的不明确但可以确定的争议金额</span>
4983:         <span class="ruby-identifier">rep5</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_i_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>,<span class="ruby-ivar">@a</span>)
4984:         <span class="ruby-comment cmt">#明确的或不明确但可以确定的争议金额的仲裁费用</span>
4985:         <span class="ruby-ivar">@sum1</span> = <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code=? and used='Y' and payment=? and case_amount_id=? and typ='0001'&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>])
4986:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sum1!</span>=<span class="ruby-keyword kw">nil</span>
4987:           <span class="ruby-ivar">@rep7</span> = <span class="ruby-ivar">@sum1</span>.<span class="ruby-identifier">to_f</span>
4988:           <span class="ruby-identifier">rep7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@rep7</span>.<span class="ruby-identifier">to_f</span>)
4989:         <span class="ruby-keyword kw">else</span>
4990:           <span class="ruby-ivar">@rep7</span> = <span class="ruby-value">0</span>
4991:         <span class="ruby-keyword kw">end</span>
4992:         <span class="ruby-comment cmt">#不明确且无法确定金额的请求事项的仲裁费用</span>
4993:         <span class="ruby-ivar">@sum2</span>= <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code=? and used='Y' and payment=? and case_amount_id=? and typ='0004'&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-ivar">@caseamount</span>.<span class="ruby-identifier">id</span>])
4994:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sum2!</span>=<span class="ruby-keyword kw">nil</span>
4995:           <span class="ruby-ivar">@rep8</span> = <span class="ruby-ivar">@sum2</span>.<span class="ruby-identifier">to_f</span>
4996:           <span class="ruby-identifier">rep8</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@rep8</span>.<span class="ruby-identifier">to_f</span>)
4997:         <span class="ruby-keyword kw">else</span>
4998:           <span class="ruby-ivar">@rep8</span> = <span class="ruby-value">0</span>
4999:         <span class="ruby-keyword kw">end</span>
5000:         <span class="ruby-ivar">@rep6</span> = <span class="ruby-ivar">@rep7</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@rep8</span>
5001:         <span class="ruby-identifier">rep6</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-ivar">@rep6</span>)
5002:       <span class="ruby-keyword kw">end</span>
5003:     <span class="ruby-keyword kw">end</span>
5004:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">rep11</span>,<span class="ruby-ivar">@format_fmt49</span>)
5005:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">rep2</span>,<span class="ruby-ivar">@format_fmt49</span>)
5006:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">rep10</span>,<span class="ruby-ivar">@format_fmt49</span>)
5007:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">rep3</span>,<span class="ruby-ivar">@format_fmt49</span>)
5008:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">rep4</span>,<span class="ruby-ivar">@format_fmt49</span>)
5009:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">rep5</span>,<span class="ruby-ivar">@format_fmt49</span>)
5010:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">rep6</span>,<span class="ruby-ivar">@format_fmt49</span>)
5011:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">rep7</span>,<span class="ruby-ivar">@format_fmt49</span>)
5012:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">rep8</span>,<span class="ruby-ivar">@format_fmt49</span>)
5013:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">rep9</span>,<span class="ruby-ivar">@format_fmt49</span>)
5014:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">rep13</span>,<span class="ruby-ivar">@format_fmt49</span>)
5015:     <span class="ruby-ivar">@format_fmt49</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">rep13</span>,<span class="ruby-ivar">@format_fmt49</span>)
5016:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000310" class="method-detail">
        <a name="M000310"></a>

        <div class="method-heading">
          <a href="#M000310" class="method-signature">
          <span class="method-name">format_letter_fmt50</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
退 费 审 批 表 &#8212;- 所有案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000310-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000310-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5018</span>
5018:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt50</span>(<span class="ruby-identifier">code</span>)
5019:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-value str">&quot;&quot;</span>
5020:     <span class="ruby-identifier">rep1</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
5021:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">rep1</span>,<span class="ruby-ivar">@format_fmt50</span>)
5022:     <span class="ruby-identifier">tb_caseendbook</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find_by_used_and_recevice_code</span>(<span class="ruby-value str">'Y'</span>,<span class="ruby-identifier">code</span>)
5023:     <span class="ruby-identifier">end_num</span> = (<span class="ruby-identifier">tb_caseendbook!</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">tb_caseendbook</span>.<span class="ruby-identifier">arbitBookNum</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
5024:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">end_num</span>,<span class="ruby-ivar">@format_fmt50</span>)
5025:     <span class="ruby-identifier">zl</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
5026:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">zl</span>,<span class="ruby-ivar">@format_fmt50</span>)
5027:     <span class="ruby-identifier">rep4</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5028:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">rep4</span>,<span class="ruby-ivar">@format_fmt50</span>)
5029:     <span class="ruby-identifier">rep5</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5030:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">rep5</span>,<span class="ruby-ivar">@format_fmt50</span>)
5031:     <span class="ruby-identifier">tb_should_refund</span> = <span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used=? and recevice_code=? and parent_id=0 and state&lt;&gt;3&quot;</span>,<span class="ruby-value str">'Y'</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5032:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tb_should_refund!</span>=<span class="ruby-keyword kw">nil</span>
5033:       <span class="ruby-identifier">rep6</span> = <span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">rep4</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">rep5</span>
5034:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">refund_date!</span>=<span class="ruby-keyword kw">nil</span>
5035:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">refund_date</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5036:         <span class="ruby-identifier">rep7</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5037:       <span class="ruby-keyword kw">else</span>
5038:         <span class="ruby-identifier">rep7</span> = <span class="ruby-value str">&quot;_____年__月__日&quot;</span>
5039:       <span class="ruby-keyword kw">end</span>
5040:       <span class="ruby-identifier">rep8</span> = <span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">refund_case</span>
5041:       <span class="ruby-identifier">rep9</span> = <span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-operator">?</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">m_re_rmb_money</span>) <span class="ruby-operator">:</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">m_re_rmb_money_2</span>)
5042:       <span class="ruby-identifier">m_typ</span> = <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">currency</span>)
5043:       <span class="ruby-identifier">rep10</span> = <span class="ruby-identifier">m_typ</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">tb_should_refund</span>.<span class="ruby-identifier">f_money</span>)
5044:     <span class="ruby-keyword kw">else</span>
5045:       <span class="ruby-identifier">rep6</span> = <span class="ruby-value str">&quot;&quot;</span>
5046:       <span class="ruby-identifier">rep7</span> = <span class="ruby-value str">&quot;_____年__月__日&quot;</span>
5047:       <span class="ruby-identifier">rep8</span> = <span class="ruby-value str">&quot;&quot;</span>
5048:       <span class="ruby-identifier">rep9</span> = <span class="ruby-value str">&quot;&quot;</span>
5049:       <span class="ruby-identifier">rep10</span> = <span class="ruby-value str">&quot;&quot;</span>
5050:     <span class="ruby-keyword kw">end</span>
5051:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">rep6</span>,<span class="ruby-ivar">@format_fmt50</span>)
5052:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">rep7</span>,<span class="ruby-ivar">@format_fmt50</span>)
5053:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">rep8</span>,<span class="ruby-ivar">@format_fmt50</span>)
5054:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">rep9</span>,<span class="ruby-ivar">@format_fmt50</span>)
5055:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">rep10</span>,<span class="ruby-ivar">@format_fmt50</span>)
5056:     <span class="ruby-identifier">arr_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>().<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5057:     <span class="ruby-identifier">rep11</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5058:     <span class="ruby-ivar">@format_fmt50</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">rep11</span>,<span class="ruby-ivar">@format_fmt50</span>)
5059:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000311" class="method-detail">
        <a name="M000311"></a>

        <div class="method-heading">
          <a href="#M000311" class="method-signature">
          <span class="method-name">format_letter_fmt51</span><span class="method-args">(code, p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
送达回证格式函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000311-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000311-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5061</span>
5061:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt51</span>(<span class="ruby-identifier">code</span>, <span class="ruby-identifier">p_v</span>)
5062:     <span class="ruby-ivar">@format_fmt51</span> = <span class="ruby-value str">&quot;&quot;</span>
5063: 
5064:     <span class="ruby-comment cmt"># 当事人</span>
5065:     <span class="ruby-ivar">@dangshiren</span> = <span class="ruby-value str">&quot;&quot;</span>
5066:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span>  <span class="ruby-comment cmt">#申请人</span>
5067:       <span class="ruby-ivar">@dangshiren</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5068:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-comment cmt">#被申请人</span>
5069:       <span class="ruby-ivar">@dangshiren</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5070:     <span class="ruby-keyword kw">else</span>              <span class="ruby-comment cmt">#双方</span>
5071:       <span class="ruby-ivar">@applicant1</span>  = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5072:       <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5073:       <span class="ruby-ivar">@dangshiren</span> = <span class="ruby-ivar">@applicant1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@respondents</span>
5074:     <span class="ruby-keyword kw">end</span>
5075:     <span class="ruby-ivar">@format_fmt51</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@dangshiren</span>,<span class="ruby-ivar">@format_fmt51</span>)
5076: 
5077:     <span class="ruby-comment cmt"># 案由</span>
5078:     <span class="ruby-ivar">@casereason</span> = <span class="ruby-value str">&quot;&quot;</span>
5079:     <span class="ruby-identifier">tbcase</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5080:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">tbcase</span>.<span class="ruby-identifier">blank?</span>
5081:       <span class="ruby-ivar">@casereason</span> = <span class="ruby-identifier">tbcase</span>.<span class="ruby-identifier">casereason</span>
5082:     <span class="ruby-keyword kw">end</span>
5083:     <span class="ruby-ivar">@format_fmt51</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@casereason</span>,<span class="ruby-ivar">@format_fmt51</span>)
5084: 
5085:     <span class="ruby-comment cmt"># 送达人（助理姓名）</span>
5086:     <span class="ruby-ivar">@format_fmt51</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt51</span>)
5087: 
5088:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000319" class="method-detail">
        <a name="M000319"></a>

        <div class="method-heading">
          <a href="#M000319" class="method-signature">
          <span class="method-name">format_letter_fmt53</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
减免费用审批表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000319-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000319-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5458</span>
5458:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt53</span>(<span class="ruby-identifier">code</span>)
5459:     <span class="ruby-ivar">@format_fmt53</span> = <span class="ruby-value str">&quot;&quot;</span>
5460:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5461:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5462:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5463:     <span class="ruby-keyword kw">end</span>
5464:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">state</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
5465:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt53</span>)
5466:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">state</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">4</span>
5467:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt53</span>)
5468:     <span class="ruby-keyword kw">end</span>
5469: 
5470:     <span class="ruby-comment cmt"># 申请人</span>
5471:     <span class="ruby-ivar">@format_fmt53</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt53</span>)
5472:    
5473:     <span class="ruby-ivar">@redu</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id desc&quot;</span>)
5474:     <span class="ruby-comment cmt"># 被申请人</span>
5475:     
5476: 
5477:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@redu</span>
5478:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt53</span>)
5479:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">consultant</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0001&quot;</span>
5480:         <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt53</span>)
5481:       <span class="ruby-keyword kw">elsif</span>  <span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">consultant</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0002&quot;</span>
5482:         <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt53</span>)
5483:       <span class="ruby-keyword kw">end</span>
5484:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">remark</span>,<span class="ruby-ivar">@format_fmt53</span>)
5485:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">apply_date</span>),<span class="ruby-ivar">@format_fmt53</span>)
5486:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">should_charge_id</span>).<span class="ruby-identifier">rmb_money</span>,<span class="ruby-ivar">@format_fmt53</span>)
5487:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@redu</span>.<span class="ruby-identifier">rmb_money</span>,<span class="ruby-ivar">@format_fmt53</span>)
5488:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>( <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>)),<span class="ruby-ivar">@format_fmt53</span>)
5489:     <span class="ruby-keyword kw">else</span>
5490:       <span class="ruby-ivar">@format_fmt53</span> =  <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt53</span>)
5491:     <span class="ruby-keyword kw">end</span>
5492:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt53</span>
5493:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000320" class="method-detail">
        <a name="M000320"></a>

        <div class="method-heading">
          <a href="#M000320" class="method-signature">
          <span class="method-name">format_letter_fmt54</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案感谢仲裁庭函件(独)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000320-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000320-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5496</span>
5496:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt54</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
5497:     <span class="ruby-ivar">@format_fmt54</span> = <span class="ruby-value str">&quot;&quot;</span>
5498:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5499:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5500:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5501:     <span class="ruby-keyword kw">end</span>
5502:     <span class="ruby-comment cmt">#立案号</span>
5503:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>,<span class="ruby-ivar">@format_fmt54</span>)
5504:     <span class="ruby-comment cmt"># 申请人</span>
5505:     <span class="ruby-ivar">@format_fmt54</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt54</span>)
5506:     <span class="ruby-comment cmt"># 被申请人</span>
5507:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt54</span>)
5508:     <span class="ruby-comment cmt"># 独任仲裁员</span>
5509:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>),<span class="ruby-ivar">@format_fmt54</span>)
5510:     <span class="ruby-comment cmt"># 日期</span>
5511:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year3</span>(<span class="ruby-identifier">doc_id</span>)
5512:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month3</span>(<span class="ruby-identifier">doc_id</span>)
5513:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day3</span>(<span class="ruby-identifier">doc_id</span>)
5514:     <span class="ruby-ivar">@date_of_letter</span> = <span class="ruby-ivar">@y2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@m2</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@d2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5515:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">get_enddate</span>(<span class="ruby-identifier">code</span>) ,<span class="ruby-ivar">@format_fmt54</span>)
5516:     <span class="ruby-comment cmt"># 日期</span>
5517:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span> ,<span class="ruby-ivar">@format_fmt54</span>)
5518:     <span class="ruby-comment cmt">#结案书类型</span>
5519:     <span class="ruby-identifier">book_typ</span> = <span class="ruby-value str">&quot;裁决书&quot;</span>
5520:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last!</span>= <span class="ruby-keyword kw">nil</span>
5521:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last</span>).<span class="ruby-identifier">endStyle</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span>
5522:         <span class="ruby-identifier">book_typ</span> = <span class="ruby-value str">&quot;撤案裁决书&quot;</span>
5523:       <span class="ruby-keyword kw">end</span>
5524:     <span class="ruby-keyword kw">end</span>
5525:     <span class="ruby-ivar">@format_fmt54</span> =  <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">book_typ</span> ,<span class="ruby-ivar">@format_fmt54</span>)
5526:     <span class="ruby-comment cmt">#</span>
5527:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt54</span>
5528:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000321" class="method-detail">
        <a name="M000321"></a>

        <div class="method-heading">
          <a href="#M000321" class="method-signature">
          <span class="method-name">format_letter_fmt55</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案感谢仲裁庭函件(三人)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000321-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000321-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5530</span>
5530:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt55</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
5531:     <span class="ruby-ivar">@format_fmt55</span> = <span class="ruby-value str">&quot;&quot;</span>
5532:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5533:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5534:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5535:     <span class="ruby-keyword kw">end</span>
5536:     <span class="ruby-comment cmt">#立案号</span>
5537:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>,<span class="ruby-ivar">@format_fmt55</span>)
5538:     <span class="ruby-comment cmt"># 申请人</span>
5539:     <span class="ruby-ivar">@format_fmt55</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>),<span class="ruby-ivar">@format_fmt55</span>)
5540:     <span class="ruby-comment cmt"># 被申请人</span>
5541:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>),<span class="ruby-ivar">@format_fmt55</span>)
5542:     <span class="ruby-comment cmt"># 首席仲裁员</span>
5543:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0002'</span>),<span class="ruby-ivar">@format_fmt55</span>)
5544:     <span class="ruby-comment cmt"># 申请人仲裁员</span>
5545:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0003'</span>),<span class="ruby-ivar">@format_fmt55</span>)
5546:     <span class="ruby-comment cmt"># 被申请人仲裁员</span>
5547:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">arbitrator</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0004'</span>),<span class="ruby-ivar">@format_fmt55</span>)
5548: 
5549:     <span class="ruby-comment cmt"># 日期</span>
5550:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year3</span>(<span class="ruby-identifier">doc_id</span>)
5551:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month3</span>(<span class="ruby-identifier">doc_id</span>)
5552:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day3</span>(<span class="ruby-identifier">doc_id</span>)
5553:     <span class="ruby-ivar">@date_of_letter</span> = <span class="ruby-ivar">@y2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@m2</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@d2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5554:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">get_enddate</span>(<span class="ruby-identifier">code</span>) ,<span class="ruby-ivar">@format_fmt55</span>)
5555:     <span class="ruby-comment cmt"># 日期</span>
5556:     <span class="ruby-ivar">@format_fmt55</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span> ,<span class="ruby-ivar">@format_fmt55</span>)
5557:     <span class="ruby-comment cmt">#结案书类型</span>
5558:     <span class="ruby-identifier">book_typ</span> = <span class="ruby-value str">&quot;裁决书&quot;</span>
5559:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last!</span>= <span class="ruby-keyword kw">nil</span>
5560:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last</span>).<span class="ruby-identifier">endStyle</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span>
5561:         <span class="ruby-identifier">book_typ</span> = <span class="ruby-value str">&quot;撤案裁决书&quot;</span>
5562:       <span class="ruby-keyword kw">end</span>
5563:     <span class="ruby-keyword kw">end</span>
5564:     <span class="ruby-ivar">@format_fmt55</span> =  <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-identifier">book_typ</span> ,<span class="ruby-ivar">@format_fmt55</span>)
5565:     <span class="ruby-comment cmt">#</span>
5566:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt55</span>
5567:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000322" class="method-detail">
        <a name="M000322"></a>

        <div class="method-heading">
          <a href="#M000322" class="method-signature">
          <span class="method-name">format_letter_fmt56</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
校和表
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000322-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000322-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5569</span>
5569:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt56</span>(<span class="ruby-identifier">code</span>)
5570:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-value str">&quot;&quot;</span>
5571:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5572:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5573:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5574:     <span class="ruby-keyword kw">end</span>
5575:     <span class="ruby-comment cmt">#立案号</span>
5576:     <span class="ruby-ivar">@format_fmt56</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>,<span class="ruby-ivar">@format_fmt56</span>)
5577:     <span class="ruby-comment cmt"># 仲裁助理</span>
5578:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt56</span>)
5579:     <span class="ruby-comment cmt"># 仲裁通知时间</span>
5580:     <span class="ruby-identifier">doc</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find_by_recevice_code_and_typ_code</span>(<span class="ruby-identifier">code</span>,[<span class="ruby-value str">&quot;0005&quot;</span>,<span class="ruby-value str">&quot;000501&quot;</span>,<span class="ruby-value str">&quot;0006&quot;</span>,<span class="ruby-value str">&quot;000601&quot;</span>,<span class="ruby-value str">&quot;0007&quot;</span>,<span class="ruby-value str">&quot;000701&quot;</span>,<span class="ruby-value str">&quot;0008&quot;</span>,<span class="ruby-value str">&quot;000801&quot;</span>,<span class="ruby-value str">&quot;000802&quot;</span>,<span class="ruby-value str">&quot;0009&quot;</span>,<span class="ruby-value str">&quot;000901&quot;</span>,<span class="ruby-value str">&quot;0010&quot;</span>,<span class="ruby-value str">&quot;001001&quot;</span>,<span class="ruby-value str">&quot;0011&quot;</span>,<span class="ruby-value str">&quot;001101&quot;</span>,<span class="ruby-value str">&quot;0012&quot;</span>,<span class="ruby-value str">&quot;001201&quot;</span>,<span class="ruby-value str">&quot;001202&quot;</span>,<span class="ruby-value str">&quot;001203&quot;</span>])
5581:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">doc</span>
5582:             <span class="ruby-identifier">ss_t</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5583:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-identifier">ss_t</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ss_t</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ss_t</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5584:         <span class="ruby-keyword kw">else</span>
5585:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;    年  月 日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5586:     <span class="ruby-keyword kw">end</span>
5587:     <span class="ruby-comment cmt"># 组庭时间</span>
5588:     <span class="ruby-ivar">@caseorg</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5589:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseorg!</span>=<span class="ruby-keyword kw">nil</span>
5590:       <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>,<span class="ruby-ivar">@format_fmt56</span>)
5591:     <span class="ruby-keyword kw">else</span>
5592:       <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;未组庭&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5593:     <span class="ruby-keyword kw">end</span>
5594:     <span class="ruby-comment cmt">#开庭时间</span>
5595:     <span class="ruby-identifier">s_date</span> = <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
5596:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s_date</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;____年__月__日&quot;</span>
5597:       <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">s_date</span>,<span class="ruby-ivar">@format_fmt56</span>)
5598:     <span class="ruby-keyword kw">else</span>
5599:       <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;未安排&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5600:     <span class="ruby-keyword kw">end</span>
5601:     <span class="ruby-comment cmt">#起草人</span>
5602:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt56</span>)
5603:     
5604:     <span class="ruby-comment cmt">#管辖权异议</span>
5605:     <span class="ruby-ivar">@jur</span> = <span class="ruby-constant">TbJurisdiction</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code=?&quot;</span>, <span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id desc&quot;</span>)
5606:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@jur</span>
5607: 
5608:       <span class="ruby-comment cmt">#当事人提出异议日期</span>
5609:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">request_date</span>
5610:         <span class="ruby-identifier">jur</span> = <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">request_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5611:         <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">jur</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5612:           <span class="ruby-keyword kw">else</span>
5613:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;    年  月 日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5614:       <span class="ruby-keyword kw">end</span>
5615:       <span class="ruby-comment cmt">#被申请人反馈时间</span>
5616:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">receive_date</span>
5617:         <span class="ruby-identifier">jur</span> = <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">receive_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5618:         <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">jur</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5619:           <span class="ruby-keyword kw">else</span>
5620:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;    年  月 日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5621:       <span class="ruby-keyword kw">end</span>
5622:       <span class="ruby-comment cmt">#被申请人反馈时间</span>
5623:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">receive_date</span>
5624:         <span class="ruby-identifier">jur</span> = <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">receive_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5625:         <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">jur</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5626:           <span class="ruby-keyword kw">else</span>
5627:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;    年  月 日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5628:       <span class="ruby-keyword kw">end</span>
5629:       <span class="ruby-comment cmt">#起草时间</span>
5630:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">idea_date</span>
5631:         <span class="ruby-identifier">jur</span> = <span class="ruby-ivar">@jur</span>.<span class="ruby-identifier">idea_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5632:         <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">jur</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">jur</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5633:           <span class="ruby-keyword kw">else</span>
5634:                 <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;    年  月 日&quot;</span>,<span class="ruby-ivar">@format_fmt56</span>)
5635:       <span class="ruby-keyword kw">end</span>
5636:       
5637:     <span class="ruby-keyword kw">end</span>
5638:     <span class="ruby-identifier">y</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)[<span class="ruby-value">0</span>]
5639:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-identifier">y</span>,<span class="ruby-ivar">@format_fmt56</span>)
5640:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">y</span>,<span class="ruby-ivar">@format_fmt56</span>)
5641:     <span class="ruby-ivar">@format_fmt56</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-identifier">y</span>,<span class="ruby-ivar">@format_fmt56</span>)
5642:     <span class="ruby-ivar">@format_fmt56</span> =  <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-identifier">y</span> ,<span class="ruby-ivar">@format_fmt56</span>)
5643:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt56</span>
5644:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000323" class="method-detail">
        <a name="M000323"></a>

        <div class="method-heading">
          <a href="#M000323" class="method-signature">
          <span class="method-name">format_letter_fmt57</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员通知函(独任)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000323-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000323-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5646</span>
5646:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt57</span>(<span class="ruby-identifier">code</span>)
5647:     <span class="ruby-identifier">aaa</span>=<span class="ruby-value str">&quot;3. 本会已为您在深圳市格兰云天大酒店预订行政房（地址和联系方式见备注），您也可以参照每晚不超过人民币900元的标准自行在深圳市安排住宿，本会将根据您提供的票据据实报销。&quot;</span>
5648:     <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-value str">&quot;&quot;</span>
5649:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5650: 
5651:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5652:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5653:     <span class="ruby-keyword kw">end</span>
5654: 
5655:     <span class="ruby-identifier">now_array</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5656:     <span class="ruby-identifier">now_str</span> = <span class="ruby-identifier">now_array</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">now_array</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">now_array</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
5657:     <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>, <span class="ruby-identifier">now_str</span>, <span class="ruby-ivar">@format_fmt57</span>)
5658: 
5659:     <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt57</span>)
5660:     
5661:     <span class="ruby-ivar">@new_case</span>=<span class="ruby-keyword kw">true</span>
5662:     <span class="ruby-ivar">@endDate</span>=<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5663:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endDate</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@endDate</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-value str">&quot;2013-03-01&quot;</span>
5664:       <span class="ruby-ivar">@new_case</span>=<span class="ruby-keyword kw">false</span>
5665:     <span class="ruby-keyword kw">end</span>
5666:     
5667:     <span class="ruby-comment cmt">#获取仲裁报酬</span>
5668:     <span class="ruby-identifier">pay_hash</span>= <span class="ruby-identifier">get_pay</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>)
5669: 
5670:     <span class="ruby-comment cmt">#独任仲裁员</span>
5671:     <span class="ruby-ivar">@case_arb</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find_by_recevice_code_and_arbitmantype_and_used</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>,<span class="ruby-value str">&quot;0001&quot;</span>,<span class="ruby-value str">&quot;Y&quot;</span>)
5672:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case_arb</span>
5673:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5674:     <span class="ruby-keyword kw">end</span>
5675:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
5676:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;当事人的选定&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5677:     <span class="ruby-keyword kw">else</span>
5678:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;本会主任的指定&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5679:     <span class="ruby-keyword kw">end</span>
5680:     <span class="ruby-ivar">@arb</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>)
5681:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arb</span>
5682:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5683:     <span class="ruby-keyword kw">end</span>
5684:     <span class="ruby-comment cmt">#仲裁员姓名</span>
5685:     <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>, <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt57</span>)
5686:     <span class="ruby-comment cmt">#立案号</span>
5687:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">area_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001001&quot;</span>
5688:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;500&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5689:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5690:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5691:     <span class="ruby-keyword kw">else</span>
5692:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;800&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5693:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>, <span class="ruby-identifier">aaa</span>, <span class="ruby-ivar">@format_fmt57</span>)
5694:       <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;开庭、&quot;</span>, <span class="ruby-ivar">@format_fmt57</span>)
5695:     <span class="ruby-keyword kw">end</span>
5696:     
5697:     <span class="ruby-identifier">pay_0001</span> = <span class="ruby-identifier">pay_hash</span>[<span class="ruby-value str">&quot;pay_0001&quot;</span>].<span class="ruby-identifier">to_f</span>
5698:     <span class="ruby-identifier">reward_safe</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_reward_safe</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>).<span class="ruby-identifier">to_f</span>
5699:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@new_case</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pay_0001</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">reward_safe</span>
5700:       <span class="ruby-identifier">pay_0001</span> = <span class="ruby-identifier">reward_safe</span>
5701:     <span class="ruby-keyword kw">end</span>
5702: 
5703:     <span class="ruby-ivar">@format_fmt57</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">pay_0001</span>), <span class="ruby-ivar">@format_fmt57</span>)
5704:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt57</span>
5705:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000324" class="method-detail">
        <a name="M000324"></a>

        <div class="method-heading">
          <a href="#M000324" class="method-signature">
          <span class="method-name">format_letter_fmt58</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员通知函(三人)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000324-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000324-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5707</span>
5707:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt58</span>(<span class="ruby-identifier">code</span>)
5708:     <span class="ruby-identifier">aaa</span>=<span class="ruby-value str">&quot;3. 本会已为您在深圳市格兰云天大酒店预订行政房（地址和联系方式见开庭通知的备注），您也可以参照每晚不超过人民币900元的标准自行在深圳市安排住宿，本会将根据您提供的票据据实报销。&quot;</span>
5709:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-value str">&quot;&quot;</span>
5710:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5711:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5712:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5713:     <span class="ruby-keyword kw">end</span>
5714: 
5715:     <span class="ruby-identifier">now_array</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_date</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5716:     <span class="ruby-identifier">now_str</span> = <span class="ruby-identifier">now_array</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">now_array</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">now_array</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
5717:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>, <span class="ruby-identifier">now_str</span>, <span class="ruby-ivar">@format_fmt58</span>)
5718:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>, <span class="ruby-identifier">now_str</span>, <span class="ruby-ivar">@format_fmt58</span>)
5719:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>, <span class="ruby-identifier">now_str</span>, <span class="ruby-ivar">@format_fmt58</span>)
5720: 
5721:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt58</span>)
5722:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt58</span>)
5723:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt58</span>)
5724: 
5725:     <span class="ruby-ivar">@new_case</span>=<span class="ruby-keyword kw">true</span>
5726:     <span class="ruby-ivar">@endDate</span>=<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5727:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endDate</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@endDate</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-value str">&quot;2013-03-01&quot;</span>
5728:       <span class="ruby-ivar">@new_case</span>=<span class="ruby-keyword kw">false</span>
5729:     <span class="ruby-keyword kw">end</span>
5730:         
5731:     <span class="ruby-comment cmt">#获取仲裁报酬</span>
5732:     <span class="ruby-identifier">pay_hash</span>= <span class="ruby-identifier">get_pay</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>)
5733:     
5734:     <span class="ruby-comment cmt">### 首席仲裁员</span>
5735:     <span class="ruby-ivar">@case_arb</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find_by_recevice_code_and_arbitmantype_and_used</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>,<span class="ruby-value str">&quot;0002&quot;</span>,<span class="ruby-value str">&quot;Y&quot;</span>)
5736:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case_arb</span>
5737:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;请注意该案件没有首席仲裁员，请检查相关案件信息&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5738:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt58</span>
5739:     <span class="ruby-keyword kw">end</span>
5740:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
5741:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;当事人的选定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5742:     <span class="ruby-keyword kw">else</span>
5743:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;本会主任的指定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5744:     <span class="ruby-keyword kw">end</span>
5745:     <span class="ruby-ivar">@arb</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>)
5746:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arb</span>
5747:                 <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5748:     <span class="ruby-keyword kw">end</span>
5749:     <span class="ruby-comment cmt">#仲裁员姓名</span>
5750:     <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>, <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt58</span>)
5751:         
5752:     <span class="ruby-comment cmt">#立案号</span>
5753:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">area_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001001&quot;</span>
5754:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;500&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5755:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5756:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5757:     <span class="ruby-keyword kw">else</span>
5758:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;800&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5759:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>, <span class="ruby-identifier">aaa</span>, <span class="ruby-ivar">@format_fmt58</span>)
5760:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;开庭、&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5761:     <span class="ruby-keyword kw">end</span>
5762:         
5763:     <span class="ruby-identifier">pay_0002</span> = <span class="ruby-identifier">pay_hash</span>[<span class="ruby-value str">&quot;pay_0002&quot;</span>].<span class="ruby-identifier">to_f</span>
5764:     <span class="ruby-identifier">reward_safe</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_reward_safe</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>).<span class="ruby-identifier">to_f</span>
5765:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@new_case</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pay_0002</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">reward_safe</span>
5766:       <span class="ruby-identifier">pay_0002</span> = <span class="ruby-identifier">reward_safe</span>
5767:     <span class="ruby-keyword kw">end</span>
5768: 
5769:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">pay_0002</span>),<span class="ruby-ivar">@format_fmt58</span>)
5770:         
5771:     <span class="ruby-comment cmt">### 申请人仲裁员</span>
5772:     <span class="ruby-ivar">@case_arb</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find_by_recevice_code_and_arbitmantype_and_used</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>,<span class="ruby-value str">&quot;0003&quot;</span>,<span class="ruby-value str">&quot;Y&quot;</span>)
5773:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case_arb</span>
5774:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;请注意该案件没有申请人仲裁员，请检查相关案件信息&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5775:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt58</span>
5776:     <span class="ruby-keyword kw">end</span>
5777:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
5778:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;当事人的选定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5779:     <span class="ruby-keyword kw">else</span>
5780:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;本会主任的指定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5781:     <span class="ruby-keyword kw">end</span>
5782:     <span class="ruby-ivar">@arb</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>)
5783:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arb</span>
5784:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5785:     <span class="ruby-keyword kw">end</span>
5786:         
5787:     <span class="ruby-comment cmt">#仲裁员姓名</span>
5788:     <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>, <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt58</span>)
5789:     <span class="ruby-comment cmt">#立案号</span>
5790:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">area_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001001&quot;</span>
5791:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;500&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5792:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5793:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5794:     <span class="ruby-keyword kw">else</span>
5795:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;800&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5796:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>, <span class="ruby-identifier">aaa</span>, <span class="ruby-ivar">@format_fmt58</span>)
5797:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;开庭、&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5798:     <span class="ruby-keyword kw">end</span>
5799: 
5800:     <span class="ruby-identifier">pay_0003</span> = <span class="ruby-identifier">pay_hash</span>[<span class="ruby-value str">&quot;pay_0003&quot;</span>].<span class="ruby-identifier">to_f</span>
5801:     <span class="ruby-identifier">reward_safe</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_reward_safe</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>).<span class="ruby-identifier">to_f</span>
5802:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@new_case</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pay_0003</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">reward_safe</span>
5803:       <span class="ruby-identifier">pay_0003</span> = <span class="ruby-identifier">reward_safe</span>
5804:     <span class="ruby-keyword kw">end</span>
5805: 
5806:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">pay_0003</span>),<span class="ruby-ivar">@format_fmt58</span>)
5807: 
5808:     <span class="ruby-comment cmt">### 被申请人仲裁员</span>
5809:     <span class="ruby-ivar">@case_arb</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find_by_recevice_code_and_arbitmantype_and_used</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">recevice_code</span>,<span class="ruby-value str">&quot;0004&quot;</span>,<span class="ruby-value str">&quot;Y&quot;</span>)
5810:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case_arb</span>
5811:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-value str">&quot;请注意该案件没有被申请人仲裁员，请检查相关案件信息&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5812:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt58</span>
5813:     <span class="ruby-keyword kw">end</span>
5814:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
5815:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;当事人的选定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5816:     <span class="ruby-keyword kw">else</span>
5817:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;本会主任的指定&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5818:     <span class="ruby-keyword kw">end</span>
5819:     <span class="ruby-ivar">@arb</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>)
5820:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@arb</span>
5821:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5822:     <span class="ruby-keyword kw">end</span>
5823:     <span class="ruby-comment cmt">#仲裁员姓名</span>
5824:     <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>, <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt58</span>)
5825:     <span class="ruby-comment cmt">#立案号</span>
5826:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arb</span>.<span class="ruby-identifier">area_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001001&quot;</span>
5827:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;500&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5828:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5829:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5830:     <span class="ruby-keyword kw">else</span>
5831:       <span class="ruby-ivar">@format_fmt58</span> =  <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;800&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5832:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>, <span class="ruby-identifier">aaa</span>, <span class="ruby-ivar">@format_fmt58</span>)
5833:       <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>, <span class="ruby-value str">&quot;开庭、&quot;</span>, <span class="ruby-ivar">@format_fmt58</span>)
5834:     <span class="ruby-keyword kw">end</span>
5835: 
5836:     <span class="ruby-identifier">pay_0004</span> = <span class="ruby-identifier">pay_hash</span>[<span class="ruby-value str">&quot;pay_0004&quot;</span>].<span class="ruby-identifier">to_f</span>
5837:     <span class="ruby-identifier">reward_safe</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_reward_safe</span>(<span class="ruby-identifier">code</span>,<span class="ruby-ivar">@case_arb</span>.<span class="ruby-identifier">arbitman</span>).<span class="ruby-identifier">to_f</span>
5838:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@new_case</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pay_0004</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">reward_safe</span>
5839:       <span class="ruby-identifier">pay_0004</span> = <span class="ruby-identifier">reward_safe</span>
5840:     <span class="ruby-keyword kw">end</span>
5841: 
5842:     <span class="ruby-ivar">@format_fmt58</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">pay_0004</span>),<span class="ruby-ivar">@format_fmt58</span>)
5843:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt58</span>
5844:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000325" class="method-detail">
        <a name="M000325"></a>

        <div class="method-heading">
          <a href="#M000325" class="method-signature">
          <span class="method-name">format_letter_fmt59</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
档案袋封面(一人)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000325-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000325-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5847</span>
5847:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt59</span>(<span class="ruby-identifier">code</span>)
5848:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-value str">&quot;&quot;</span>
5849:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5850:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5851:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5852:     <span class="ruby-keyword kw">end</span>
5853: 
5854: <span class="ruby-comment cmt">#    @arb = TbCasearbitman.find(:all,:conditions=&gt; [&quot;recevice_code=? and used='Y'&quot;,code])</span>
5855: <span class="ruby-comment cmt">#    arbit = &quot;&quot;</span>
5856: <span class="ruby-comment cmt">#    @arb.each{|a| arbit = arbit + &quot; &quot; + TbArbitman.find_by_code(a.arbitman).name_idcard}</span>
5857: 
5858:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt59</span>)
5859:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">casereason</span>, <span class="ruby-ivar">@format_fmt59</span>)
5860:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt59</span>)
5861:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt59</span>)
5862:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>), <span class="ruby-ivar">@format_fmt59</span>)
5863:     <span class="ruby-ivar">@caseorg</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5864:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseorg!</span>=<span class="ruby-keyword kw">nil</span>
5865:       <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>),<span class="ruby-ivar">@format_fmt59</span>)
5866:     <span class="ruby-keyword kw">end</span>
5867:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>, <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>), <span class="ruby-ivar">@format_fmt59</span>)
5868:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>
5869:       <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>),<span class="ruby-ivar">@format_fmt59</span>)
5870:     <span class="ruby-keyword kw">end</span>
5871: 
5872:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt59</span>)
5873: 
5874:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt59</span>)
5875:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">telephone</span>, <span class="ruby-ivar">@format_fmt59</span>)
5876:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">email</span>, <span class="ruby-ivar">@format_fmt59</span>)
5877:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt59</span>)
5878:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt59</span>)
5879:     <span class="ruby-comment cmt">#spend = TbArbitcourtSpend.sum(:rmb_money, :conditions =&gt; [&quot;recevice_code=? and used='Y'&quot;, code])</span>
5880:     <span class="ruby-comment cmt">#spend=0 unless spend</span>
5881:     <span class="ruby-comment cmt">#@format_fmt59 = add_record(&quot;&lt;15$$$&gt;&quot;, spend, @format_fmt59)</span>
5882:     <span class="ruby-ivar">@format_fmt59</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;00$$$&gt;&quot;</span>,<span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt59</span>)
5883:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt59</span>
5884:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000326" class="method-detail">
        <a name="M000326"></a>

        <div class="method-heading">
          <a href="#M000326" class="method-signature">
          <span class="method-name">format_letter_fmt60</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
档案袋封面(三人)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000326-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000326-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5887</span>
5887:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt60</span>(<span class="ruby-identifier">code</span>)
5888:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-value str">&quot;&quot;</span>
5889:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
5890:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@case</span>
5891:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
5892:     <span class="ruby-keyword kw">end</span>
5893: 
5894:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt60</span>)
5895:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;201$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt60</span>)
5896:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;301$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">case_code</span>, <span class="ruby-ivar">@format_fmt60</span>)
5897: 
5898:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">casereason</span>, <span class="ruby-ivar">@format_fmt60</span>)
5899:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;202$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">casereason</span>, <span class="ruby-ivar">@format_fmt60</span>)
5900:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;302$$$&gt;&quot;</span>, <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">casereason</span>, <span class="ruby-ivar">@format_fmt60</span>)
5901: 
5902:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>, <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5903:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;203$$$&gt;&quot;</span>, <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5904:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;303$$$&gt;&quot;</span>, <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value">1</span>, <span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5905: 
5906:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>, <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5907:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;204$$$&gt;&quot;</span>, <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5908:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;304$$$&gt;&quot;</span>, <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>), <span class="ruby-ivar">@format_fmt60</span>)
5909: 
5910:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>), <span class="ruby-ivar">@format_fmt60</span>)
5911:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;205$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>), <span class="ruby-ivar">@format_fmt60</span>)
5912:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;305$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>), <span class="ruby-ivar">@format_fmt60</span>)
5913: 
5914:     <span class="ruby-ivar">@caseorg</span> = <span class="ruby-constant">TbCaseorg</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
5915:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@caseorg!</span>=<span class="ruby-keyword kw">nil</span>
5916:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>),<span class="ruby-ivar">@format_fmt60</span>)
5917:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;206$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>),<span class="ruby-ivar">@format_fmt60</span>)
5918:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;306$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@caseorg</span>.<span class="ruby-identifier">orgdate</span>),<span class="ruby-ivar">@format_fmt60</span>)
5919: 
5920:     <span class="ruby-keyword kw">end</span>
5921: 
5922:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>, <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>), <span class="ruby-ivar">@format_fmt60</span>)
5923:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;207$$$&gt;&quot;</span>, <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>), <span class="ruby-ivar">@format_fmt60</span>)
5924:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;307$$$&gt;&quot;</span>, <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>), <span class="ruby-ivar">@format_fmt60</span>)
5925: 
5926:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>
5927:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>),<span class="ruby-ivar">@format_fmt60</span>)
5928:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;208$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>),<span class="ruby-ivar">@format_fmt60</span>)
5929:       <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;308$$$&gt;&quot;</span>,<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">finally_limit_dat</span>),<span class="ruby-ivar">@format_fmt60</span>)
5930: 
5931:     <span class="ruby-keyword kw">end</span>
5932:     
5933:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-node">&quot;首:#{chief_arbitrator(code)} 仲:#{applicant_arbitrator(code)} #{respondent_arbitrator(code)}&quot;</span>,<span class="ruby-ivar">@format_fmt60</span>)
5934:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;209$$$&gt;&quot;</span>,<span class="ruby-node">&quot;首:#{chief_arbitrator(code)} 仲:#{applicant_arbitrator(code)} #{respondent_arbitrator(code)}&quot;</span>,<span class="ruby-ivar">@format_fmt60</span>)
5935:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;309$$$&gt;&quot;</span>,<span class="ruby-node">&quot;首:#{chief_arbitrator(code)} 仲:#{applicant_arbitrator(code)} #{respondent_arbitrator(code)}&quot;</span>,<span class="ruby-ivar">@format_fmt60</span>)
5936:     
5937:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt60</span>)
5938:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;210$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt60</span>)
5939:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;310$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">name</span>, <span class="ruby-ivar">@format_fmt60</span>)
5940: 
5941:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">telephone</span>, <span class="ruby-ivar">@format_fmt60</span>)
5942:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;211$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">telephone</span>, <span class="ruby-ivar">@format_fmt60</span>)
5943:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;311$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">telephone</span>, <span class="ruby-ivar">@format_fmt60</span>)
5944: 
5945:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">email</span>, <span class="ruby-ivar">@format_fmt60</span>)
5946:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;212$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">email</span>, <span class="ruby-ivar">@format_fmt60</span>)
5947:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;312$$$&gt;&quot;</span>, <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>).<span class="ruby-identifier">email</span>, <span class="ruby-ivar">@format_fmt60</span>)
5948: 
5949:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5950:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;213$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5951:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;313$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0001&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5952: 
5953:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5954:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;214$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5955:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;314$$$&gt;&quot;</span>, <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">&quot;0002&quot;</span>).<span class="ruby-identifier">round</span>), <span class="ruby-ivar">@format_fmt60</span>)
5956:     <span class="ruby-comment cmt">#spend = TbArbitcourtSpend.sum(:rmb_money, :conditions =&gt; [&quot;recevice_code=? and used='Y'&quot;, code])</span>
5957:     <span class="ruby-comment cmt">#spend=0 unless spend</span>
5958:     <span class="ruby-comment cmt">#@format_fmt60 = add_record(&quot;&lt;15$$$&gt;&quot;, spend, @format_fmt60)</span>
5959:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;00$$$&gt;&quot;</span>,<span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt60</span>)
5960:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;200$$$&gt;&quot;</span>,<span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt60</span>)
5961:     <span class="ruby-ivar">@format_fmt60</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;300$$$&gt;&quot;</span>,<span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>),<span class="ruby-ivar">@format_fmt60</span>)
5962:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@format_fmt60</span>
5963:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000331" class="method-detail">
        <a name="M000331"></a>

        <div class="method-heading">
          <a href="#M000331" class="method-signature">
          <span class="method-name">format_letter_fmt70</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000331-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000331-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6108</span>
6108:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fmt70</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
6109:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
6110:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-value str">&quot;&quot;</span>
6111:     <span class="ruby-comment cmt">#函号</span>
6112:     <span class="ruby-comment cmt">#@file_code = get_code1(doc_id)</span>
6113:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;01$$$&gt;&quot;,@file_code,@format_fmt70)</span>
6114:     <span class="ruby-comment cmt">#立案号</span>
6115:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
6116:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt70</span>)
6117:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_fmt70</span>)
6118:     <span class="ruby-comment cmt">#申请人</span>
6119:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
6120:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fmt70</span>)
6121:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
6122:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_fmt70</span>)
6123:     <span class="ruby-comment cmt">#被申请人</span>
6124:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
6125:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fmt70</span>)
6126:     <span class="ruby-comment cmt">#文件份数</span>
6127:     <span class="ruby-comment cmt">#@copies =  get_number1(code,'0001')</span>
6128:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;05$$$&gt;&quot;,@copies,@format_fmt70)</span>
6129:     <span class="ruby-comment cmt">#仲裁费</span>
6130:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
6131:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
6132:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_fmt70</span>)
6133:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
6134:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
6135:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fmt70</span>)
6136:     <span class="ruby-comment cmt">#助理</span>
6137:     <span class="ruby-comment cmt">#@zl_alerk = get_name(code)+get_zlsex(code)</span>
6138:     <span class="ruby-comment cmt">#@telephone = get_tel(code,1)</span>
6139:     <span class="ruby-comment cmt">#@fax = get_fax(code,1)</span>
6140:     <span class="ruby-comment cmt">#@email = get_email(code)</span>
6141:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;09$$$&gt;&quot;,@zl_alerk,@format_fmt70)</span>
6142:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;10$$$&gt;&quot;,@telephone,@format_fmt70)</span>
6143:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;11$$$&gt;&quot;,@fax,@format_fmt70)</span>
6144:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;12$$$&gt;&quot;,@email,@format_fmt70)</span>
6145:     <span class="ruby-comment cmt">#日期</span>
6146:     <span class="ruby-comment cmt">#@y2 = get_con_year2(doc_id)</span>
6147:     <span class="ruby-comment cmt">#@m2 = get_con_month2(doc_id)</span>
6148:     <span class="ruby-comment cmt">#@d2 = get_con_day2(doc_id)</span>
6149:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;13$$$&gt;&quot;,@y2,@format_fmt70)</span>
6150:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;14$$$&gt;&quot;,@m2,@format_fmt70)</span>
6151:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;15$$$&gt;&quot;,@d2,@format_fmt70)</span>
6152:     <span class="ruby-comment cmt">#t_code=get_cn_code(code)</span>
6153:  
6154:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;20$$$&gt;&quot;,@replace20,@format_fmt70)</span>
6155:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;21$$$&gt;&quot;,@replace21,@format_fmt70)</span>
6156:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;22$$$&gt;&quot;,@replace22,@format_fmt70)</span>
6157:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;23$$$&gt;&quot;,@replace23,@format_fmt70)</span>
6158:     <span class="ruby-comment cmt">#@format_fmt70 = add_record(&quot;&lt;24$$$&gt;&quot;,@replace24,@format_fmt70)</span>
6159:     <span class="ruby-identifier">s25</span> = <span class="ruby-identifier">arbitac</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
6160:     <span class="ruby-ivar">@format_fmt70</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-identifier">s25</span>,<span class="ruby-ivar">@format_fmt70</span>)
6161:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000312" class="method-detail">
        <a name="M000312"></a>

        <div class="method-heading">
          <a href="#M000312" class="method-signature">
          <span class="method-name">format_letter_for03</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
需预缴的费用 空缺 &#8212; 在案件费用的界面里面，对应
“无明确争议金额收费”
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000312-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000312-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5090</span>
5090:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_for03</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
5091:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
5092:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5093:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
5094:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5095:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
5096:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5097:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
5098:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5099:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
5100:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-value str">&quot;&quot;</span>
5101:     <span class="ruby-comment cmt">#申请人</span>
5102:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5103:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_for03</span>)
5104:     <span class="ruby-comment cmt">#被申请人</span>
5105:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5106:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_for03</span>)
5107:     <span class="ruby-comment cmt">#案由及类别</span>
5108:     <span class="ruby-ivar">@casetype</span> = <span class="ruby-identifier">get_casetype_num</span>(<span class="ruby-identifier">code</span>)
5109:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype</span>,<span class="ruby-ivar">@format_for03</span>)
5110:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
5111:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
5112:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_for03</span>)
5113:     <span class="ruby-comment cmt">#明确争议金额（人民币）；不明确争议金额</span>
5114:     <span class="ruby-ivar">@sum_1</span>=<span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
5115:     <span class="ruby-ivar">@sum_2</span>=<span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
5116:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_1</span>,<span class="ruby-ivar">@format_for03</span>)
5117:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_2</span>,<span class="ruby-ivar">@format_for03</span>)
5118:     <span class="ruby-comment cmt">#同期港币汇率</span>
5119:     <span class="ruby-ivar">@hk_rate</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and currency='0003' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
5120:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@hk_rate</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
5121:       <span class="ruby-ivar">@hk_rate</span> = <span class="ruby-ivar">@hk_rate</span>.<span class="ruby-identifier">rate</span>
5122:       <span class="ruby-ivar">@hk_rate1</span>=<span class="ruby-ivar">@hk_rate</span><span class="ruby-operator">*</span><span class="ruby-value">100</span>
5123:     <span class="ruby-keyword kw">else</span>
5124:       <span class="ruby-ivar">@hk_rate1</span>=<span class="ruby-value str">&quot; &quot;</span>
5125:     <span class="ruby-keyword kw">end</span>
5126:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@hk_rate1</span>,<span class="ruby-ivar">@format_for03</span>)
5127:     <span class="ruby-comment cmt">#同期美元汇率</span>
5128:     <span class="ruby-ivar">@dollar_rate</span> =<span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and currency='0002' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
5129:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@dollar_rate</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
5130:       <span class="ruby-ivar">@dollar_rate</span> = <span class="ruby-ivar">@dollar_rate</span>.<span class="ruby-identifier">rate</span>
5131:       <span class="ruby-ivar">@dollar_rate1</span>=<span class="ruby-ivar">@dollar_rate</span><span class="ruby-operator">*</span><span class="ruby-value">100</span>
5132:     <span class="ruby-keyword kw">else</span>
5133:       <span class="ruby-ivar">@dollar_rate1</span>=<span class="ruby-value str">&quot; &quot;</span>
5134:     <span class="ruby-keyword kw">end</span>
5135:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@dollar_rate1</span>,<span class="ruby-ivar">@format_for03</span>)
5136:     <span class="ruby-comment cmt">#立案费:</span>
5137:     <span class="ruby-comment cmt">#申请人立案费</span>
5138:     <span class="ruby-ivar">@party1</span>=<span class="ruby-identifier">applicant_litigation_fee</span>(<span class="ruby-identifier">code</span>)
5139:     <span class="ruby-comment cmt">#被申请人立案费</span>
5140:     <span class="ruby-ivar">@party2</span>=<span class="ruby-identifier">respondent_litigation_fee</span>(<span class="ruby-identifier">code</span>)
5141:     <span class="ruby-ivar">@amount</span>=<span class="ruby-value">0</span>
5142:     <span class="ruby-ivar">@amount</span>=<span class="ruby-ivar">@party1</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@party2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0002</span>
5143:     <span class="ruby-comment cmt">#明确的或不明确但可以确定的争议金额的请求事项需预缴的费用</span>
5144:     <span class="ruby-ivar">@amount1</span>=<span class="ruby-identifier">get_processing_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-comment cmt">#明确、不明确金额的  仲裁费</span>
5145:     <span class="ruby-ivar">@amount11</span>=<span class="ruby-identifier">get_processing_fee2</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span> <span class="ruby-comment cmt">#无明确的仲裁费</span>
5146:     <span class="ruby-comment cmt">#合计--人民币形式</span>
5147:     <span class="ruby-ivar">@tota</span> = <span class="ruby-ivar">@amount1</span><span class="ruby-operator">+</span><span class="ruby-ivar">@amount</span><span class="ruby-operator">+</span><span class="ruby-ivar">@amount11</span>
5148:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tota</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
5149:       <span class="ruby-ivar">@total</span>=<span class="ruby-value str">&quot;&quot;</span>
5150:     <span class="ruby-keyword kw">else</span>
5151:       <span class="ruby-ivar">@total</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@tota</span>)
5152:     <span class="ruby-keyword kw">end</span>
5153:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@total</span>,<span class="ruby-ivar">@format_for03</span>)
5154:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amount1</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
5155:       <span class="ruby-ivar">@amount10</span>=<span class="ruby-value str">&quot;&quot;</span>
5156:     <span class="ruby-keyword kw">else</span>
5157:       <span class="ruby-ivar">@amount10</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@amount1</span>)
5158:     <span class="ruby-keyword kw">end</span>
5159:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@amount10</span>,<span class="ruby-ivar">@format_for03</span>)
5160:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amount</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
5161:       <span class="ruby-ivar">@amount2</span>=<span class="ruby-value str">&quot;&quot;</span>
5162:     <span class="ruby-keyword kw">else</span>
5163:       <span class="ruby-ivar">@amount2</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@amount</span>)
5164:     <span class="ruby-keyword kw">end</span>
5165:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@amount2</span>,<span class="ruby-ivar">@format_for03</span>)
5166:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amount11</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
5167:       <span class="ruby-ivar">@amount11</span>=<span class="ruby-value str">&quot;&quot;</span>
5168:     <span class="ruby-keyword kw">else</span>
5169:       <span class="ruby-ivar">@amount11</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@amount11</span>)
5170:     <span class="ruby-keyword kw">end</span>
5171:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@amount11</span>,<span class="ruby-ivar">@format_for03</span>)
5172:     <span class="ruby-ivar">@num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
5173:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
5174:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;普通程序&quot;</span>
5175:     <span class="ruby-keyword kw">else</span>
5176:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;简易程序&quot;</span>
5177:     <span class="ruby-keyword kw">end</span>
5178:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@num1</span>,<span class="ruby-ivar">@format_for03</span>)
5179:     <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">get_contract_date</span>(<span class="ruby-identifier">code</span>)
5180:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_for03</span>)
5181:     <span class="ruby-ivar">@casetype2</span> = <span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
5182:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype2</span>,<span class="ruby-ivar">@format_for03</span>)
5183:     <span class="ruby-comment cmt">#收文时间</span>
5184:     <span class="ruby-ivar">@year3</span>=<span class="ruby-identifier">get_con_year3</span>(<span class="ruby-identifier">doc_id</span>)
5185:     <span class="ruby-ivar">@month3</span>=<span class="ruby-identifier">get_con_month3</span>(<span class="ruby-identifier">doc_id</span>)
5186:     <span class="ruby-ivar">@day3</span>=<span class="ruby-identifier">get_con_day3</span>(<span class="ruby-identifier">doc_id</span>)
5187:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@year3</span>,<span class="ruby-ivar">@format_for03</span>)
5188:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@month3</span>,<span class="ruby-ivar">@format_for03</span>)
5189:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@day3</span>,<span class="ruby-ivar">@format_for03</span>)
5190:     <span class="ruby-comment cmt">#是否和解特别程序</span>
5191:     <span class="ruby-ivar">@compromise</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>).<span class="ruby-identifier">compromise</span>
5192:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@compromise</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;是&quot;</span>
5193:       <span class="ruby-ivar">@comn</span> = <span class="ruby-value str">&quot;和解特别程序&quot;</span>
5194:     <span class="ruby-keyword kw">else</span>
5195:       <span class="ruby-ivar">@comn</span> = <span class="ruby-value str">&quot;&quot;</span>
5196:     <span class="ruby-keyword kw">end</span>
5197:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@comn</span>,<span class="ruby-ivar">@format_for03</span>)
5198:     <span class="ruby-ivar">@sty1</span> = <span class="ruby-identifier">get_orgstyle</span>(<span class="ruby-identifier">code</span>)
5199:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@sty1</span>,<span class="ruby-ivar">@format_for03</span>)
5200:     <span class="ruby-ivar">@nu1</span> = <span class="ruby-identifier">get_number11</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
5201:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_for03</span>)
5202:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_for03</span>)
5203:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_for03</span>)
5204:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_for03</span>)
5205:     <span class="ruby-ivar">@re</span> = <span class="ruby-identifier">get_remark</span>(<span class="ruby-identifier">code</span>)
5206:     <span class="ruby-ivar">@format_for03</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@re</span>,<span class="ruby-ivar">@format_for03</span>)
5207:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000313" class="method-detail">
        <a name="M000313"></a>

        <div class="method-heading">
          <a href="#M000313" class="method-signature">
          <span class="method-name">format_letter_fr03</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
审批格式函————金融规则案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000313-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000313-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5209</span>
5209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_fr03</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
5210:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
5211:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5212:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
5213:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5214:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
5215:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5216:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
5217:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;&quot;</span>)
5218:     
5219:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
5220:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-value str">&quot;&quot;</span>
5221:     <span class="ruby-comment cmt">#申请人</span>
5222:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5223:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_fr03</span>)
5224:     <span class="ruby-comment cmt">#被申请人</span>
5225:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
5226:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_fr03</span>)
5227:     <span class="ruby-comment cmt">#案由及类别</span>
5228:     <span class="ruby-ivar">@casetype</span> = <span class="ruby-identifier">get_casetype_num</span>(<span class="ruby-identifier">code</span>)
5229:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype</span>,<span class="ruby-ivar">@format_fr03</span>)
5230:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
5231:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
5232:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_fr03</span>)
5233:     <span class="ruby-comment cmt">#明确争议金额（人民币）；不明确争议金额</span>
5234:     <span class="ruby-ivar">@sum_1</span>=<span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
5235:     <span class="ruby-ivar">@sum_2</span>=<span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
5236:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_1</span>,<span class="ruby-ivar">@format_fr03</span>)
5237:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@sum_2</span>,<span class="ruby-ivar">@format_fr03</span>)
5238:     <span class="ruby-comment cmt">#立案费：&lt;06$$$&gt; 仲裁费：&lt;07$$$&gt;</span>
5239:     <span class="ruby-ivar">@amount</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(s.rmb_money) as aa&quot;</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;s.used='Y' and s.recevice_code=? and s.typ='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:joins=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;as s inner join tb_case_amounts as a on a.used='Y' and s.recevice_code=a.recevice_code and s.case_amount_id=a.id and a.typ='0001'&quot;</span>)
5240:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amount!</span>=<span class="ruby-keyword kw">nil</span>
5241:       <span class="ruby-identifier">f1</span> = <span class="ruby-ivar">@amount</span>.<span class="ruby-identifier">aa</span>.<span class="ruby-identifier">to_f</span>  <span class="ruby-comment cmt">#立案费</span>
5242:     <span class="ruby-keyword kw">else</span>
5243:       <span class="ruby-identifier">f1</span> = <span class="ruby-value">0</span>
5244:     <span class="ruby-keyword kw">end</span>
5245:     <span class="ruby-ivar">@amount_2</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(s.rmb_money) as aa&quot;</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;s.used='Y' and s.recevice_code=? and s.typ='0003'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:joins=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;as s inner join tb_case_amounts as a on a.used='Y' and s.recevice_code=a.recevice_code and s.case_amount_id=a.id and a.typ='0001'&quot;</span>)
5246:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amount_2!</span>=<span class="ruby-keyword kw">nil</span>
5247:       <span class="ruby-identifier">f2</span> = <span class="ruby-ivar">@amount_2</span>.<span class="ruby-identifier">aa</span>.<span class="ruby-identifier">to_f</span>  <span class="ruby-comment cmt">#仲裁费</span>
5248:     <span class="ruby-keyword kw">else</span>
5249:       <span class="ruby-identifier">f2</span> = <span class="ruby-value">0</span>
5250:     <span class="ruby-keyword kw">end</span>
5251:     <span class="ruby-comment cmt">#无明确金金额预交的仲裁费用 &lt;09$$$&gt;</span>
5252:     <span class="ruby-identifier">f3</span> =<span class="ruby-identifier">get_processing_fee2</span>(<span class="ruby-identifier">code</span>)
5253:     <span class="ruby-identifier">str6</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f1</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span>)
5254:     <span class="ruby-identifier">str7</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span>)
5255:     <span class="ruby-identifier">str8</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">f2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span>)
5256:     <span class="ruby-identifier">str9</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f3</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span> )
5257:     <span class="ruby-identifier">str12</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">f3</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span>)
5258:     <span class="ruby-identifier">str13</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">f2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">f3</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span>)
5259:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_fr03</span>)
5260:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-identifier">str7</span>,<span class="ruby-ivar">@format_fr03</span>)
5261:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-identifier">str8</span>,<span class="ruby-ivar">@format_fr03</span>)
5262:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-identifier">str6</span>,<span class="ruby-ivar">@format_fr03</span>)
5263:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_fr03</span>)
5264:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_fr03</span>)
5265:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-identifier">str12</span>,<span class="ruby-ivar">@format_fr03</span>)
5266:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-identifier">str13</span>,<span class="ruby-ivar">@format_fr03</span>)
5267: 
5268:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@amount11</span>,<span class="ruby-ivar">@format_fr03</span>)
5269:     <span class="ruby-ivar">@num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
5270:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-ivar">@num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
5271:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;金融规则3人&quot;</span>
5272:     <span class="ruby-keyword kw">else</span>
5273:       <span class="ruby-ivar">@num1</span>=<span class="ruby-value str">&quot;金融规则1人&quot;</span>
5274:     <span class="ruby-keyword kw">end</span>
5275:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@num1</span>,<span class="ruby-ivar">@format_fr03</span>)
5276:     <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">get_contract_date</span>(<span class="ruby-identifier">code</span>)
5277:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@sdate</span>,<span class="ruby-ivar">@format_fr03</span>)
5278:     <span class="ruby-ivar">@casetype2</span> = <span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
5279:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@casetype2</span>,<span class="ruby-ivar">@format_fr03</span>)
5280:     <span class="ruby-comment cmt">#收文时间</span>
5281:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
5282:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
5283:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
5284:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
5285:     <span class="ruby-keyword kw">else</span>
5286:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-value str">&quot;_____年___月___日&quot;</span>
5287:     <span class="ruby-keyword kw">end</span>
5288:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@con_y</span>,<span class="ruby-ivar">@format_fr03</span>)
5289:     <span class="ruby-ivar">@sty1</span> = <span class="ruby-identifier">get_orgstyle</span>(<span class="ruby-identifier">code</span>)
5290:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@sty1</span>,<span class="ruby-ivar">@format_fr03</span>)
5291:     <span class="ruby-ivar">@nu1</span> = <span class="ruby-identifier">get_number11</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
5292:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_fr03</span>)
5293:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_fr03</span>)
5294:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_fr03</span>)
5295:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@nu1</span>,<span class="ruby-ivar">@format_fr03</span>)
5296:     <span class="ruby-comment cmt">#是否和解特别程序</span>
5297:     <span class="ruby-ivar">@compromise</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}'&quot;</span>).<span class="ruby-identifier">compromise</span>
5298:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@compromise</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;是&quot;</span>
5299:       <span class="ruby-ivar">@comn</span> = <span class="ruby-value str">&quot;和解特别程序&quot;</span>
5300:     <span class="ruby-keyword kw">else</span>
5301:       <span class="ruby-ivar">@comn</span> = <span class="ruby-value str">&quot;&quot;</span>
5302:     <span class="ruby-keyword kw">end</span>
5303:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@comn</span>,<span class="ruby-ivar">@format_fr03</span>)
5304:     <span class="ruby-ivar">@re</span> = <span class="ruby-identifier">get_remark</span>(<span class="ruby-identifier">code</span>)
5305:     <span class="ruby-ivar">@format_fr03</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@re</span>,<span class="ruby-ivar">@format_fr03</span>)
5306:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000269" class="method-detail">
        <a name="M000269"></a>

        <div class="method-heading">
          <a href="#M000269" class="method-signature">
          <span class="method-name">format_letter_ft04</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁申请受理通知书——金融案件
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000269-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 1926</span>
1926:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_ft04</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
1927:     <span class="ruby-comment cmt">#明确或不明确争议金额的立案费,受理费减免</span>
1928:     <span class="ruby-identifier">rmb_money_0001_0002</span> = <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1929:     <span class="ruby-comment cmt">#明确或不明确争议金额的仲裁费,处理费减免</span>
1930:     <span class="ruby-identifier">rmb_money_0001_0003</span> = <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1931:     <span class="ruby-comment cmt">#无明确争议金额的立案费,受理费减免</span>
1932:     <span class="ruby-identifier">rmb_money_0004_0002</span> = <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1933:     <span class="ruby-comment cmt">#无明确争议金额的仲裁费,处理费减免</span>
1934:     <span class="ruby-identifier">rmb_money_0004_0003</span> = <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">code</span>, <span class="ruby-value str">&quot;0001&quot;</span>)
1935:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
1936:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-value str">&quot;&quot;</span>
1937:     <span class="ruby-comment cmt">#函号</span>
1938:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
1939:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_ft04</span>)
1940:     <span class="ruby-comment cmt">#申请人</span>
1941:     <span class="ruby-ivar">@applicant2</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
1942:     <span class="ruby-ivar">@applicant3</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1943:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant3</span>,<span class="ruby-ivar">@format_ft04</span>)
1944:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicant2</span>,<span class="ruby-ivar">@format_ft04</span>)
1945:     <span class="ruby-comment cmt">#受理日期</span>
1946:     <span class="ruby-ivar">@date_receive</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">receivedate</span>
1947:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
1948:       <span class="ruby-ivar">@date_receive</span> = <span class="ruby-value str">&quot;_____&quot;</span>
1949:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_ft04</span>)
1950:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_ft04</span>)
1951:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@date_receive</span>,<span class="ruby-ivar">@format_ft04</span>)
1952:     <span class="ruby-keyword kw">else</span>
1953:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_receive</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
1954:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1955:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1956:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>],<span class="ruby-ivar">@format_ft04</span>)
1957:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>],<span class="ruby-ivar">@format_ft04</span>)
1958:       <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>],<span class="ruby-ivar">@format_ft04</span>)
1959:     <span class="ruby-keyword kw">end</span>
1960: 
1961:     <span class="ruby-comment cmt">#被申请人</span>
1962:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
1963:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_ft04</span>)
1964:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
1965:     <span class="ruby-ivar">@cont_name</span> =  <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
1966:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@cont_name</span>,<span class="ruby-ivar">@format_ft04</span>)
1967:     <span class="ruby-comment cmt">#仲裁费</span>
1968:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0003</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0003</span>
1969:     <span class="ruby-comment cmt">#立案费</span>
1970:     <span class="ruby-ivar">@litigation_fee</span> = <span class="ruby-identifier">applicant_litigation_fee</span>(<span class="ruby-identifier">code</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0001_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">rmb_money_0004_0002</span>
1971:     <span class="ruby-comment cmt">#合计</span>
1972:     <span class="ruby-ivar">@total_fee</span> = <span class="ruby-ivar">@litigation_fee</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@arbit_fee</span>
1973:     <span class="ruby-ivar">@arbit_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
1974:     <span class="ruby-ivar">@litigation_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@litigation_fee</span>)
1975:     <span class="ruby-ivar">@total_fee</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@total_fee</span>)
1976:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_ft04</span>)
1977:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@litigation_fee</span>,<span class="ruby-ivar">@format_ft04</span>)
1978:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@total_fee</span>,<span class="ruby-ivar">@format_ft04</span>)
1979:     <span class="ruby-comment cmt">#助理</span>
1980:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>)
1981:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex2</span>(<span class="ruby-identifier">code</span>)
1982:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1983:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1984:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email2</span>(<span class="ruby-identifier">code</span>)
1985:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_ft04</span>)
1986:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_ft04</span>)
1987:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_ft04</span>)
1988:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_ft04</span>)
1989:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_ft04</span>)
1990:     <span class="ruby-comment cmt">#日期</span>
1991:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>).<span class="ruby-identifier">ss_t</span> <span class="ruby-comment cmt"># Time.now.to_s(:db)</span>
1992:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
1993:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
1994:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
1995:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_ft04</span>)
1996:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_ft04</span>)
1997:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_ft04</span>)
1998:     <span class="ruby-ivar">@fax2</span>=<span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
1999:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax2</span>,<span class="ruby-ivar">@format_ft04</span>)
2000:     <span class="ruby-ivar">@accommodate_remarks</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2001:     <span class="ruby-ivar">@accommodate_remarks2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2002:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks</span>,<span class="ruby-ivar">@format_ft04</span>)
2003:     <span class="ruby-ivar">@format_ft04</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@accommodate_remarks2</span>,<span class="ruby-ivar">@format_ft04</span>)
2004:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000271" class="method-detail">
        <a name="M000271"></a>

        <div class="method-heading">
          <a href="#M000271" class="method-signature">
          <span class="method-name">format_letter_ft05</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知（被申请人） 金融规则案件3人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000271-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000271-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2084</span>
2084:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_ft05</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
2085:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2086:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-value str">&quot;&quot;</span>
2087:     <span class="ruby-comment cmt">#函号</span>
2088:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2089:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_ft05</span>)
2090:     <span class="ruby-comment cmt">#立案号</span>
2091:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2092:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_ft05</span>)
2093:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_ft05</span>)
2094:     <span class="ruby-comment cmt">#被申请人</span>
2095:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2096:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_ft05</span>)
2097:     <span class="ruby-comment cmt">#申请人</span>
2098:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2099:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_ft05</span>)
2100:     <span class="ruby-comment cmt">#签订的$$$所引起的争议（合同名称）</span>
2101:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2102:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_ft05</span>)
2103:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;42$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_ft05</span>)
2104:     <span class="ruby-comment cmt">#文件份数</span>
2105:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number1(code,'0001')</span>
2106:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_ft05</span>)
2107:     <span class="ruby-ivar">@copies2</span> = <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)<span class="ruby-comment cmt">#get_number2(code,'0001')</span>
2108:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies2</span>,<span class="ruby-ivar">@format_ft05</span>)
2109:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_ft05</span>)
2110:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_ft05</span>)
2111:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_ft05</span>)
2112:     <span class="ruby-comment cmt">#助理</span>
2113:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2114:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2115:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2116:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2117:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2118:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_ft05</span>)
2119:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_ft05</span>)
2120:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_ft05</span>)
2121:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_ft05</span>)
2122:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_ft05</span>)
2123:     <span class="ruby-comment cmt">#日期</span>
2124:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2125:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2126:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2127:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_ft05</span>)
2128:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;15$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_ft05</span>)
2129:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;16$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_ft05</span>)
2130:     <span class="ruby-ivar">@s1</span>=<span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2131:     <span class="ruby-ivar">@s2</span>=<span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2132:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@s1</span>,<span class="ruby-ivar">@format_ft05</span>)
2133:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@s2</span>,<span class="ruby-ivar">@format_ft05</span>)
2134:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2135:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_ft05</span>)
2136:     <span class="ruby-ivar">@party2</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2&quot;</span>,<span class="ruby-identifier">code</span>])
2137:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party2</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
2138:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
2139:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;共同选定或共同委托&quot;</span>
2140:     <span class="ruby-keyword kw">else</span>
2141:       <span class="ruby-ivar">@rep26</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
2142:       <span class="ruby-ivar">@rep27</span> = <span class="ruby-value str">&quot;选定或委托&quot;</span>
2143:     <span class="ruby-keyword kw">end</span>
2144:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@rep26</span>,<span class="ruby-ivar">@format_ft05</span>)
2145:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>)
2146:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2147:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2148:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2149:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2150:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2151:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2152:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;37$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2153:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;39$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2154:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;40$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2155:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;41$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft05</span>)
2156:     <span class="ruby-comment cmt">#一名/三名； 独任/首席； 替换</span>
2157:     <span class="ruby-comment cmt">#    @an=TbCase.find_by_recevice_code(code).aribitprog_num</span>
2158:     <span class="ruby-comment cmt">#    if @an=='0006' or @an=='0008'</span>
2159:     <span class="ruby-comment cmt">#      str43 = &quot;一名&quot;</span>
2160:     <span class="ruby-comment cmt">#      str45 = &quot;独任&quot;</span>
2161:     <span class="ruby-comment cmt">#    else</span>
2162:     <span class="ruby-identifier">str43</span> = <span class="ruby-value str">&quot;三名&quot;</span>
2163:     <span class="ruby-identifier">str45</span> = <span class="ruby-value str">&quot;首席&quot;</span>
2164:     <span class="ruby-comment cmt">#    end</span>
2165:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;43$$$&gt;&quot;</span>,<span class="ruby-identifier">str43</span>,<span class="ruby-ivar">@format_ft05</span>)
2166:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;44$$$&gt;&quot;</span>,<span class="ruby-identifier">str45</span>,<span class="ruby-ivar">@format_ft05</span>)
2167:     <span class="ruby-ivar">@format_ft05</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-identifier">str45</span>,<span class="ruby-ivar">@format_ft05</span>)
2168:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000274" class="method-detail">
        <a name="M000274"></a>

        <div class="method-heading">
          <a href="#M000274" class="method-signature">
          <span class="method-name">format_letter_ft06</span><span class="method-args">(code,p_v,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知——申请人 金融3人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000274-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000274-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 2324</span>
2324:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_ft06</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">doc_id</span>)
2325:     <span class="ruby-comment cmt">#拼接字串，初始化</span>
2326:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-value str">&quot;&quot;</span>
2327:     <span class="ruby-comment cmt">#函号</span>
2328:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
2329:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;01$$$&gt;&quot;</span>,<span class="ruby-ivar">@file_code</span>,<span class="ruby-ivar">@format_ft06</span>)
2330:     <span class="ruby-comment cmt">#立案号</span>
2331:     <span class="ruby-ivar">@case_code</span> = <span class="ruby-identifier">casecode</span>(<span class="ruby-identifier">code</span>)
2332:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;02$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_ft06</span>)
2333:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;08$$$&gt;&quot;</span>,<span class="ruby-ivar">@case_code</span>,<span class="ruby-ivar">@format_ft06</span>)
2334:     <span class="ruby-comment cmt">#申请人</span>
2335:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>)
2336:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;03$$$&gt;&quot;</span>,<span class="ruby-ivar">@applicants</span>,<span class="ruby-ivar">@format_ft06</span>)
2337:     <span class="ruby-comment cmt">#申请人交材料的日期</span>
2338:     <span class="ruby-ivar">@recevicedate2</span>=<span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>  <span class="ruby-comment cmt">#get_recevicedate2(code)</span>
2339:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;31$$$&gt;&quot;</span>,<span class="ruby-ivar">@recevicedate2</span>,<span class="ruby-ivar">@format_ft06</span>)
2340:     <span class="ruby-comment cmt">#被申请人</span>
2341:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>,<span class="ruby-value">4</span>)
2342:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;04$$$&gt;&quot;</span>,<span class="ruby-ivar">@respondents</span>,<span class="ruby-ivar">@format_ft06</span>)
2343:     <span class="ruby-comment cmt">#文件份数</span>
2344:     <span class="ruby-ivar">@copies</span> = <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2345:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;05$$$&gt;&quot;</span>,<span class="ruby-ivar">@copies</span>,<span class="ruby-ivar">@format_ft06</span>)
2346:     <span class="ruby-comment cmt">#仲裁费</span>
2347:     <span class="ruby-ivar">@arbit_fee</span> = <span class="ruby-identifier">applicant_arbit_fee22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value str">'0001'</span>)
2348:     <span class="ruby-ivar">@arbit_fee</span> =<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@arbit_fee</span>)
2349:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;06$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbit_fee</span>,<span class="ruby-ivar">@format_ft06</span>)
2350:     <span class="ruby-comment cmt">#关于$$$项下争议的仲裁申请文件（合同名称）</span>
2351:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
2352:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;07$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_ft06</span>)
2353:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;34$$$&gt;&quot;</span>,<span class="ruby-ivar">@contract_name</span>,<span class="ruby-ivar">@format_ft06</span>)
2354:     <span class="ruby-comment cmt">#助理</span>
2355:     <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
2356:     <span class="ruby-ivar">@sex</span> = <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
2357:     <span class="ruby-ivar">@telephone</span> = <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2358:     <span class="ruby-ivar">@fax</span> = <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2359:     <span class="ruby-ivar">@email</span> = <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
2360:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;17$$$&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_ft06</span>)
2361:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;18$$$&gt;&quot;</span>,<span class="ruby-ivar">@sex</span>,<span class="ruby-ivar">@format_ft06</span>)
2362:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;19$$$&gt;&quot;</span>,<span class="ruby-ivar">@telephone</span>,<span class="ruby-ivar">@format_ft06</span>)
2363:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;20$$$&gt;&quot;</span>,<span class="ruby-ivar">@fax</span>,<span class="ruby-ivar">@format_ft06</span>)
2364:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;21$$$&gt;&quot;</span>,<span class="ruby-ivar">@email</span>,<span class="ruby-ivar">@format_ft06</span>)
2365:     <span class="ruby-comment cmt">#日期</span>
2366:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
2367:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
2368:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
2369:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;23$$$&gt;&quot;</span>,<span class="ruby-ivar">@y2</span>,<span class="ruby-ivar">@format_ft06</span>)
2370:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;24$$$&gt;&quot;</span>,<span class="ruby-ivar">@m2</span>,<span class="ruby-ivar">@format_ft06</span>)
2371:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;25$$$&gt;&quot;</span>,<span class="ruby-ivar">@d2</span>,<span class="ruby-ivar">@format_ft06</span>)
2372:     <span class="ruby-ivar">@arbitab</span>=<span class="ruby-identifier">arbitab</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>)
2373:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;12$$$&gt;&quot;</span>,<span class="ruby-ivar">@arbitab</span>,<span class="ruby-ivar">@format_ft06</span>)
2374:     <span class="ruby-identifier">t_code</span>=<span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
2375:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span><span class="ruby-comment cmt">#送达了《仲裁规则》和《仲裁员名册》</span>
2376:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》已经送交你方。&quot;</span>
2377:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2378:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2379:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;&quot;</span>
2380:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
2381:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;&quot;</span>
2382:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span><span class="ruby-comment cmt">#未送达《仲裁规则》和《仲裁员名册》</span>
2383:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;&quot;</span>
2384:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、《仲裁规则》&quot;</span>
2385:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、《仲裁员名册》&quot;</span>
2386:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;4、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2387:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;5、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2388:     <span class="ruby-keyword kw">else</span>
2389:       <span class="ruby-ivar">@replace20</span>=<span class="ruby-value str">&quot;另，本会的《仲裁规则》和《仲裁员名册》是否已经送交你方。&quot;</span>
2390:       <span class="ruby-ivar">@replace21</span>=<span class="ruby-value str">&quot;2、《仲裁规则》&quot;</span>
2391:       <span class="ruby-ivar">@replace22</span>=<span class="ruby-value str">&quot;3、《仲裁员名册》&quot;</span>
2392:       <span class="ruby-ivar">@replace23</span>=<span class="ruby-value str">&quot;4、NO. &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">t_code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;票据&quot;</span>
2393:       <span class="ruby-ivar">@replace24</span>=<span class="ruby-value str">&quot;5、选定/委托指定/代指定仲裁员预缴实际开支费用表&quot;</span>
2394:     <span class="ruby-keyword kw">end</span>
2395:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;22$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace20</span>,<span class="ruby-ivar">@format_ft06</span>)
2396:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;26$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace21</span>,<span class="ruby-ivar">@format_ft06</span>)
2397:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;27$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace22</span>,<span class="ruby-ivar">@format_ft06</span>)
2398:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;28$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace23</span>,<span class="ruby-ivar">@format_ft06</span>)
2399:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;29$$$&gt;&quot;</span>,<span class="ruby-ivar">@replace24</span>,<span class="ruby-ivar">@format_ft06</span>)
2400:     <span class="ruby-ivar">@n_p</span>=<span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-value">1</span>) <span class="ruby-comment cmt">#你方、你两方........</span>
2401:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;30$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft06</span>)
2402:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;32$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft06</span>)
2403:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;33$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft06</span>)
2404:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;11$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft06</span>)
2405:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;13$$$&gt;&quot;</span>,<span class="ruby-ivar">@n_p</span>,<span class="ruby-ivar">@format_ft06</span>)
2406:     <span class="ruby-comment cmt">#一名/三名； 独任/首席； 替换</span>
2407:     <span class="ruby-comment cmt">#    @an=TbCase.find(:first,:conditions=&gt;[&quot;used='Y' and recevice_code=?&quot;,code]).aribitprog_num</span>
2408:     <span class="ruby-comment cmt">#    if @an=='0006' or @an=='0008'</span>
2409:     <span class="ruby-comment cmt">#      str9 = &quot;一名&quot;</span>
2410:     <span class="ruby-comment cmt">#      str14 = &quot;独任&quot;</span>
2411:     <span class="ruby-comment cmt">#    else</span>
2412:     <span class="ruby-identifier">str9</span> = <span class="ruby-value str">&quot;三名&quot;</span>
2413:     <span class="ruby-identifier">str14</span> = <span class="ruby-value str">&quot;首席&quot;</span>
2414:     <span class="ruby-comment cmt">#    end</span>
2415:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;09$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_ft06</span>)
2416:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;10$$$&gt;&quot;</span>,<span class="ruby-identifier">str9</span>,<span class="ruby-ivar">@format_ft06</span>)
2417:     <span class="ruby-ivar">@format_ft06</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;14$$$&gt;&quot;</span>,<span class="ruby-identifier">str14</span>,<span class="ruby-ivar">@format_ft06</span>)
2418:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000314" class="method-detail">
        <a name="M000314"></a>

        <div class="method-heading">
          <a href="#M000314" class="method-signature">
          <span class="method-name">format_letter_head1</span><span class="method-args">(code,doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000314-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000314-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5307</span>
5307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_head1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">doc_id</span>)
5308:     <span class="ruby-comment cmt">#初始化</span>
5309:     <span class="ruby-ivar">@format_head1</span> = <span class="ruby-value str">&quot;&quot;</span>
5310:     <span class="ruby-comment cmt">#函号</span>
5311:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and id=?&quot;</span>,<span class="ruby-identifier">doc_id</span>])
5312:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@file_code</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
5313:       <span class="ruby-ivar">@file_code3</span> = <span class="ruby-value str">&quot;无发文函号&quot;</span>
5314:     <span class="ruby-keyword kw">else</span>
5315:       <span class="ruby-ivar">@file_code</span>=<span class="ruby-ivar">@file_code</span>.<span class="ruby-identifier">send_code</span>
5316:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@file_code</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@file_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
5317:         <span class="ruby-ivar">@file_code3</span>=<span class="ruby-value str">&quot;无发文函号&quot;</span>
5318:       <span class="ruby-keyword kw">else</span>
5319:         <span class="ruby-ivar">@file_code3</span> =<span class="ruby-value str">&quot;发文：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@file_code</span>
5320:       <span class="ruby-keyword kw">end</span>
5321:     <span class="ruby-keyword kw">end</span>
5322:     <span class="ruby-ivar">@format_head1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;$$$head01&gt;&quot;</span>,<span class="ruby-ivar">@file_code3</span>,<span class="ruby-ivar">@format_head1</span>)
5323:     <span class="ruby-comment cmt">#签发$$$,目前要求替换成横线</span>
5324:     <span class="ruby-comment cmt">#@obj_doc = &quot;_____________&quot;</span>
5325:     <span class="ruby-ivar">@obj_doc</span> = <span class="ruby-value str">&quot;&quot;</span>
5326:     <span class="ruby-ivar">@format_head1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;$$$head02&gt;&quot;</span>,<span class="ruby-ivar">@obj_doc</span>,<span class="ruby-ivar">@format_head1</span>)
5327:     <span class="ruby-comment cmt">#经办人$$$,$$$,即助理和时间 立案前的是咨询助理；立案后的是办案助理</span>
5328:     <span class="ruby-ivar">@stat</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">state</span>
5329:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@stat</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
5330:       <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>)
5331:     <span class="ruby-keyword kw">else</span>
5332:       <span class="ruby-ivar">@zl_alerk</span> = <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
5333:     <span class="ruby-keyword kw">end</span>
5334:     <span class="ruby-ivar">@format_head1</span> = <span class="ruby-identifier">add_record</span>(<span class="ruby-value str">&quot;&lt;$$$head03&gt;&quot;</span>,<span class="ruby-ivar">@zl_alerk</span>,<span class="ruby-ivar">@format_head1</span>)
5335:     <span class="ruby-comment cmt">#此处日期是否处理当天时间有待确证</span>
5336:     <span class="ruby-ivar">@y2</span> = <span class="ruby-identifier">get_con_year3</span>(<span class="ruby-identifier">doc_id</span>)
5337:     <span class="ruby-ivar">@m2</span> = <span class="ruby-identifier">get_con_month3</span>(<span class="ruby-identifier">doc_id</span>)
5338:     <span class="ruby-ivar">@d2</span> = <span class="ruby-identifier">get_con_day3</span>(<span class="ruby-identifier">doc_id</span>)
5339:     <span class="ruby-ivar">@date_of_letter</span> = <span class="ruby-ivar">@y2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@m2</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@d2</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
5340:     <span class="ruby-ivar">@format_head1</span> = <span class="ruby-identifier">add_last_record</span>(<span class="ruby-value str">&quot;&lt;$$$head04&gt;&quot;</span>,<span class="ruby-ivar">@date_of_letter</span>,<span class="ruby-ivar">@format_head1</span>)
5341:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000315" class="method-detail">
        <a name="M000315"></a>

        <div class="method-heading">
          <a href="#M000315" class="method-signature">
          <span class="method-name">format_letter_head2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
目前没有可替换字段
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000315-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000315-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 5343</span>
5343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_letter_head2</span>(<span class="ruby-identifier">code</span>)
5344:     <span class="ruby-comment cmt">#初始化</span>
5345:     <span class="ruby-ivar">@format_head2</span> = <span class="ruby-value str">&quot;&quot;</span>
5346: 
5347:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000382" class="method-detail">
        <a name="M000382"></a>

        <div class="method-heading">
          <a href="#M000382" class="method-signature">
          <span class="method-name">get_accommodate_remarks</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
第三次修改 2010-8-9 niell
个人：国内外的都是身份证明文件复印件一式$$$份
公司：外国公司：公司注册和商业登记证明文件复印件一式$$$份
</p>
<pre>
     国内公司：营业执照文件复印件一式$$$份
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000382-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000382-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7112</span>
7112:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_accommodate_remarks</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>)
7113:     <span class="ruby-ivar">@party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id&quot;</span>)
7114:     <span class="ruby-ivar">@aa</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and LEFT(area ,3)='001' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7115:     <span class="ruby-ivar">@bb</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and LEFT(area ,3)&lt;&gt;'001' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7116:     <span class="ruby-ivar">@isperson</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=? and isperson=1&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7117:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@party</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7118:       <span class="ruby-ivar">@len1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">length</span>
7119:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@isperson!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#个人</span>
7120:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@len1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7121:           <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;身份证明&quot;</span>
7122:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#多个申请人</span>
7123:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb!</span>=<span class="ruby-keyword kw">nil</span>
7124:             <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;营业执照/公司注册和商业登记证明&quot;</span>
7125:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt">#国内的</span>
7126:             <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;身份证明/营业执照&quot;</span>
7127:           <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#港澳与国外的</span>
7128:             <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;公司注册和商业登记证明&quot;</span>
7129:           <span class="ruby-keyword kw">end</span>
7130:         <span class="ruby-keyword kw">end</span>
7131:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#公司</span>
7132:         <span class="ruby-comment cmt">#        if @len1==1</span>
7133:         <span class="ruby-comment cmt">#          str1=&quot;营业执照&quot;</span>
7134:         <span class="ruby-comment cmt">#else 多个申请人</span>
7135:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb!</span>=<span class="ruby-keyword kw">nil</span>
7136:           <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;营业执照/公司注册和商业登记证明&quot;</span>
7137:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt">#国内的</span>
7138:           <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;营业执照&quot;</span>
7139:         <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#港澳与国外的</span>
7140:           <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;公司注册和商业登记证明&quot;</span>
7141:         <span class="ruby-keyword kw">end</span>
7142:         <span class="ruby-comment cmt">#        end</span>
7143:       <span class="ruby-keyword kw">end</span>
7144:     <span class="ruby-keyword kw">else</span>
7145:       <span class="ruby-identifier">str1</span>=<span class="ruby-value str">&quot;身份证明/营业执照/公司注册和商业登记证明&quot;</span>
7146:     <span class="ruby-keyword kw">end</span>
7147:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str1</span>
7148:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000383" class="method-detail">
        <a name="M000383"></a>

        <div class="method-heading">
          <a href="#M000383" class="method-signature">
          <span class="method-name">get_accommodate_remarks2</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
第三次修改 2010-8-9 niell
个人：国内外的都是授权委托书（如你方委托代理人参与仲裁）
公司：外国公司：法定代表人证明文件/授权代表证明文件及/或授权委托书（如你方委托代理人参与仲裁）
</p>
<pre>
     国内公司：法定代表人证明文件及/或授权委托书（如你方委托代理人参与仲裁）
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000383-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000383-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7155</span>
7155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_accommodate_remarks2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>)
7156:     <span class="ruby-ivar">@party3</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id&quot;</span>)
7157:     <span class="ruby-ivar">@aa</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and LEFT(area ,3)='001' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7158:     <span class="ruby-ivar">@bb</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and LEFT(area ,3)&lt;&gt;'001' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7159:     <span class="ruby-ivar">@isperson</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=? and isperson=1&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
7160:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@party3</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7161:       <span class="ruby-ivar">@len1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">length</span>
7162:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@isperson!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#个人</span>
7163:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@len1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7164:           <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;授权委托书&quot;</span>
7165:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#多个申请人</span>
7166:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb!</span>=<span class="ruby-keyword kw">nil</span>
7167:             <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件/授权代表证明文件及授权委托书&quot;</span>
7168:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt">#国内的</span>
7169:             <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件及授权委托书&quot;</span>
7170:           <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#港澳、国外的</span>
7171:             <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件/授权代表证明文件及授权委托书&quot;</span>
7172:           <span class="ruby-keyword kw">end</span>
7173:         <span class="ruby-keyword kw">end</span>
7174:       <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#公司</span>
7175:         <span class="ruby-comment cmt">#        if @len1==1</span>
7176:         <span class="ruby-comment cmt">#          str2=&quot;法定代表人证明文件及授权委托书&quot;</span>
7177:         <span class="ruby-comment cmt"># else 多个申请人</span>
7178:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb!</span>=<span class="ruby-keyword kw">nil</span>
7179:           <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件/授权代表证明文件及授权委托书&quot;</span>
7180:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@aa!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bb</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt">#国内的</span>
7181:           <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件及授权委托书&quot;</span>
7182:         <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#港澳与国外的</span>
7183:           <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件/授权代表证明文件及授权委托书&quot;</span>
7184:         <span class="ruby-keyword kw">end</span>
7185:         <span class="ruby-comment cmt">#        end</span>
7186:       <span class="ruby-keyword kw">end</span>
7187:     <span class="ruby-keyword kw">else</span>
7188:       <span class="ruby-identifier">str2</span>=<span class="ruby-value str">&quot;法定代表人证明文件/授权代表证明文件及授权委托书&quot;</span>
7189:     <span class="ruby-keyword kw">end</span>
7190:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str2</span>
7191:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000378" class="method-detail">
        <a name="M000378"></a>

        <div class="method-heading">
          <a href="#M000378" class="method-signature">
          <span class="method-name">get_agent</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
当事人代理人(可多名）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000378-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000378-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6974</span>
6974:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6975:     <span class="ruby-ivar">@agents</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
6976:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents!</span>=<span class="ruby-keyword kw">nil</span>
6977:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;&quot;</span>
6978:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
6979:       <span class="ruby-ivar">@last4</span> = <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">length</span>
6980:       <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
6981:         <span class="ruby-comment cmt">#代理人职务  2010-9-2 修改;2010-9-7 修改—添加空格</span>
6982:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty!</span>=<span class="ruby-value str">&quot;&quot;</span>
6983:           <span class="ruby-identifier">statu</span>=<span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span>
6984:         <span class="ruby-keyword kw">else</span>
6985:           <span class="ruby-identifier">statu</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0007' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">agents</span>.<span class="ruby-identifier">status</span>]).<span class="ruby-identifier">data_text</span>
6986:         <span class="ruby-keyword kw">end</span>
6987: 
6988:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last4</span>
6989:           <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">statu</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span>
6990:         <span class="ruby-keyword kw">else</span>
6991:           <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">statu</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
6992:         <span class="ruby-keyword kw">end</span>
6993:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6994:       <span class="ruby-keyword kw">end</span>
6995:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agent1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6996:         <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6997:       <span class="ruby-keyword kw">end</span>
6998:     <span class="ruby-keyword kw">else</span>
6999:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;无&quot;</span>
7000:     <span class="ruby-keyword kw">end</span>
7001:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@agent1</span>
7002:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000379" class="method-detail">
        <a name="M000379"></a>

        <div class="method-heading">
          <a href="#M000379" class="method-signature">
          <span class="method-name">get_agent2</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
换行、对齐的列出代理人，若有单位：姓名+单位+职务；如没：当事人+代理人职务
[如果没有职务，填写身份信息]
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000379-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000379-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7004</span>
7004:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_agent2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
7005:     <span class="ruby-ivar">@agents</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
7006:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7007:       <span class="ruby-identifier">app1</span> = <span class="ruby-value str">&quot;申请人&quot;</span>
7008:     <span class="ruby-keyword kw">else</span>
7009:       <span class="ruby-identifier">app1</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>
7010:     <span class="ruby-keyword kw">end</span>
7011:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents!</span>=<span class="ruby-keyword kw">nil</span>
7012:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;&quot;</span>
7013:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
7014:       <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
7015:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty!</span>=<span class="ruby-value str">&quot;&quot;</span>
7016:           <span class="ruby-identifier">statu</span>=<span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span>
7017:         <span class="ruby-keyword kw">else</span>
7018:           <span class="ruby-identifier">statu</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0007' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">agents</span>.<span class="ruby-identifier">status</span>]).<span class="ruby-identifier">data_text</span>
7019:         <span class="ruby-keyword kw">end</span>
7020: 
7021:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company!</span>=<span class="ruby-value str">&quot;&quot;</span>
7022:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7023:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;               &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">statu</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7024:           <span class="ruby-keyword kw">else</span>
7025:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">statu</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7026:           <span class="ruby-keyword kw">end</span>
7027:         <span class="ruby-keyword kw">else</span>
7028:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7029:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;               &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">app1</span> <span class="ruby-operator">+</span><span class="ruby-identifier">statu</span><span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7030:           <span class="ruby-keyword kw">else</span>
7031:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">app1</span> <span class="ruby-operator">+</span><span class="ruby-identifier">statu</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7032:           <span class="ruby-keyword kw">end</span>
7033:         <span class="ruby-keyword kw">end</span>
7034:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
7035:       <span class="ruby-keyword kw">end</span>
7036:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7037:     <span class="ruby-keyword kw">else</span>
7038:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;无&quot;</span>
7039:     <span class="ruby-keyword kw">end</span>
7040:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@agent1</span>
7041:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000380" class="method-detail">
        <a name="M000380"></a>

        <div class="method-heading">
          <a href="#M000380" class="method-signature">
          <span class="method-name">get_agent2_fmt40</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
换行、对齐的列出代理人 fmt40
若有单位：姓名+单位+职务；如没：当事人+代理人职务
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000380-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000380-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7043</span>
7043:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_agent2_fmt40</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
7044:     <span class="ruby-ivar">@agents</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
7045:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7046:       <span class="ruby-identifier">app2</span> = <span class="ruby-value str">&quot;申请人&quot;</span>
7047:     <span class="ruby-keyword kw">else</span>
7048:       <span class="ruby-identifier">app2</span> = <span class="ruby-value str">&quot;被申请人&quot;</span>
7049:     <span class="ruby-keyword kw">end</span>
7050:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents!</span>=<span class="ruby-keyword kw">nil</span>
7051:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;&quot;</span>
7052:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
7053:       <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
7054:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company!</span>=<span class="ruby-value str">&quot;&quot;</span>
7055:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7056:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;            &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7057:           <span class="ruby-keyword kw">else</span>
7058:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span><span class="ruby-operator">+</span><span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7059:           <span class="ruby-keyword kw">end</span>
7060:         <span class="ruby-keyword kw">else</span>
7061:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
7062:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;            &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">app2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7063:           <span class="ruby-keyword kw">else</span>
7064:             <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">app2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span><span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
7065:           <span class="ruby-keyword kw">end</span>
7066:         <span class="ruby-keyword kw">end</span>
7067:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
7068:       <span class="ruby-keyword kw">end</span>
7069:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7070:     <span class="ruby-keyword kw">else</span>
7071:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;无&quot;</span>
7072:     <span class="ruby-keyword kw">end</span>
7073:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@agent1</span>
7074:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000381" class="method-detail">
        <a name="M000381"></a>

        <div class="method-heading">
          <a href="#M000381" class="method-signature">
          <span class="method-name">get_agent3</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
dfmt 91
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000381-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000381-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7077</span>
7077:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_agent3</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
7078:     <span class="ruby-ivar">@agents</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
7079:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agents</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7080:       <span class="ruby-ivar">@agent1</span> = <span class="ruby-value str">&quot;&quot;</span>
7081:       <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
7082:       <span class="ruby-ivar">@last4</span> = <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">length</span>
7083:       <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
7084:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty!</span>=<span class="ruby-value str">&quot;&quot;</span>
7085:           <span class="ruby-identifier">statu</span> = <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">duty</span>
7086:         <span class="ruby-keyword kw">else</span>
7087:           <span class="ruby-identifier">statu</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0007' and state='Y' and used='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">agents</span>.<span class="ruby-identifier">status</span>]).<span class="ruby-identifier">data_text</span>
7088:         <span class="ruby-keyword kw">end</span>
7089:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@last4</span>
7090:           <span class="ruby-ivar">@agent1</span> = <span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">statu</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
7091:         <span class="ruby-keyword kw">else</span>
7092:           <span class="ruby-ivar">@agent1</span> = <span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">statu</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span>
7093:         <span class="ruby-keyword kw">end</span>
7094:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
7095:       <span class="ruby-keyword kw">end</span>
7096:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agent1!</span>=<span class="ruby-value str">&quot;&quot;</span>
7097:         <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7098:       <span class="ruby-keyword kw">end</span>
7099:     <span class="ruby-keyword kw">else</span>
7100:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;无&quot;</span>
7101:     <span class="ruby-keyword kw">end</span>
7102:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@agent1</span>
7103:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000399" class="method-detail">
        <a name="M000399"></a>

        <div class="method-heading">
          <a href="#M000399" class="method-signature">
          <span class="method-name">get_amount_detail</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取争议金额
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000399-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000399-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7470</span>
7470:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_amount_detail</span>(<span class="ruby-identifier">code</span>)
7471:     <span class="ruby-comment cmt"># 本请求争议金额</span>
7472:     <span class="ruby-ivar">@amount1</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and used='Y' and partytype=1 and currency='0001' and typ='0001'&quot;</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'id'</span>)
7473:     <span class="ruby-comment cmt"># 反请求争议金额</span>
7474:     <span class="ruby-ivar">@amount2</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and used='Y' and partytype=2 and currency='0001' and typ='0001'&quot;</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'id'</span>)
7475:     <span class="ruby-comment cmt">#争议金额（人民币）</span>
7476: 
7477:     <span class="ruby-ivar">@sum_rmb1</span> = <span class="ruby-value">0</span>
7478:     <span class="ruby-ivar">@sum_rmb2</span> = <span class="ruby-value">0</span>
7479:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">a1</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@amount1</span>
7480:       <span class="ruby-ivar">@sum_rmb1</span> = <span class="ruby-ivar">@sum_rmb1</span>  <span class="ruby-operator">+</span>  <span class="ruby-identifier">a1</span>.<span class="ruby-identifier">rmb_money</span>
7481:     <span class="ruby-keyword kw">end</span>
7482:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">a2</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@amount2</span>
7483:       <span class="ruby-ivar">@sum_rmb2</span> = <span class="ruby-ivar">@sum_rmb2</span>  <span class="ruby-operator">+</span>  <span class="ruby-identifier">a2</span>.<span class="ruby-identifier">rmb_money</span>
7484:     <span class="ruby-keyword kw">end</span>
7485:     <span class="ruby-identifier">re</span> = <span class="ruby-value str">&quot;人民币&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@sum_rmb1</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;元&quot;</span>
7486:     <span class="ruby-identifier">re</span><span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;；反请求争议金额：人民币&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@sum_rmb2</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span><span class="ruby-value str">&quot;元&quot;</span>  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sum_rmb2</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
7487:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">re</span>
7488:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000347" class="method-detail">
        <a name="M000347"></a>

        <div class="method-heading">
          <a href="#M000347" class="method-signature">
          <span class="method-name">get_arbitman_sex</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员性别
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000347-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000347-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6365</span>
6365:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_arbitman_sex</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6366:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
6367:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6368:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
6369:       <span class="ruby-identifier">sex1</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
6370:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sex1</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6371:         <span class="ruby-identifier">s</span> = <span class="ruby-identifier">sex1</span>.<span class="ruby-identifier">sex</span>
6372:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span><span class="ruby-operator">==</span><span class="ruby-value str">'男'</span>
6373:           <span class="ruby-identifier">s</span>=<span class="ruby-value str">&quot;先生&quot;</span>
6374:         <span class="ruby-keyword kw">else</span>
6375:           <span class="ruby-identifier">s</span>=<span class="ruby-value str">&quot;女士&quot;</span>
6376:         <span class="ruby-keyword kw">end</span>
6377:       <span class="ruby-keyword kw">else</span>
6378:         <span class="ruby-identifier">s</span>=<span class="ruby-value str">&quot;先生/女士&quot;</span>
6379:       <span class="ruby-keyword kw">end</span>
6380:     <span class="ruby-keyword kw">else</span>
6381:       <span class="ruby-identifier">s</span>=<span class="ruby-value str">&quot;先生/女士&quot;</span>
6382:     <span class="ruby-keyword kw">end</span>
6383:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">s</span>
6384:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000391" class="method-detail">
        <a name="M000391"></a>

        <div class="method-heading">
          <a href="#M000391" class="method-signature">
          <span class="method-name">get_casetype_num</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件大分类&#8212;目前按字母类别显示
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000391-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000391-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7335</span>
7335:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_casetype_num</span>(<span class="ruby-identifier">code</span>)
7336:     <span class="ruby-comment cmt">#    @case = TbCase.find(:first, :conditions =&gt; [&quot;used = 'Y' and recevice_code = ?&quot;,code])</span>
7337:     <span class="ruby-comment cmt">#    @casetype = TbDictionary.find(:first,:conditions=&gt;[&quot;used='Y' and typ_code='0002' and state='Y' and data_parent='' and data_val='#{@case.casetype_num}'&quot;])</span>
7338:     <span class="ruby-comment cmt">#    return @casetype.data_text</span>
7339:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
7340:     <span class="ruby-ivar">@aribitprog_num</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
7341:     <span class="ruby-ivar">@casetype</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">t_casetype_num</span>
7342:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@casetype</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@casetype</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
7343:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7344:     <span class="ruby-keyword kw">else</span>
7345:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span>
7346:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;D&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@casetype</span>
7347:       <span class="ruby-keyword kw">else</span>
7348:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@casetype</span>
7349:       <span class="ruby-keyword kw">end</span>
7350:     <span class="ruby-keyword kw">end</span>
7351:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000392" class="method-detail">
        <a name="M000392"></a>

        <div class="method-heading">
          <a href="#M000392" class="method-signature">
          <span class="method-name">get_casetype_num2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件小分类&#8212;-总会案件分类
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000392-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000392-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7353</span>
7353:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_casetype_num2</span>(<span class="ruby-identifier">code</span>)
7354:     <span class="ruby-ivar">@dispute_type</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">dispute_type</span>
7355:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@dispute_type</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@dispute_type</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
7356:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7357:     <span class="ruby-keyword kw">else</span>
7358:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@dispute_type</span>
7359:     <span class="ruby-keyword kw">end</span>
7360:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000437" class="method-detail">
        <a name="M000437"></a>

        <div class="method-heading">
          <a href="#M000437" class="method-signature">
          <span class="method-name">get_cn_code</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
票据
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000437-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000437-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8179</span>
8179:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">get_cn_code</span>(<span class="ruby-identifier">code</span>)
8180:     <span class="ruby-ivar">@tbcharge</span>=<span class="ruby-constant">TbCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and (typ='a' or typ='b') and state=2&quot;</span>,<span class="ruby-identifier">code</span>])
8181:     <span class="ruby-identifier">tcode</span>=<span class="ruby-value str">&quot;&quot;</span>
8182:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@tbcharge</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
8183:       <span class="ruby-ivar">@tbcharge</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tc</span><span class="ruby-operator">|</span>
8184:         <span class="ruby-identifier">tcode</span>= <span class="ruby-identifier">tcode</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span>
8185:       <span class="ruby-keyword kw">end</span>
8186:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tcode!</span>=<span class="ruby-value str">&quot;&quot;</span>
8187:         <span class="ruby-identifier">tcode</span>=<span class="ruby-identifier">tcode</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-identifier">tcode</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>)
8188:       <span class="ruby-keyword kw">end</span>
8189:     <span class="ruby-keyword kw">end</span>
8190:     <span class="ruby-identifier">tcode</span>=<span class="ruby-value str">&quot;____&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tcode</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
8191:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">tcode</span>
8192:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000332" class="method-detail">
        <a name="M000332"></a>

        <div class="method-heading">
          <a href="#M000332" class="method-signature">
          <span class="method-name">get_code1</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
私有函数
</p>
<p>
函号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000332-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000332-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6167</span>
6167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_code1</span>(<span class="ruby-identifier">doc_id</span>)
6168:     <span class="ruby-ivar">@file_code</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and id=?&quot;</span>,<span class="ruby-identifier">doc_id</span>])
6169:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@file_code</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6170:       <span class="ruby-ivar">@file_code3</span> = <span class="ruby-value str">&quot;无发文函号&quot;</span>
6171:     <span class="ruby-keyword kw">else</span>
6172:       <span class="ruby-ivar">@file_code</span>=<span class="ruby-ivar">@file_code</span>.<span class="ruby-identifier">send_code</span>
6173:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@file_code</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@file_code</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
6174:         <span class="ruby-ivar">@file_code3</span>=<span class="ruby-value str">&quot;无发文函号&quot;</span>
6175:       <span class="ruby-keyword kw">else</span>
6176:         <span class="ruby-ivar">@file_code3</span> =  <span class="ruby-ivar">@file_code</span>
6177:       <span class="ruby-keyword kw">end</span>
6178:     <span class="ruby-keyword kw">end</span>
6179:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@file_code3</span>
6180:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000407" class="method-detail">
        <a name="M000407"></a>

        <div class="method-heading">
          <a href="#M000407" class="method-signature">
          <span class="method-name">get_commentdate</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
评议时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000407-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000407-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7590</span>
7590:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_commentdate</span>(<span class="ruby-identifier">code</span>)
7591:     <span class="ruby-identifier">comment</span> = <span class="ruby-constant">TbCasecomment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{code}' and used = 'Y' &quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'id'</span>)
7592:     <span class="ruby-ivar">@re</span> = <span class="ruby-value str">&quot;____年__月__日&quot;</span>
7593:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">blank?</span>
7594:       <span class="ruby-ivar">@re</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-identifier">comment</span>.<span class="ruby-identifier">comment_date</span>)
7595:     <span class="ruby-keyword kw">end</span>
7596:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000363" class="method-detail">
        <a name="M000363"></a>

        <div class="method-heading">
          <a href="#M000363" class="method-signature">
          <span class="method-name">get_con_day</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000363-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000363-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6683</span>
6683:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_day</span>(<span class="ruby-identifier">code</span>)
6684:     <span class="ruby-ivar">@contractdate</span>=<span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6685:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contractdate!</span>=<span class="ruby-keyword kw">nil</span>
6686:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@contractdate</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6687:       <span class="ruby-ivar">@con_d</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6688:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_d</span>
6689:     <span class="ruby-keyword kw">else</span>
6690:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6691:     <span class="ruby-keyword kw">end</span>
6692:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000366" class="method-detail">
        <a name="M000366"></a>

        <div class="method-heading">
          <a href="#M000366" class="method-signature">
          <span class="method-name">get_con_day2</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000366-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000366-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6714</span>
6714:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_day2</span>(<span class="ruby-identifier">doc_id</span>)
6715:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6716:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6717:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6718:       <span class="ruby-ivar">@con_d</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>)
6719:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_d</span>
6720:     <span class="ruby-keyword kw">else</span>
6721:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6722:     <span class="ruby-keyword kw">end</span>
6723:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000369" class="method-detail">
        <a name="M000369"></a>

        <div class="method-heading">
          <a href="#M000369" class="method-signature">
          <span class="method-name">get_con_day3</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000369-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000369-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6745</span>
6745:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_day3</span>(<span class="ruby-identifier">doc_id</span>)
6746:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6747:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6748:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6749:       <span class="ruby-ivar">@con_d</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6750:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_d</span>
6751:     <span class="ruby-keyword kw">else</span>
6752:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6753:     <span class="ruby-keyword kw">end</span>
6754:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000372" class="method-detail">
        <a name="M000372"></a>

        <div class="method-heading">
          <a href="#M000372" class="method-signature">
          <span class="method-name">get_con_day31</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000372-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000372-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6776</span>
6776:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_day31</span>(<span class="ruby-identifier">code</span>)
6777:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6778:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6779:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">receivedate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6780:       <span class="ruby-ivar">@con_d</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6781:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_d</span>
6782:     <span class="ruby-keyword kw">else</span>
6783:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6784:     <span class="ruby-keyword kw">end</span>
6785:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000362" class="method-detail">
        <a name="M000362"></a>

        <div class="method-heading">
          <a href="#M000362" class="method-signature">
          <span class="method-name">get_con_month</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000362-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000362-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6673</span>
6673:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_month</span>(<span class="ruby-identifier">code</span>)
6674:     <span class="ruby-ivar">@contractdate</span>=<span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6675:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contractdate!</span>=<span class="ruby-keyword kw">nil</span>
6676:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@contractdate</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6677:       <span class="ruby-ivar">@con_m</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6678:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_m</span>
6679:     <span class="ruby-keyword kw">else</span>
6680:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6681:     <span class="ruby-keyword kw">end</span>
6682:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000365" class="method-detail">
        <a name="M000365"></a>

        <div class="method-heading">
          <a href="#M000365" class="method-signature">
          <span class="method-name">get_con_month2</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000365-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000365-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6704</span>
6704:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_month2</span>(<span class="ruby-identifier">doc_id</span>)
6705:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6706:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6707:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6708:       <span class="ruby-ivar">@con_m</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>)
6709:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_m</span>
6710:     <span class="ruby-keyword kw">else</span>
6711:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6712:     <span class="ruby-keyword kw">end</span>
6713:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000368" class="method-detail">
        <a name="M000368"></a>

        <div class="method-heading">
          <a href="#M000368" class="method-signature">
          <span class="method-name">get_con_month3</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000368-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000368-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6735</span>
6735:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_month3</span>(<span class="ruby-identifier">doc_id</span>)
6736:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6737:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6738:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6739:       <span class="ruby-ivar">@con_m</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6740:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_m</span>
6741:     <span class="ruby-keyword kw">else</span>
6742:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6743:     <span class="ruby-keyword kw">end</span>
6744:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000371" class="method-detail">
        <a name="M000371"></a>

        <div class="method-heading">
          <a href="#M000371" class="method-signature">
          <span class="method-name">get_con_month31</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000371-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000371-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6766</span>
6766:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_month31</span>(<span class="ruby-identifier">code</span>)
6767:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6768:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6769:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">receivedate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6770:       <span class="ruby-ivar">@con_m</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6771:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_m</span>
6772:     <span class="ruby-keyword kw">else</span>
6773:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6774:     <span class="ruby-keyword kw">end</span>
6775:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000361" class="method-detail">
        <a name="M000361"></a>

        <div class="method-heading">
          <a href="#M000361" class="method-signature">
          <span class="method-name">get_con_year</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
合同签订年、月、日
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000361-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000361-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6663</span>
6663:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_year</span>(<span class="ruby-identifier">code</span>)
6664:     <span class="ruby-ivar">@contractdate</span>=<span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6665:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contractdate!</span>=<span class="ruby-keyword kw">nil</span>
6666:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@contractdate</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6667:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]
6668:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_y</span>
6669:     <span class="ruby-keyword kw">else</span>
6670:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6671:     <span class="ruby-keyword kw">end</span>
6672:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000364" class="method-detail">
        <a name="M000364"></a>

        <div class="method-heading">
          <a href="#M000364" class="method-signature">
          <span class="method-name">get_con_year2</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发文编号&#8212;年、月、日
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000364-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000364-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6694</span>
6694:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_year2</span>(<span class="ruby-identifier">doc_id</span>)
6695:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6696:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6697:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6698:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>)
6699:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_y</span>
6700:     <span class="ruby-keyword kw">else</span>
6701:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6702:     <span class="ruby-keyword kw">end</span>
6703:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000367" class="method-detail">
        <a name="M000367"></a>

        <div class="method-heading">
          <a href="#M000367" class="method-signature">
          <span class="method-name">get_con_year3</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发文年、月、日====收文日期 一般是当天的年、月、日
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000367-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000367-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6725</span>
6725:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_year3</span>(<span class="ruby-identifier">doc_id</span>)
6726:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
6727:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6728:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">ss_t</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6729:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6730:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_y</span>
6731:     <span class="ruby-keyword kw">else</span>
6732:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6733:     <span class="ruby-keyword kw">end</span>
6734:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000370" class="method-detail">
        <a name="M000370"></a>

        <div class="method-heading">
          <a href="#M000370" class="method-signature">
          <span class="method-name">get_con_year31</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
部分收文日期按 立案日期算
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000370-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000370-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6756</span>
6756:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_con_year31</span>(<span class="ruby-identifier">code</span>)
6757:     <span class="ruby-ivar">@date_of_letter</span> =<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
6758:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_of_letter!</span>=<span class="ruby-keyword kw">nil</span>
6759:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_of_letter</span>.<span class="ruby-identifier">receivedate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
6760:       <span class="ruby-ivar">@con_y</span> = <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
6761:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@con_y</span>
6762:     <span class="ruby-keyword kw">else</span>
6763:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
6764:     <span class="ruby-keyword kw">end</span>
6765:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000388" class="method-detail">
        <a name="M000388"></a>

        <div class="method-heading">
          <a href="#M000388" class="method-signature">
          <span class="method-name">get_contract_date</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
合同签订时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000388-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000388-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7262</span>
7262:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_contract_date</span>(<span class="ruby-identifier">code</span>)
7263:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
7264:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7265:       <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-value str">&quot;&quot;</span>
7266:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7267:         <span class="ruby-ivar">@contract_name</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)
7268:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7269:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7270:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7271:         <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
7272:       <span class="ruby-keyword kw">else</span>
7273:         <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
7274:           <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7275:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7276:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7277:           <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-ivar">@contract_name1</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
7278:         <span class="ruby-keyword kw">end</span>
7279:         <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>)
7280:       <span class="ruby-keyword kw">end</span>
7281:     <span class="ruby-keyword kw">else</span>
7282:       <span class="ruby-ivar">@contract_name1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
7283:     <span class="ruby-keyword kw">end</span>
7284:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@contract_name1</span>
7285:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000387" class="method-detail">
        <a name="M000387"></a>

        <div class="method-heading">
          <a href="#M000387" class="method-signature">
          <span class="method-name">get_contract_name</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
合同编号及名称
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000387-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000387-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7230</span>
7230:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_contract_name</span>(<span class="ruby-identifier">code</span>)
7231:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
7232:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7233:       <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-value str">&quot;&quot;</span>
7234:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7235:         <span class="ruby-ivar">@contract_name</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)
7236:         <span class="ruby-ivar">@n1</span> = <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'《'</span>)
7237:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1!</span>=<span class="ruby-keyword kw">nil</span>
7238:           <span class="ruby-ivar">@contract_name1</span> = <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span>
7239:         <span class="ruby-keyword kw">else</span>
7240:           <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-value str">&quot;《&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;》&quot;</span>
7241:         <span class="ruby-keyword kw">end</span>
7242:       <span class="ruby-keyword kw">else</span>
7243:         <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
7244:           <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7245:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7246:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7247:           <span class="ruby-ivar">@n1</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'《'</span>)
7248:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1!</span>=<span class="ruby-keyword kw">nil</span>
7249:             <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-ivar">@contract_name1</span> <span class="ruby-operator">+</span>  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
7250:           <span class="ruby-keyword kw">else</span>
7251:             <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-ivar">@contract_name1</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;《&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;》&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
7252:           <span class="ruby-keyword kw">end</span>
7253:         <span class="ruby-keyword kw">end</span>
7254:         <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>)
7255:       <span class="ruby-keyword kw">end</span>
7256:     <span class="ruby-keyword kw">else</span>
7257:       <span class="ruby-ivar">@contract_name1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
7258:     <span class="ruby-keyword kw">end</span>
7259:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@contract_name1</span>
7260:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000389" class="method-detail">
        <a name="M000389"></a>

        <div class="method-heading">
          <a href="#M000389" class="method-signature">
          <span class="method-name">get_contract_nd</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
显示多个合同名称、时间，在一起显示，暂时未用
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000389-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000389-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7287</span>
7287:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_contract_nd</span>(<span class="ruby-identifier">code</span>)
7288:     <span class="ruby-ivar">@contract_name</span> = <span class="ruby-constant">TbContractsign</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
7289:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7290:       <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-value str">&quot;&quot;</span>
7291:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
7292:         <span class="ruby-ivar">@contract_name</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@contract_name</span>)
7293:         <span class="ruby-ivar">@n1</span> = <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'《'</span>)
7294:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7295:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7296:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7297:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1!</span>=<span class="ruby-keyword kw">nil</span>
7298:           <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日签订的&quot;</span><span class="ruby-operator">+</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span>
7299:         <span class="ruby-keyword kw">else</span>
7300:           <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日签订的&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;《&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">pactname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;》&quot;</span>
7301:         <span class="ruby-keyword kw">end</span>
7302:       <span class="ruby-keyword kw">else</span>
7303:         <span class="ruby-ivar">@contract_name</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
7304:           <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">contractdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7305:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7306:           <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7307:           <span class="ruby-ivar">@n1</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'《'</span>)
7308:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@n1!</span>=<span class="ruby-keyword kw">nil</span>
7309:             <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-ivar">@contract_name1</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日签订的&quot;</span><span class="ruby-operator">+</span>  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
7310:           <span class="ruby-keyword kw">else</span>
7311:             <span class="ruby-ivar">@contract_name1</span> =<span class="ruby-ivar">@contract_name1</span> <span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日签订的&quot;</span><span class="ruby-operator">+</span>  <span class="ruby-value str">&quot;《&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">pactname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;》&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
7312:           <span class="ruby-keyword kw">end</span>
7313:         <span class="ruby-keyword kw">end</span>
7314:         <span class="ruby-ivar">@contract_name1</span>=<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@contract_name1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>)
7315:       <span class="ruby-keyword kw">end</span>
7316:     <span class="ruby-keyword kw">else</span>
7317:       <span class="ruby-ivar">@contract_name1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
7318:     <span class="ruby-keyword kw">end</span>
7319:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@contract_name1</span>
7320:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000401" class="method-detail">
        <a name="M000401"></a>

        <div class="method-heading">
          <a href="#M000401" class="method-signature">
          <span class="method-name">get_d_money</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
变 更 仲 裁 费 用 审 批 表：明确金额；不明确金额
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000401-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000401-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7507</span>
7507:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_d_money</span>(<span class="ruby-identifier">code</span>)
7508:     <span class="ruby-ivar">@account2</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0001' and typ= '0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
7509:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account2</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7510:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
7511:       <span class="ruby-ivar">@account2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
7512:         <span class="ruby-ivar">@d_m</span> = <span class="ruby-ivar">@d_m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
7513:       <span class="ruby-keyword kw">end</span>
7514:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m!</span>=<span class="ruby-value str">&quot;&quot;</span>
7515:         <span class="ruby-ivar">@d_m</span> =<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7516:       <span class="ruby-keyword kw">end</span>
7517:     <span class="ruby-keyword kw">else</span>
7518:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
7519:     <span class="ruby-keyword kw">end</span>
7520:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m</span>
7521:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000398" class="method-detail">
        <a name="M000398"></a>

        <div class="method-heading">
          <a href="#M000398" class="method-signature">
          <span class="method-name">get_dear_money</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
列出争议金额所有币种、金额信息
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000398-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000398-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7453</span>
7453:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_dear_money</span>(<span class="ruby-identifier">code</span>)
7454:     <span class="ruby-ivar">@account2</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0001' and typ= '0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
7455:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account2</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7456:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
7457:       <span class="ruby-ivar">@account2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
7458:         <span class="ruby-ivar">@d_m</span> = <span class="ruby-ivar">@d_m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
7459:       <span class="ruby-keyword kw">end</span>
7460:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m!</span>=<span class="ruby-value str">&quot;&quot;</span>
7461:         <span class="ruby-ivar">@d_m</span> =<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7462:       <span class="ruby-keyword kw">end</span>
7463:     <span class="ruby-keyword kw">else</span>
7464:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
7465:     <span class="ruby-keyword kw">end</span>
7466:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m</span>
7467:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000410" class="method-detail">
        <a name="M000410"></a>

        <div class="method-heading">
          <a href="#M000410" class="method-signature">
          <span class="method-name">get_delayTerm</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件延期前日期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000410-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000410-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7627</span>
7627:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_delayTerm</span>(<span class="ruby-identifier">code</span>)
7628:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbCasedelay</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7629:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
7630:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">delayTerm</span>
7631:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@sdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7632:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7633:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7634:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
7635:     <span class="ruby-keyword kw">else</span>
7636:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;_____年__月__日&quot;</span>
7637:     <span class="ruby-keyword kw">end</span>
7638:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@sdate</span>
7639:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000409" class="method-detail">
        <a name="M000409"></a>

        <div class="method-heading">
          <a href="#M000409" class="method-signature">
          <span class="method-name">get_delaydate</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件延期日期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000409-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000409-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7612</span>
7612:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_delaydate</span>(<span class="ruby-identifier">code</span>)
7613:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbCasedelay</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7614:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
7615:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">delayDate</span>
7616:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@sdate</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7617:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7618:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7619:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;年&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;月&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;日&quot;</span>
7620:     <span class="ruby-keyword kw">else</span>
7621:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;_____年__月__日&quot;</span>
7622:     <span class="ruby-keyword kw">end</span>
7623:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@sdate</span>
7624:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000360" class="method-detail">
        <a name="M000360"></a>

        <div class="method-heading">
          <a href="#M000360" class="method-signature">
          <span class="method-name">get_email</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
电子邮箱
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000360-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000360-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6647</span>
6647:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_email</span>(<span class="ruby-identifier">code</span>)
6648:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6649:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6650:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6651:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6652:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6653:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">email</span>
6654:       <span class="ruby-keyword kw">else</span>
6655:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6656:       <span class="ruby-keyword kw">end</span>
6657:     <span class="ruby-keyword kw">else</span>
6658:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6659:     <span class="ruby-keyword kw">end</span>
6660:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
6661:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000433" class="method-detail">
        <a name="M000433"></a>

        <div class="method-heading">
          <a href="#M000433" class="method-signature">
          <span class="method-name">get_email2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
电子邮箱
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000433-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000433-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8096</span>
8096:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_email2</span>(<span class="ruby-identifier">code</span>)
8097:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
8098:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk_2</span>
8099:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
8100:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
8101:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
8102:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">email</span>
8103:       <span class="ruby-keyword kw">else</span>
8104:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8105:       <span class="ruby-keyword kw">end</span>
8106:     <span class="ruby-keyword kw">else</span>
8107:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8108:     <span class="ruby-keyword kw">end</span>
8109:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
8110:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000408" class="method-detail">
        <a name="M000408"></a>

        <div class="method-heading">
          <a href="#M000408" class="method-signature">
          <span class="method-name">get_enddate</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000408-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000408-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7599</span>
7599:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_enddate</span>(<span class="ruby-identifier">code</span>)
7600:     <span class="ruby-ivar">@re</span> = <span class="ruby-value str">&quot;____年__月__日&quot;</span>
7601:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>)
7602:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last!</span>= <span class="ruby-keyword kw">nil</span>
7603:       <span class="ruby-ivar">@re</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">caseendbook_id_last</span>).<span class="ruby-identifier">decideDate</span>)
7604:     <span class="ruby-keyword kw">end</span>
7605:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@re</span>
7606:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000426" class="method-detail">
        <a name="M000426"></a>

        <div class="method-heading">
          <a href="#M000426" class="method-signature">
          <span class="method-name">get_endstyle</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案方式 此方法只用于“函寄裁决书”函（fmt37）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000426-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000426-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7947</span>
7947:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_endstyle</span>(<span class="ruby-identifier">code</span>)
7948:     <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbAward</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7949:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award!</span>=<span class="ruby-keyword kw">nil</span>
7950:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@award</span>.<span class="ruby-identifier">end_typ!</span>=<span class="ruby-value str">'0004'</span>
7951:         <span class="ruby-ivar">@a</span> = <span class="ruby-value str">&quot;裁决书&quot;</span>
7952:       <span class="ruby-keyword kw">else</span>
7953:         <span class="ruby-ivar">@a</span>=<span class="ruby-value str">&quot;撤案决定书&quot;</span>
7954:       <span class="ruby-keyword kw">end</span>
7955:     <span class="ruby-keyword kw">else</span>
7956:       <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7957:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7958:         <span class="ruby-ivar">@endStyle</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">endStyle</span>
7959:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endStyle</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@endStyle</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
7960:           <span class="ruby-ivar">@a</span> = <span class="ruby-value str">&quot;裁决书&quot;</span>
7961:         <span class="ruby-keyword kw">else</span>
7962:           <span class="ruby-ivar">@a</span>=<span class="ruby-value str">&quot;撤案决定书&quot;</span>
7963:         <span class="ruby-keyword kw">end</span>
7964:       <span class="ruby-keyword kw">else</span>
7965:         <span class="ruby-ivar">@a</span>=<span class="ruby-value str">&quot;裁决书/撤案决定书&quot;</span>
7966:       <span class="ruby-keyword kw">end</span>
7967:     <span class="ruby-keyword kw">end</span>
7968:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@a</span>
7969:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000356" class="method-detail">
        <a name="M000356"></a>

        <div class="method-heading">
          <a href="#M000356" class="method-signature">
          <span class="method-name">get_fax</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
传真
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000356-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000356-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6548</span>
6548:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6549:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6550:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6551:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6552:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6553:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span>
6554:         <span class="ruby-ivar">@party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
6555:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party!</span>=<span class="ruby-keyword kw">nil</span>
6556:           <span class="ruby-identifier">area1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">area</span>
6557:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6558:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'002'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'003'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'004'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-comment cmt">#国内的</span>
6559:               <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6560:             <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#香港、国外的</span>
6561:               <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6562:             <span class="ruby-keyword kw">end</span>
6563:           <span class="ruby-keyword kw">else</span>
6564:             <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6565:           <span class="ruby-keyword kw">end</span>
6566:         <span class="ruby-keyword kw">else</span>
6567:           <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6568:         <span class="ruby-keyword kw">end</span>
6569:       <span class="ruby-keyword kw">else</span>
6570:         <span class="ruby-ivar">@case_alerk3</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6571:       <span class="ruby-keyword kw">end</span>
6572:     <span class="ruby-keyword kw">else</span>
6573:       <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6574:     <span class="ruby-keyword kw">end</span>
6575:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk3</span>
6576:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000359" class="method-detail">
        <a name="M000359"></a>

        <div class="method-heading">
          <a href="#M000359" class="method-signature">
          <span class="method-name">get_fax2</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据当事人是国内、港和国外 来设定传真开头区号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000359-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000359-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6628</span>
6628:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_fax2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6629:     <span class="ruby-identifier">party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
6630:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">party!</span>=<span class="ruby-keyword kw">nil</span>
6631:       <span class="ruby-identifier">area1</span> = <span class="ruby-identifier">party</span>.<span class="ruby-identifier">area</span>
6632:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6633:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'002'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'003'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'004'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-comment cmt">#国内的</span>
6634:           <span class="ruby-ivar">@code5</span> = <span class="ruby-value str">&quot;0755&quot;</span>
6635:         <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#香港、国外的</span>
6636:           <span class="ruby-ivar">@code5</span> = <span class="ruby-value str">&quot;86-755&quot;</span>
6637:         <span class="ruby-keyword kw">end</span>
6638:       <span class="ruby-keyword kw">else</span>
6639:         <span class="ruby-ivar">@code5</span> = <span class="ruby-value str">&quot;0755&quot;</span>
6640:       <span class="ruby-keyword kw">end</span>
6641:     <span class="ruby-keyword kw">else</span>
6642:       <span class="ruby-ivar">@code5</span> = <span class="ruby-value str">&quot;0755&quot;</span>
6643:     <span class="ruby-keyword kw">end</span>
6644:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@code5</span>
6645:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000432" class="method-detail">
        <a name="M000432"></a>

        <div class="method-heading">
          <a href="#M000432" class="method-signature">
          <span class="method-name">get_fax22</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
传真
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000432-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000432-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8066</span>
8066:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_fax22</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
8067:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
8068:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk_2</span>
8069:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
8070:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
8071:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span>
8072:         <span class="ruby-ivar">@party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
8073:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party!</span>=<span class="ruby-keyword kw">nil</span>
8074:           <span class="ruby-identifier">area1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">area</span>
8075:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">&quot;&quot;</span>
8076:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'002'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'003'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'004'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-comment cmt">#国内的</span>
8077:               <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
8078:             <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#香港、国外的</span>
8079:               <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
8080:             <span class="ruby-keyword kw">end</span>
8081:           <span class="ruby-keyword kw">else</span>
8082:             <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
8083:           <span class="ruby-keyword kw">end</span>
8084:         <span class="ruby-keyword kw">else</span>
8085:           <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
8086:         <span class="ruby-keyword kw">end</span>
8087:       <span class="ruby-keyword kw">else</span>
8088:         <span class="ruby-ivar">@case_alerk3</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
8089:       <span class="ruby-keyword kw">end</span>
8090:     <span class="ruby-keyword kw">else</span>
8091:       <span class="ruby-ivar">@case_alerk3</span> = <span class="ruby-value str">&quot;0755-&quot;</span>
8092:     <span class="ruby-keyword kw">end</span>
8093:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk3</span>
8094:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000350" class="method-detail">
        <a name="M000350"></a>

        <div class="method-heading">
          <a href="#M000350" class="method-signature">
          <span class="method-name">get_fix_appoint</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据仲裁员选定方式的编码替换函中文字。 0001,0002:选定
; 0005:指定 函中显示仲裁委选定/指定仲裁员方式
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000350-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000350-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6432</span>
6432:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_fix_appoint</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>) <span class="ruby-comment cmt">#v1:哪类仲裁员</span>
6433:     <span class="ruby-ivar">@arbitmenA</span>=<span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
6434:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmenA!</span>=<span class="ruby-keyword kw">nil</span>
6435:       <span class="ruby-ivar">@arbitmansign</span>=<span class="ruby-ivar">@arbitmenA</span>.<span class="ruby-identifier">arbitmansign</span>
6436:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign!</span>=<span class="ruby-keyword kw">nil</span>
6437:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
6438:           <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;选定&quot;</span>
6439:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#@arbitmansign=='0005' 或其他的</span>
6440:           <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6441:         <span class="ruby-keyword kw">end</span>
6442:       <span class="ruby-keyword kw">else</span>
6443:         <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6444:       <span class="ruby-keyword kw">end</span>
6445:     <span class="ruby-keyword kw">else</span>
6446:       <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6447:     <span class="ruby-keyword kw">end</span>
6448:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@c</span>
6449:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000351" class="method-detail">
        <a name="M000351"></a>

        <div class="method-heading">
          <a href="#M000351" class="method-signature">
          <span class="method-name">get_fix_appoint_2</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000351-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000351-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6451</span>
6451:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_fix_appoint_2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>) <span class="ruby-comment cmt">#v1:哪类仲裁员  支持多个类型用 in()</span>
6452:     <span class="ruby-ivar">@arbitmenA</span>=<span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}' and arbitmantype in ( #{v1} )&quot;</span>)
6453:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmenA!</span>=<span class="ruby-keyword kw">nil</span>
6454:       <span class="ruby-ivar">@arbitmansign</span>=<span class="ruby-ivar">@arbitmenA</span>.<span class="ruby-identifier">arbitmansign</span>
6455:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign!</span>=<span class="ruby-keyword kw">nil</span>
6456:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
6457:           <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;选定&quot;</span>
6458:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#@arbitmansign=='0005' 或其他的</span>
6459:           <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6460:         <span class="ruby-keyword kw">end</span>
6461:       <span class="ruby-keyword kw">else</span>
6462:         <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6463:       <span class="ruby-keyword kw">end</span>
6464:     <span class="ruby-keyword kw">else</span>
6465:       <span class="ruby-ivar">@c</span> = <span class="ruby-value str">&quot;指定&quot;</span>
6466:     <span class="ruby-keyword kw">end</span>
6467:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@c</span>
6468:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000402" class="method-detail">
        <a name="M000402"></a>

        <div class="method-heading">
          <a href="#M000402" class="method-signature">
          <span class="method-name">get_i_money</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000402-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000402-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7522</span>
7522:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_i_money</span>(<span class="ruby-identifier">code</span>)
7523:     <span class="ruby-ivar">@account4</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0002' and typ= '0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
7524:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account4</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7525:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
7526:       <span class="ruby-ivar">@account4</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
7527:         <span class="ruby-ivar">@d_m2</span> = <span class="ruby-ivar">@d_m2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
7528:       <span class="ruby-keyword kw">end</span>
7529:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m2!</span>=<span class="ruby-value str">&quot;&quot;</span>
7530:         <span class="ruby-ivar">@d_m2</span> =<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7531:       <span class="ruby-keyword kw">end</span>
7532:     <span class="ruby-keyword kw">else</span>
7533:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
7534:     <span class="ruby-keyword kw">end</span>
7535:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m2</span>
7536:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000400" class="method-detail">
        <a name="M000400"></a>

        <div class="method-heading">
          <a href="#M000400" class="method-signature">
          <span class="method-name">get_indefinite_money</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
不明确争议金额
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000400-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000400-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7491</span>
7491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_indefinite_money</span>(<span class="ruby-identifier">code</span>)
7492:     <span class="ruby-ivar">@account4</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0002' and typ= '0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
7493:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account4</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
7494:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
7495:       <span class="ruby-ivar">@account4</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
7496:         <span class="ruby-ivar">@d_m2</span> = <span class="ruby-ivar">@d_m2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>)<span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
7497:       <span class="ruby-keyword kw">end</span>
7498:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m2!</span>=<span class="ruby-value str">&quot;&quot;</span>
7499:         <span class="ruby-ivar">@d_m2</span> =<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
7500:       <span class="ruby-keyword kw">end</span>
7501:     <span class="ruby-keyword kw">else</span>
7502:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
7503:     <span class="ruby-keyword kw">end</span>
7504:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m2</span>
7505:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000425" class="method-detail">
        <a name="M000425"></a>

        <div class="method-heading">
          <a href="#M000425" class="method-signature">
          <span class="method-name">get_language</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁语言
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000425-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000425-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7927</span>
7927:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_language</span>(<span class="ruby-identifier">code</span>)
7928:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7929:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7930:       <span class="ruby-ivar">@langu</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">language</span>
7931:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@langu!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@langu!</span>=<span class="ruby-value str">&quot;&quot;</span>
7932:         <span class="ruby-ivar">@lan</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0044' and state='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@langu</span>])
7933:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@lan!</span>=<span class="ruby-keyword kw">nil</span>
7934:           <span class="ruby-ivar">@lan</span>=<span class="ruby-ivar">@lan</span>.<span class="ruby-identifier">data_text</span>
7935:         <span class="ruby-keyword kw">else</span>
7936:           <span class="ruby-ivar">@lan</span>=<span class="ruby-value str">&quot;中文&quot;</span>
7937:         <span class="ruby-keyword kw">end</span>
7938:       <span class="ruby-keyword kw">else</span>
7939:         <span class="ruby-ivar">@lan</span>=<span class="ruby-value str">&quot;中文&quot;</span>
7940:       <span class="ruby-keyword kw">end</span>
7941:     <span class="ruby-keyword kw">else</span>
7942:       <span class="ruby-ivar">@lan</span>=<span class="ruby-value str">&quot;中文&quot;</span>
7943:     <span class="ruby-keyword kw">end</span>
7944:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@lan</span>
7945:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000394" class="method-detail">
        <a name="M000394"></a>

        <div class="method-heading">
          <a href="#M000394" class="method-signature">
          <span class="method-name">get_litigation_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
立案费/受理费 0002
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000394-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000394-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7378</span>
7378:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_litigation_fee</span>(<span class="ruby-identifier">code</span>)
7379:     <span class="ruby-ivar">@litigation</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select sum(s.rmb_money) as aa from tb_case_amounts as a,tb_should_charges as s where s.used='Y' and a.used='Y'
7380:       and a.recevice_code='#{code}' and a.recevice_code=s.recevice_code and a.id=s.case_amount_id and
7381:       s.typ='0002' and  a.typ='0001'&quot;</span>)
7382:     <span class="ruby-comment cmt">#    @litigation=TbShouldCharge.find_by_sql(&quot;select sum(rmb_money) as aa from tb_should_charges  where used='Y'</span>
7383:     <span class="ruby-comment cmt">#      and recevice_code='#{code}'  and typ='0002'&quot;)</span>
7384:     <span class="ruby-ivar">@litigation</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@litigation</span>)
7385:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation!</span>=<span class="ruby-keyword kw">nil</span>
7386:       <span class="ruby-ivar">@litigation</span>=<span class="ruby-ivar">@litigation</span>.<span class="ruby-identifier">aa</span>
7387:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation!</span>=<span class="ruby-keyword kw">nil</span>
7388:         <span class="ruby-ivar">@litigation</span>=<span class="ruby-ivar">@litigation</span>.<span class="ruby-identifier">to_f</span>
7389:         <span class="ruby-ivar">@mm</span>=<span class="ruby-ivar">@litigation</span>
7390:       <span class="ruby-keyword kw">else</span>
7391:         <span class="ruby-ivar">@mm</span>=<span class="ruby-value">0</span>
7392:       <span class="ruby-keyword kw">end</span>
7393:     <span class="ruby-keyword kw">else</span>
7394:       <span class="ruby-ivar">@mm</span>=<span class="ruby-value">0</span>
7395:     <span class="ruby-keyword kw">end</span>
7396:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@mm</span>
7397:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000396" class="method-detail">
        <a name="M000396"></a>

        <div class="method-heading">
          <a href="#M000396" class="method-signature">
          <span class="method-name">get_litigation_fee2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
无明确争议金额： 立案费/受理费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000396-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000396-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7421</span>
7421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_litigation_fee2</span>(<span class="ruby-identifier">code</span>)
7422:     <span class="ruby-ivar">@litigation2</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select sum(rmb_money) as aa2 from tb_should_charges where used='Y'
7423:       and recevice_code='#{code}' and typ='0005'&quot;</span>)
7424:     <span class="ruby-ivar">@litigation2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@litigation2</span>).<span class="ruby-identifier">aa2</span>
7425:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation2!</span>=<span class="ruby-keyword kw">nil</span>
7426:       <span class="ruby-ivar">@litigation2</span>=<span class="ruby-ivar">@litigation2</span>.<span class="ruby-identifier">to_f</span>
7427:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@litigation2</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>
7428:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
7429:       <span class="ruby-keyword kw">else</span>
7430:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@litigation2</span>
7431:       <span class="ruby-keyword kw">end</span>
7432:     <span class="ruby-keyword kw">else</span>
7433:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
7434:     <span class="ruby-keyword kw">end</span>
7435:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000412" class="method-detail">
        <a name="M000412"></a>

        <div class="method-heading">
          <a href="#M000412" class="method-signature">
          <span class="method-name">get_materialtype1</span><span class="method-args">(code,subman)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000412-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000412-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7658</span>
7658:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_materialtype1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">subman</span>)
7659:     <span class="ruby-ivar">@amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and ifnull(submitman,'')&lt;&gt;'0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7660:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;two&quot;</span>
7661:       <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?  and submitman='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7662:     <span class="ruby-keyword kw">end</span>
7663:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7664:       <span class="ruby-ivar">@materialtype</span> = <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">materialtype</span>
7665:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@materialtype</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7666:         <span class="ruby-ivar">@a2</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='8138' and state='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@materialtype</span>])
7667:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@a2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7668:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@a2</span>.<span class="ruby-identifier">data_text</span>
7669:         <span class="ruby-keyword kw">end</span>
7670:       <span class="ruby-keyword kw">else</span>
7671:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">material_other</span>
7672:       <span class="ruby-keyword kw">end</span>
7673:     <span class="ruby-keyword kw">else</span>
7674:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7675:     <span class="ruby-keyword kw">end</span>
7676:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000414" class="method-detail">
        <a name="M000414"></a>

        <div class="method-heading">
          <a href="#M000414" class="method-signature">
          <span class="method-name">get_materialtype2</span><span class="method-args">(code,subman)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000414-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000414-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7694</span>
7694:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_materialtype2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">subman</span>)
7695:     <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and ifnull(submitman,'')&lt;&gt;'0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7696:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;two&quot;</span>
7697:       <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?  and submitman='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7698:     <span class="ruby-keyword kw">end</span>
7699:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail!</span>=<span class="ruby-keyword kw">nil</span>
7700:       <span class="ruby-ivar">@materialtype1</span>=<span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">materialtype</span>
7701:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@materialtype1!</span>=<span class="ruby-keyword kw">nil</span>
7702:         <span class="ruby-ivar">@a2</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='8138' and state='Y' and data_val=?&quot;</span>,<span class="ruby-ivar">@materialtype1</span>])
7703:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@a2!</span>=<span class="ruby-keyword kw">nil</span>
7704:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@a2</span>.<span class="ruby-identifier">data_text</span>
7705:         <span class="ruby-keyword kw">end</span>
7706:       <span class="ruby-keyword kw">else</span>
7707:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">material_other</span>
7708:       <span class="ruby-keyword kw">end</span>
7709:     <span class="ruby-keyword kw">else</span>
7710:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7711:     <span class="ruby-keyword kw">end</span>
7712:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000434" class="method-detail">
        <a name="M000434"></a>

        <div class="method-heading">
          <a href="#M000434" class="method-signature">
          <span class="method-name">get_n_party</span><span class="method-args">(code,p)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
你方；你两.&#8230;方：显示当事人个数。三方及三方以上的修改为
“上述申请人”p:1,申请人；2，被申请人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000434-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000434-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8113</span>
8113:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_n_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>)
8114:     <span class="ruby-ivar">@partyall</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p</span>])
8115:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@partyall</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
8116:       <span class="ruby-ivar">@p1</span> = <span class="ruby-ivar">@partyall</span>.<span class="ruby-identifier">length</span>
8117:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
8118:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;你方&quot;</span>
8119:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@p1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
8120:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;你两方&quot;</span>
8121:       <span class="ruby-keyword kw">else</span>
8122:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
8123:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;上述申请人&quot;</span>
8124:         <span class="ruby-keyword kw">else</span>
8125:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;上述被申请人&quot;</span>
8126:         <span class="ruby-keyword kw">end</span>
8127:       <span class="ruby-keyword kw">end</span>
8128:     <span class="ruby-keyword kw">else</span>
8129:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
8130:     <span class="ruby-keyword kw">end</span>
8131:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000353" class="method-detail">
        <a name="M000353"></a>

        <div class="method-heading">
          <a href="#M000353" class="method-signature">
          <span class="method-name">get_name</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
助理信息：姓名
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000353-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000353-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6481</span>
6481:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_name</span>(<span class="ruby-identifier">code</span>)
6482:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6483:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6484:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6485:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6486:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6487:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">name</span>
6488:       <span class="ruby-keyword kw">else</span>
6489:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6490:       <span class="ruby-keyword kw">end</span>
6491:     <span class="ruby-keyword kw">else</span>
6492:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6493:     <span class="ruby-keyword kw">end</span>
6494:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
6495:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000429" class="method-detail">
        <a name="M000429"></a>

        <div class="method-heading">
          <a href="#M000429" class="method-signature">
          <span class="method-name">get_name2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
咨询助理的相关信息###################################################
助理信息：姓名
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000429-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000429-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7999</span>
7999:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_name2</span>(<span class="ruby-identifier">code</span>)
8000:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
8001:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk_2</span>
8002:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
8003:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
8004:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
8005:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">name</span>
8006:       <span class="ruby-keyword kw">else</span>
8007:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8008:       <span class="ruby-keyword kw">end</span>
8009:     <span class="ruby-keyword kw">else</span>
8010:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8011:     <span class="ruby-keyword kw">end</span>
8012:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
8013:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000416" class="method-detail">
        <a name="M000416"></a>

        <div class="method-heading">
          <a href="#M000416" class="method-signature">
          <span class="method-name">get_number1</span><span class="method-args">(code,p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
对方申请人数量＋仲裁员数量＋1＝所需数量
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000416-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000416-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7735</span>
7735:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_number1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>)
7736:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7737:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7738:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
7739:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#发给申请人</span>
7740:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i1 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=2&quot;</span>)
7741:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7742:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7743:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7744:         <span class="ruby-keyword kw">else</span>
7745:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7746:         <span class="ruby-keyword kw">end</span>
7747:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7748:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span><span class="ruby-comment cmt">#发给被申请人</span>
7749:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i3 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7750:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7751:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>  <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7752:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7753:         <span class="ruby-keyword kw">else</span>
7754:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7755:         <span class="ruby-keyword kw">end</span>
7756:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7757:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span><span class="ruby-comment cmt">#发送给双方 和被申请人的一样</span>
7758:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7759:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7760:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7761:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7762:         <span class="ruby-keyword kw">else</span>
7763:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7764:         <span class="ruby-keyword kw">end</span>
7765:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7766:       <span class="ruby-keyword kw">end</span>
7767:     <span class="ruby-keyword kw">else</span>
7768:       <span class="ruby-ivar">@n</span>=<span class="ruby-value str">&quot;___&quot;</span>
7769:     <span class="ruby-keyword kw">end</span>
7770:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@n</span>
7771:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000417" class="method-detail">
        <a name="M000417"></a>

        <div class="method-heading">
          <a href="#M000417" class="method-signature">
          <span class="method-name">get_number11</span><span class="method-args">(code,p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
和以上方法相同，是以阿拉伯数字形式显示
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000417-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000417-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7773</span>
7773:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_number11</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>)
7774:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7775:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7776:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
7777:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#发给申请人</span>
7778:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i1 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=2&quot;</span>)
7779:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7780:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7781:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7782:         <span class="ruby-keyword kw">else</span>
7783:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7784:         <span class="ruby-keyword kw">end</span>
7785:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span><span class="ruby-comment cmt">#发给被申请人</span>
7786:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i3 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7787:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7788:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7789:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7790:         <span class="ruby-keyword kw">else</span>
7791:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7792:         <span class="ruby-keyword kw">end</span>
7793:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span><span class="ruby-comment cmt">#发送给双方 和被申请人的一样</span>
7794:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7795:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7796:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7797:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7798:         <span class="ruby-keyword kw">else</span>
7799:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7800:         <span class="ruby-keyword kw">end</span>
7801:       <span class="ruby-keyword kw">end</span>
7802:     <span class="ruby-keyword kw">else</span>
7803:       <span class="ruby-ivar">@n</span>=<span class="ruby-value str">&quot;___&quot;</span>
7804:     <span class="ruby-keyword kw">end</span>
7805:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@n</span>
7806:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000420" class="method-detail">
        <a name="M000420"></a>

        <div class="method-heading">
          <a href="#M000420" class="method-signature">
          <span class="method-name">get_number2</span><span class="method-args">(code,p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
如果有原件，复印件数量不用加1
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000420-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000420-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7842</span>
7842:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_number2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>)
7843:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7844:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7845:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>
7846:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-comment cmt">#发给申请人</span>
7847:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i1 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=2&quot;</span>)
7848:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7849:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7850:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span>
7851:         <span class="ruby-keyword kw">else</span>
7852:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7853:         <span class="ruby-keyword kw">end</span>
7854:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7855:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span><span class="ruby-comment cmt">#发给被申请人</span>
7856:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i3 from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7857:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7858:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7859:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span>
7860:         <span class="ruby-keyword kw">else</span>
7861:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7862:         <span class="ruby-keyword kw">end</span>
7863:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7864:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span><span class="ruby-comment cmt">#发送给双方 和被申请人的一样</span>
7865:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i from tb_parties where used='Y' and recevice_code='#{code}' and partytype=1&quot;</span>)
7866:         <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7867:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7868:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span>
7869:         <span class="ruby-keyword kw">else</span>
7870:           <span class="ruby-ivar">@n</span>=<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
7871:         <span class="ruby-keyword kw">end</span>
7872:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7873:       <span class="ruby-keyword kw">end</span>
7874:     <span class="ruby-keyword kw">else</span>
7875:       <span class="ruby-ivar">@n</span>=<span class="ruby-value str">&quot;___&quot;</span>
7876:     <span class="ruby-keyword kw">end</span>
7877:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@n</span>
7878:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000418" class="method-detail">
        <a name="M000418"></a>

        <div class="method-heading">
          <a href="#M000418" class="method-signature">
          <span class="method-name">get_number4</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知（被申请人函），材料份数：对方申请人数量＋（己方申请人的数量－1）＋仲裁员数量＋1存档＝所需数量
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000418-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000418-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7808</span>
7808:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_number4</span>(<span class="ruby-identifier">code</span>)
7809:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7810:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7811:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span><span class="ruby-comment cmt">#发给被申请人</span>
7812:       <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i3 from tb_parties where used='Y' and recevice_code='#{code}'&quot;</span>)
7813:       <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7814:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7815:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">3</span>)
7816:       <span class="ruby-keyword kw">else</span>
7817:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
7818:       <span class="ruby-keyword kw">end</span>
7819:     <span class="ruby-keyword kw">else</span>
7820:       <span class="ruby-ivar">@n</span>=<span class="ruby-value str">&quot;___&quot;</span>
7821:     <span class="ruby-keyword kw">end</span>
7822:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@n</span>
7823:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000419" class="method-detail">
        <a name="M000419"></a>

        <div class="method-heading">
          <a href="#M000419" class="method-signature">
          <span class="method-name">get_number41</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁通知（XXXXX函）,有当事人原件时减交一份
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000419-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000419-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7825</span>
7825:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_number41</span>(<span class="ruby-identifier">code</span>)
7826:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7827:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case!</span>=<span class="ruby-keyword kw">nil</span>
7828:       <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span><span class="ruby-comment cmt">#发给被申请人</span>
7829:       <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select count(id) as i3 from tb_parties where used='Y' and recevice_code='#{code}'&quot;</span>)
7830:       <span class="ruby-ivar">@n2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@n2</span>)
7831:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span>
7832:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>)
7833:       <span class="ruby-keyword kw">else</span>
7834:         <span class="ruby-ivar">@n</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n2</span>.<span class="ruby-identifier">i3</span>.<span class="ruby-identifier">to_i</span>)
7835:       <span class="ruby-keyword kw">end</span>
7836:     <span class="ruby-keyword kw">else</span>
7837:       <span class="ruby-ivar">@n</span>=<span class="ruby-value str">&quot;___&quot;</span>
7838:     <span class="ruby-keyword kw">end</span>
7839:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@n</span>
7840:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000427" class="method-detail">
        <a name="M000427"></a>

        <div class="method-heading">
          <a href="#M000427" class="method-signature">
          <span class="method-name">get_orgstyle</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
咨询时当事人提交材料方式
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000427-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000427-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7971</span>
7971:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_orgstyle</span>(<span class="ruby-identifier">code</span>)
7972:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>])
7973:     <span class="ruby-ivar">@orgstyle</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">orgstyle</span>
7974:     <span class="ruby-ivar">@orgname</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;typ_code='0005' and state='Y' and data_val='#{@orgstyle}'&quot;</span>)
7975:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@orgname!</span>=<span class="ruby-keyword kw">nil</span>
7976:       <span class="ruby-ivar">@orgname</span>=<span class="ruby-ivar">@orgname</span>.<span class="ruby-identifier">data_text</span>
7977:     <span class="ruby-keyword kw">else</span>
7978:       <span class="ruby-ivar">@orgname</span>=<span class="ruby-value str">&quot;_____&quot;</span>
7979:     <span class="ruby-keyword kw">end</span>
7980:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@orgname</span>
7981:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000421" class="method-detail">
        <a name="M000421"></a>

        <div class="method-heading">
          <a href="#M000421" class="method-signature">
          <span class="method-name">get_partytype</span><span class="method-args">(p_v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
转函 &#8212;当事人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000421-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000421-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7880</span>
7880:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_partytype</span>(<span class="ruby-identifier">p_v</span>)
7881:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
7882:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;申请人&quot;</span>
7883:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">p_v</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
7884:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;被申请人&quot;</span>
7885:     <span class="ruby-keyword kw">else</span>
7886:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7887:     <span class="ruby-keyword kw">end</span>
7888:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000438" class="method-detail">
        <a name="M000438"></a>

        <div class="method-heading">
          <a href="#M000438" class="method-signature">
          <span class="method-name">get_pay</span><span class="method-args">(recevice_code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁庭报酬
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000438-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000438-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8194</span>
8194:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_pay</span>(<span class="ruby-identifier">recevice_code</span>)
8195:     <span class="ruby-identifier">pay</span>=<span class="ruby-value">0</span>
8196:     <span class="ruby-identifier">pay_hash</span> = {<span class="ruby-value str">&quot;pay_0001&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-value str">&quot;pay_0002&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-value str">&quot;pay_0003&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-value str">&quot;pay_0004&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}
8197:     <span class="ruby-ivar">@endDate</span>=<span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">recevice_code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
8198:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endDate</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@endDate</span>.<span class="ruby-identifier">decideDate</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">:db</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-value str">&quot;2013-03-01&quot;</span>
8199:       <span class="ruby-identifier">pay</span>=<span class="ruby-identifier">get_pay1</span>(<span class="ruby-identifier">recevice_code</span>)
8200:       <span class="ruby-identifier">pay_hash</span> = {<span class="ruby-value str">&quot;pay_0001&quot;</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.55</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.5</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.45</span>)).<span class="ruby-identifier">round</span> , <span class="ruby-value str">&quot;pay_0002&quot;</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.55</span>) <span class="ruby-operator">*</span>  <span class="ruby-value">0</span><span class="ruby-value">.5</span> ) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.45</span>)).<span class="ruby-identifier">round</span>, <span class="ruby-value str">&quot;pay_0003&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.55</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">round</span>, <span class="ruby-value str">&quot;pay_0004&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.55</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.25</span>).<span class="ruby-identifier">round</span>}
8201:     <span class="ruby-keyword kw">else</span>
8202:       <span class="ruby-identifier">pay</span>=<span class="ruby-identifier">get_pay2</span>(<span class="ruby-identifier">recevice_code</span>)
8203:       <span class="ruby-identifier">pay_hash</span> = {<span class="ruby-value str">&quot;pay_0001&quot;</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.4</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.3</span>)).<span class="ruby-identifier">round</span>, <span class="ruby-value str">&quot;pay_0002&quot;</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.4</span>)  <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.3</span>)).<span class="ruby-identifier">round</span>, <span class="ruby-value str">&quot;pay_0003&quot;</span> =<span class="ruby-operator">&gt;</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.3</span>).<span class="ruby-identifier">round</span>, <span class="ruby-value str">&quot;pay_0004&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">pay</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.3</span>).<span class="ruby-identifier">round</span>}
8204:     <span class="ruby-keyword kw">end</span>
8205:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">pay_hash</span>
8206:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000439" class="method-detail">
        <a name="M000439"></a>

        <div class="method-heading">
          <a href="#M000439" class="method-signature">
          <span class="method-name">get_pay1</span><span class="method-args">(ca_rc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁庭报酬2013年03月01日之前,与remuneration11_set_controller一至
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000439-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000439-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8208</span>
8208:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_pay1</span>(<span class="ruby-identifier">ca_rc</span>)
8209:     <span class="ruby-identifier">casearbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{ca_rc}' and used='Y'&quot;</span>)
8210:     <span class="ruby-comment cmt"># 如果当前案件只有一个仲裁员，说明是独任仲裁员</span>
8211:     <span class="ruby-identifier">typ</span> = <span class="ruby-identifier">casearbitman</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># 仲裁员类型</span>
8212:     <span class="ruby-comment cmt"># 实交（本+反）</span>
8213:     <span class="ruby-identifier">c7</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;re_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
8214:     <span class="ruby-comment cmt"># 实退（本+反）</span>
8215:     <span class="ruby-identifier">c8</span> = (<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'  and  (state = 4 or state = 2)&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>).<span class="ruby-identifier">to_f</span>
8216:     <span class="ruby-comment cmt"># 实收 = 实交 - 实退</span>
8217:     <span class="ruby-identifier">c9</span> = <span class="ruby-identifier">c7</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8</span>
8218:     <span class="ruby-identifier">zcf1</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">c9</span>)
8219:     <span class="ruby-identifier">zcf2</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">zcf1</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.945</span>)<span class="ruby-comment cmt">#.round   # 税后仲裁费</span>
8220:     <span class="ruby-identifier">zcf3</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">hds</span>(<span class="ruby-identifier">zcf2</span>,<span class="ruby-identifier">typ</span>))<span class="ruby-comment cmt">#.round  # 报酬核定数</span>
8221:     <span class="ruby-identifier">tzxs</span> = <span class="ruby-value">1</span> <span class="ruby-comment cmt"># 仲裁庭报酬调整系数</span>
8222:     <span class="ruby-identifier">yyy</span>  = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">zcf3</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">tzxs</span>)<span class="ruby-comment cmt">#.round</span>
8223:     <span class="ruby-identifier">jjj</span>   = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">yyy</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.55</span>)<span class="ruby-comment cmt">#.round</span>
8224:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">yyy</span>
8225:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000440" class="method-detail">
        <a name="M000440"></a>

        <div class="method-heading">
          <a href="#M000440" class="method-signature">
          <span class="method-name">get_pay2</span><span class="method-args">(ca_rc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁庭报酬2013年03月01日之后,与remuneration12_set_controller一至
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000440-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000440-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8227</span>
8227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_pay2</span>(<span class="ruby-identifier">ca_rc</span>)
8228:     <span class="ruby-identifier">casearbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;recevice_code='#{ca_rc}' and used='Y'&quot;</span>)
8229:     <span class="ruby-comment cmt"># 如果当前案件只有一个仲裁员，说明是独任仲裁员</span>
8230:     <span class="ruby-identifier">typ</span> = <span class="ruby-identifier">casearbitman</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># 仲裁员类型</span>
8231:     <span class="ruby-comment cmt"># 实交（本+反）</span>
8232:     <span class="ruby-identifier">c7</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;re_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
8233:     <span class="ruby-identifier">c7_0001</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;re_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;payment='0001' and (typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
8234:     <span class="ruby-identifier">c7_0002</span> = <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;re_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;payment='0002' and (typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
8235:     <span class="ruby-comment cmt"># 实退（本+反）</span>
8236:     <span class="ruby-identifier">c8</span> = (<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'  and  (state = 4 or state = 2)&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>).<span class="ruby-identifier">to_f</span>
8237:     <span class="ruby-identifier">c8_0001</span> = (<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;payment='0001' and (typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'  and  (state = 4 or state = 2)&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>).<span class="ruby-identifier">to_f</span>
8238:     <span class="ruby-identifier">c8_0002</span> = (<span class="ruby-constant">TbShouldRefund</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-value str">&quot;rmb_money - redu_rmb_money&quot;</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;payment='0002' and (typ='0001' or typ='0004') and used='Y' and recevice_code='#{ca_rc}'  and  (state = 4 or state = 2)&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>).<span class="ruby-identifier">to_f</span>
8239:     <span class="ruby-comment cmt"># 实收 = 实交 - 实退</span>
8240:     <span class="ruby-identifier">c9</span> = <span class="ruby-identifier">c7</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8</span>
8241: 
8242:     <span class="ruby-identifier">aribitprog</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">ca_rc</span>).<span class="ruby-identifier">aribitprog_num</span>
8243:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0008'</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select tb_should_charges.id from tb_should_charges,tb_charges where tb_should_charges.recevice_code='#{ca_rc}' and tb_should_charges.id=tb_charges.should_id and tb_should_charges.payment='0001' and ticket_typ='0001' and tb_should_charges.used='Y' and tb_charges.used='Y' and tb_charges.state=2&quot;</span>).<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select id from tb_parties where recevice_code='#{ca_rc}' and used='Y' and partytype=1 and left(area,3)&lt;&gt;'001'&quot;</span>).<span class="ruby-identifier">empty?</span>
8244:       <span class="ruby-identifier">c_b</span> = <span class="ruby-identifier">c7_0001</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8_0001</span>
8245:     <span class="ruby-keyword kw">else</span>
8246:       <span class="ruby-identifier">c_b</span> = (<span class="ruby-identifier">c7_0001</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8_0001</span>) <span class="ruby-operator">*</span> (<span class="ruby-value">1</span> <span class="ruby-operator">-</span> <span class="ruby-value">0</span><span class="ruby-value">.0672</span>)
8247:     <span class="ruby-keyword kw">end</span>
8248: 
8249: 
8250:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-operator">||</span> <span class="ruby-identifier">aribitprog</span><span class="ruby-operator">==</span><span class="ruby-value str">'0008'</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select tb_should_charges.id from tb_should_charges,tb_charges where tb_should_charges.recevice_code='#{ca_rc}' and tb_should_charges.id=tb_charges.should_id and tb_should_charges.payment='0002' and ticket_typ='0001' and tb_should_charges.used='Y' and tb_charges.used='Y' and tb_charges.state=2&quot;</span>).<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select id from tb_parties where recevice_code='#{ca_rc}'  and used='Y' and partytype=2 and left(area,3)&lt;&gt;'001'&quot;</span>).<span class="ruby-identifier">empty?</span>
8251:       <span class="ruby-identifier">c_f</span> = <span class="ruby-identifier">c7_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8_0002</span>
8252:     <span class="ruby-keyword kw">else</span>
8253:       <span class="ruby-identifier">c_f</span> = (<span class="ruby-identifier">c7_0002</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c8_0002</span>) <span class="ruby-operator">*</span> (<span class="ruby-value">1</span> <span class="ruby-operator">-</span> <span class="ruby-value">0</span><span class="ruby-value">.0672</span>)
8254:     <span class="ruby-keyword kw">end</span>
8255: 
8256:     <span class="ruby-identifier">zcf1</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">c9</span>)
8257:     <span class="ruby-comment cmt">#zcf2 = SysArg.round_2(zcf1 * 0.944)#.round   # 税后仲裁费</span>
8258:     <span class="ruby-identifier">zcf2</span> = <span class="ruby-identifier">c_b</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">c_f</span>
8259:     <span class="ruby-identifier">zcf3</span> = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">hds_2</span>(<span class="ruby-identifier">zcf2</span>,<span class="ruby-identifier">typ</span>))<span class="ruby-comment cmt">#.round  # 报酬核定数</span>
8260:     <span class="ruby-identifier">tzxs</span> = <span class="ruby-value">1</span> <span class="ruby-comment cmt"># 仲裁庭报酬调整系数</span>
8261:     <span class="ruby-identifier">yyy</span>  = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">zcf3</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">tzxs</span>)<span class="ruby-comment cmt">#.round</span>
8262:     <span class="ruby-identifier">jjj</span>   = <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">yyy</span> <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.7</span>)<span class="ruby-comment cmt">#.round        # 仲裁员基本报酬</span>
8263:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">yyy</span>
8264:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000395" class="method-detail">
        <a name="M000395"></a>

        <div class="method-heading">
          <a href="#M000395" class="method-signature">
          <span class="method-name">get_processing_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁费/处理费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000395-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000395-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7399</span>
7399:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_processing_fee</span>(<span class="ruby-identifier">code</span>)
7400:     <span class="ruby-ivar">@processing</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select sum(s.rmb_money) as cc from tb_case_amounts as a,tb_should_charges as s where s.used='Y' and a.used='Y'
7401:       and a.recevice_code='#{code}' and a.recevice_code=s.recevice_code and a.id=s.case_amount_id and
7402:       s.typ='0003' and  a.typ='0001'&quot;</span>)
7403:     <span class="ruby-comment cmt">#    @processing=TbShouldCharge.find_by_sql(&quot;select sum(rmb_money) as cc from tb_should_charges where used='Y'</span>
7404:     <span class="ruby-comment cmt">#      and recevice_code='#{code}' and typ='0003'&quot;)</span>
7405:     <span class="ruby-ivar">@processing</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@processing</span>)
7406:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing!</span>=<span class="ruby-keyword kw">nil</span>
7407:       <span class="ruby-ivar">@processing</span>=<span class="ruby-ivar">@processing</span>.<span class="ruby-identifier">cc</span>
7408:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing!</span>=<span class="ruby-keyword kw">nil</span>
7409:         <span class="ruby-ivar">@processing</span>=<span class="ruby-ivar">@processing</span>.<span class="ruby-identifier">to_f</span>
7410:         <span class="ruby-ivar">@mmm</span>=<span class="ruby-ivar">@processing</span>
7411:       <span class="ruby-keyword kw">else</span>
7412:         <span class="ruby-ivar">@mmm</span>=<span class="ruby-value">0</span>
7413:       <span class="ruby-keyword kw">end</span>
7414:     <span class="ruby-keyword kw">else</span>
7415:       <span class="ruby-ivar">@mmm</span>=<span class="ruby-value">0</span>
7416:     <span class="ruby-keyword kw">end</span>
7417:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@mmm</span>
7418:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000397" class="method-detail">
        <a name="M000397"></a>

        <div class="method-heading">
          <a href="#M000397" class="method-signature">
          <span class="method-name">get_processing_fee2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
无明确金额的 处理费/仲裁费
======涉外、金融的无明确金融收费 = 仲裁费
（个性化约定），所以typ=&#8216;0004&#8217;或0006都可
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000397-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000397-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7437</span>
7437:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_processing_fee2</span>(<span class="ruby-identifier">code</span>)
7438:     <span class="ruby-ivar">@processing2</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select sum(rmb_money) as cc2 from tb_should_charges where used='Y'
7439:       and recevice_code='#{code}' and typ='0006'&quot;</span>)
7440:     <span class="ruby-ivar">@processing2</span>=<span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@processing2</span>)
7441:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing2!</span>=<span class="ruby-keyword kw">nil</span>
7442:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@processing2</span>.<span class="ruby-identifier">cc2!</span>=<span class="ruby-keyword kw">nil</span>
7443:         <span class="ruby-ivar">@processing3</span>=<span class="ruby-ivar">@processing2</span>.<span class="ruby-identifier">cc2</span>.<span class="ruby-identifier">to_f</span>
7444:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@processing3</span>
7445:       <span class="ruby-keyword kw">else</span>
7446:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
7447:       <span class="ruby-keyword kw">end</span>
7448:     <span class="ruby-keyword kw">else</span>
7449:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
7450:     <span class="ruby-keyword kw">end</span>
7451:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000390" class="method-detail">
        <a name="M000390"></a>

        <div class="method-heading">
          <a href="#M000390" class="method-signature">
          <span class="method-name">get_recevicedate</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
受理日期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000390-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000390-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7322</span>
7322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_recevicedate</span>(<span class="ruby-identifier">code</span>)
7323:     <span class="ruby-ivar">@date_receive</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">receivedate</span>
7324:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@date_receive</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
7325:       <span class="ruby-ivar">@date_receive</span> = <span class="ruby-value str">&quot;_____&quot;</span>
7326:     <span class="ruby-keyword kw">else</span>
7327:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@date_receive</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7328:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7329:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7330:       <span class="ruby-ivar">@date_receive</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
7331:     <span class="ruby-keyword kw">end</span>
7332:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@date_receive</span>
7333:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000411" class="method-detail">
        <a name="M000411"></a>

        <div class="method-heading">
          <a href="#M000411" class="method-signature">
          <span class="method-name">get_recevicedate1</span><span class="method-args">(code,subman)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
转函&#8212;-1.接收人为申请人:日期、收文材料
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000411-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000411-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7642</span>
7642:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_recevicedate1</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">subman</span>)
7643:     <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?  and ifnull(submitman,'')&lt;&gt;'0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7644:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;two&quot;</span>
7645:       <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?  and submitman='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7646:     <span class="ruby-keyword kw">end</span>
7647:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail!</span>=<span class="ruby-keyword kw">nil</span>
7648:       <span class="ruby-ivar">@recevicedate1</span>=<span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">recevicedate</span>
7649:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@recevicedate1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7650:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7651:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7652:       <span class="ruby-ivar">@recevicedate</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
7653:     <span class="ruby-keyword kw">else</span>
7654:       <span class="ruby-ivar">@recevicedate</span>=<span class="ruby-value str">&quot;____年__月__日&quot;</span>
7655:     <span class="ruby-keyword kw">end</span>
7656:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@recevicedate</span>
7657:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000413" class="method-detail">
        <a name="M000413"></a>

        <div class="method-heading">
          <a href="#M000413" class="method-signature">
          <span class="method-name">get_recevicedate2</span><span class="method-args">(code,subman)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
转函&#8212;-2.接收人为被申请人:日期、收文材料
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000413-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000413-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7678</span>
7678:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_recevicedate2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">subman</span>)
7679:     <span class="ruby-ivar">@amail2</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and ifnull(submitman,'')&lt;&gt;'0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7680:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;two&quot;</span>
7681:       <span class="ruby-ivar">@amail</span>=<span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?  and submitman='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7682:     <span class="ruby-keyword kw">end</span>
7683:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail2!</span>=<span class="ruby-keyword kw">nil</span>
7684:       <span class="ruby-ivar">@recevicedate1</span>=<span class="ruby-ivar">@amail2</span>.<span class="ruby-identifier">recevicedate</span>
7685:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@recevicedate1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7686:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7687:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7688:       <span class="ruby-ivar">@recevicedate</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
7689:     <span class="ruby-keyword kw">else</span>
7690:       <span class="ruby-ivar">@recevicedate</span>=<span class="ruby-value str">&quot;____年__月__日&quot;</span>
7691:     <span class="ruby-keyword kw">end</span>
7692:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@recevicedate</span>
7693:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000443" class="method-detail">
        <a name="M000443"></a>

        <div class="method-heading">
          <a href="#M000443" class="method-signature">
          <span class="method-name">get_reduction_0001_0002</span><span class="method-args">(recevice_code,payment)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
明确或不明确争议金额的立案费,受理费减免
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000443-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000443-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8358</span>
8358:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_reduction_0001_0002</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">payment</span>)
8359:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
8360:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0002</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0001'&quot;</span>)
8361:     <span class="ruby-keyword kw">else</span>
8362:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0002</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0001' and payment='#{payment}'&quot;</span>)
8363:     <span class="ruby-keyword kw">end</span>
8364:     <span class="ruby-identifier">rmb</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rmb</span>
8365:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rmb</span>
8366:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000444" class="method-detail">
        <a name="M000444"></a>

        <div class="method-heading">
          <a href="#M000444" class="method-signature">
          <span class="method-name">get_reduction_0001_0003</span><span class="method-args">(recevice_code,payment)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
明确或不明确争议金额的仲裁费,处理费减免
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000444-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000444-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8369</span>
8369:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_reduction_0001_0003</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">payment</span>)
8370:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
8371:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0003</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0001'&quot;</span>)
8372:     <span class="ruby-keyword kw">else</span>
8373:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0003</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0001' and payment='#{payment}'&quot;</span>)
8374:     <span class="ruby-keyword kw">end</span>
8375:     <span class="ruby-identifier">rmb</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rmb</span>
8376:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rmb</span>
8377:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000445" class="method-detail">
        <a name="M000445"></a>

        <div class="method-heading">
          <a href="#M000445" class="method-signature">
          <span class="method-name">get_reduction_0004_0002</span><span class="method-args">(recevice_code,payment)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
无明确争议金额的立案费,受理费减免
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000445-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000445-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8380</span>
8380:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_reduction_0004_0002</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">payment</span>)
8381:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
8382:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0002</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0004'&quot;</span>)
8383:     <span class="ruby-keyword kw">else</span>
8384:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0002</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0004' and payment='#{payment}'&quot;</span>)
8385:     <span class="ruby-keyword kw">end</span>
8386:     <span class="ruby-identifier">rmb</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rmb</span>
8387:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rmb</span>
8388:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000446" class="method-detail">
        <a name="M000446"></a>

        <div class="method-heading">
          <a href="#M000446" class="method-signature">
          <span class="method-name">get_reduction_0004_0003</span><span class="method-args">(recevice_code,payment)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
无明确争议金额的仲裁费,处理费减免
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000446-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000446-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8391</span>
8391:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_reduction_0004_0003</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">payment</span>)
8392:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payment</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
8393:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0003</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0004'&quot;</span>)
8394:     <span class="ruby-keyword kw">else</span>
8395:       <span class="ruby-identifier">rmb</span> = <span class="ruby-constant">TbReduction</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:rmb_money_0003</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;used='Y' and recevice_code='#{recevice_code}' and typ='0004' and payment='#{payment}'&quot;</span>)
8396:     <span class="ruby-keyword kw">end</span>
8397:     <span class="ruby-identifier">rmb</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rmb</span>
8398:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rmb</span>
8399:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000428" class="method-detail">
        <a name="M000428"></a>

        <div class="method-heading">
          <a href="#M000428" class="method-signature">
          <span class="method-name">get_remark</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
本请求、反请求争议金额的备注，出现在审批格式函中
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000428-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000428-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7983</span>
7983:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_remark</span>(<span class="ruby-identifier">code</span>)
7984:     <span class="ruby-ivar">@rema</span> = <span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typ='0001'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7985:     <span class="ruby-ivar">@special</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">code</span>).<span class="ruby-identifier">special</span>
7986:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@rema!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@special!</span>=<span class="ruby-keyword kw">nil</span>
7987:       <span class="ruby-ivar">@rem</span> = <span class="ruby-ivar">@rema</span>.<span class="ruby-identifier">remark</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@special</span>
7988:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@rema</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@special!</span>=<span class="ruby-keyword kw">nil</span>
7989:       <span class="ruby-ivar">@rem</span> =<span class="ruby-ivar">@special</span>
7990:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@rema!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@special</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
7991:       <span class="ruby-ivar">@rem</span> = <span class="ruby-ivar">@rema</span>.<span class="ruby-identifier">remark</span>
7992:     <span class="ruby-keyword kw">else</span>
7993:       <span class="ruby-ivar">@rem</span> = <span class="ruby-value str">&quot;&quot;</span>
7994:     <span class="ruby-keyword kw">end</span>
7995:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@rem</span>
7996:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000358" class="method-detail">
        <a name="M000358"></a>

        <div class="method-heading">
          <a href="#M000358" class="method-signature">
          <span class="method-name">get_s_fax</span><span class="method-args">(code,typ,pv)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据法院地区是港澳台、国内外替换传真区号&#8212;发保全函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000358-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000358-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6603</span>
6603:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_s_fax</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">pv</span>)
6604:     <span class="ruby-ivar">@yard_area</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed=? and request_typ=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">pv</span>])
6605:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6606:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6607:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@yard_area!</span>=<span class="ruby-keyword kw">nil</span>
6608:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area!</span>=<span class="ruby-value str">'0011'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'0012'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'0013'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">'001'</span>
6609:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6610:           <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6611:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6612:         <span class="ruby-keyword kw">else</span>
6613:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(86-755)&quot;</span>
6614:         <span class="ruby-keyword kw">end</span>
6615:       <span class="ruby-keyword kw">else</span>
6616:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6617:           <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6618:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">fax</span>
6619:         <span class="ruby-keyword kw">else</span>
6620:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span>
6621:         <span class="ruby-keyword kw">end</span>
6622:       <span class="ruby-keyword kw">end</span>
6623:     <span class="ruby-keyword kw">else</span>
6624:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span>
6625:     <span class="ruby-keyword kw">end</span>
6626:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000357" class="method-detail">
        <a name="M000357"></a>

        <div class="method-heading">
          <a href="#M000357" class="method-signature">
          <span class="method-name">get_s_tel</span><span class="method-args">(code,typ,pv)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据法院地区是港澳台、国内外替换电话
&#8212;&#8212;发保全函
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000357-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000357-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6578</span>
6578:   <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">get_s_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">pv</span>)
6579:     <span class="ruby-ivar">@yard_area</span> = <span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and typed=? and request_typ=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">pv</span>])
6580:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6581:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6582:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@yard_area!</span>=<span class="ruby-keyword kw">nil</span>
6583:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area!</span>=<span class="ruby-value str">'0011'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'0012'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'0013'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@yard_area</span>.<span class="ruby-identifier">yard_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">'001'</span>
6584:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6585:           <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6586:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6587:         <span class="ruby-keyword kw">else</span>
6588:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(86-755)&quot;</span>
6589:         <span class="ruby-keyword kw">end</span>
6590:       <span class="ruby-keyword kw">else</span>
6591:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6592:           <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6593:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6594:         <span class="ruby-keyword kw">else</span>
6595:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span>
6596:         <span class="ruby-keyword kw">end</span>
6597:       <span class="ruby-keyword kw">end</span>
6598:     <span class="ruby-keyword kw">else</span>
6599:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;(0755)&quot;</span>
6600:     <span class="ruby-keyword kw">end</span>
6601:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000435" class="method-detail">
        <a name="M000435"></a>

        <div class="method-heading">
          <a href="#M000435" class="method-signature">
          <span class="method-name">get_save_party</span><span class="method-args">(code,p_v,typ)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
保全管理：显示多个当事人名称
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000435-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000435-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8133</span>
8133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_save_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">p_v</span>,<span class="ruby-identifier">typ</span>)
8134:     <span class="ruby-ivar">@part</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select s.request_man as partyname,s.send_time as send_time from tb_saves as s where
8135:  s.used='Y' and s.typed='#{typ}' and s.recevice_code='#{code}' and s.request_typ='#{p_v}' order by s.id&quot;</span>)
8136:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@part</span>)<span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
8137:       <span class="ruby-ivar">@save_p</span> = <span class="ruby-value str">&quot;&quot;</span>
8138:     <span class="ruby-keyword kw">else</span>
8139:       <span class="ruby-ivar">@save_p</span> = <span class="ruby-value str">&quot;&quot;</span>
8140:       <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
8141:       <span class="ruby-ivar">@part</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sp</span><span class="ruby-operator">|</span>
8142:         <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">sp</span>.<span class="ruby-identifier">send_time</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
8143:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
8144:         <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
8145:         <span class="ruby-ivar">@send_time</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
8146:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@part</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
8147:           <span class="ruby-ivar">@save_p</span> = <span class="ruby-ivar">@save_p</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">sp</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;在&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@send_time</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
8148:         <span class="ruby-keyword kw">else</span>
8149:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@part</span>.<span class="ruby-identifier">length</span>
8150:             <span class="ruby-ivar">@save_p</span> = <span class="ruby-ivar">@save_p</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">sp</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span> <span class="ruby-value str">&quot;在&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@send_time</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
8151:           <span class="ruby-keyword kw">else</span>
8152:             <span class="ruby-ivar">@save_p</span> = <span class="ruby-ivar">@save_p</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">sp</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span> <span class="ruby-value str">&quot;在&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@send_time</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span>
8153:           <span class="ruby-keyword kw">end</span>
8154:         <span class="ruby-keyword kw">end</span>
8155:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
8156:       <span class="ruby-keyword kw">end</span>
8157:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@save_p!</span>=<span class="ruby-value str">&quot;&quot;</span>
8158:         <span class="ruby-ivar">@save_p</span> = <span class="ruby-ivar">@save_p</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@save_p</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
8159:       <span class="ruby-keyword kw">end</span>
8160:     <span class="ruby-keyword kw">end</span>
8161:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@save_p</span>
8162:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000424" class="method-detail">
        <a name="M000424"></a>

        <div class="method-heading">
          <a href="#M000424" class="method-signature">
          <span class="method-name">get_save_place</span><span class="method-args">(code,request_typ,typed)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
证据/财产保全的法院/地区
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000424-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000424-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7914</span>
7914:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_save_place</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">request_typ</span>,<span class="ruby-identifier">typed</span>)
7915:     <span class="ruby-ivar">@save1</span>=<span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">request_typ</span>,<span class="ruby-identifier">typed</span>])
7916:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@save1!</span>=<span class="ruby-keyword kw">nil</span>
7917:       <span class="ruby-ivar">@save_yard</span>=<span class="ruby-ivar">@save1</span>.<span class="ruby-identifier">save_yard</span>
7918:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@save_yard</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
7919:         <span class="ruby-ivar">@save_yard</span>=<span class="ruby-value str">&quot;_____人民法院/中级人民法院&quot;</span>
7920:       <span class="ruby-keyword kw">end</span>
7921:     <span class="ruby-keyword kw">else</span>
7922:       <span class="ruby-ivar">@save_yard</span>=<span class="ruby-value str">&quot;_____人民法院/中级人民法院&quot;</span>
7923:     <span class="ruby-keyword kw">end</span>
7924:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@save_yard</span>
7925:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000423" class="method-detail">
        <a name="M000423"></a>

        <div class="method-heading">
          <a href="#M000423" class="method-signature">
          <span class="method-name">get_save_time</span><span class="method-args">(code,request_typ,typed)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
证据/财产保全申请时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000423-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000423-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7900</span>
7900:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_save_time</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">request_typ</span>,<span class="ruby-identifier">typed</span>)<span class="ruby-comment cmt">#后2参数为申请保全人类型，保全类型</span>
7901:     <span class="ruby-ivar">@save1</span>=<span class="ruby-constant">TbSave</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and request_typ=? and typed=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">request_typ</span>,<span class="ruby-identifier">typed</span>])
7902:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@save1!</span>=<span class="ruby-keyword kw">nil</span>
7903:       <span class="ruby-ivar">@send_time1</span>=<span class="ruby-ivar">@save1</span>.<span class="ruby-identifier">send_time</span>
7904:       <span class="ruby-identifier">arr_date</span> = <span class="ruby-ivar">@send_time1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
7905:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7906:       <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
7907:       <span class="ruby-ivar">@send_time</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
7908:     <span class="ruby-keyword kw">else</span>
7909:       <span class="ruby-ivar">@send_time</span>=<span class="ruby-value str">&quot;_____年__月__日&quot;</span>
7910:     <span class="ruby-keyword kw">end</span>
7911:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@send_time</span>
7912:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000447" class="method-detail">
        <a name="M000447"></a>

        <div class="method-heading">
          <a href="#M000447" class="method-signature">
          <span class="method-name">get_send_code</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000447-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000447-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8401</span>
8401:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_send_code</span>(<span class="ruby-identifier">code</span>)
8402:     <span class="ruby-identifier">endbook</span> = <span class="ruby-constant">TbCaseendbook</span>.<span class="ruby-identifier">find_by_used_and_recevice_code</span>(<span class="ruby-value str">'Y'</span>,<span class="ruby-identifier">code</span>)
8403:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">endbook</span>
8404:       <span class="ruby-identifier">s</span>=<span class="ruby-identifier">endbook</span>.<span class="ruby-identifier">arbitBookNum</span>
8405:       <span class="ruby-identifier">sYear</span>=<span class="ruby-identifier">s</span>[<span class="ruby-value">3</span>,<span class="ruby-value">4</span>]
8406:       <span class="ruby-identifier">iNumber</span>=<span class="ruby-identifier">s</span>[<span class="ruby-value">7</span>,<span class="ruby-value">3</span>].<span class="ruby-identifier">to_i</span>
8407:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>[<span class="ruby-value">10</span>,<span class="ruby-value">1</span>]<span class="ruby-operator">==</span><span class="ruby-value str">&quot;d&quot;</span> <span class="ruby-keyword kw">then</span>
8408:         <span class="ruby-identifier">sResult</span>=<span class="ruby-value str">&quot;[&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sYear</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;]D&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">iNumber</span>.<span class="ruby-identifier">to_s</span>
8409:       <span class="ruby-keyword kw">else</span>
8410:         <span class="ruby-identifier">sResult</span>=<span class="ruby-value str">&quot;[&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">sYear</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;]&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">iNumber</span>.<span class="ruby-identifier">to_s</span>
8411:       <span class="ruby-keyword kw">end</span>
8412:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sResult</span>
8413:     <span class="ruby-keyword kw">else</span>
8414:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
8415:     <span class="ruby-keyword kw">end</span>
8416:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000352" class="method-detail">
        <a name="M000352"></a>

        <div class="method-heading">
          <a href="#M000352" class="method-signature">
          <span class="method-name">get_sex</span><span class="method-args">(sex)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
根据性别 显示：先生、女士
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000352-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000352-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6471</span>
6471:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sex</span>(<span class="ruby-identifier">sex</span>)
6472:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sex</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6473:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
6474:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">sex</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;男&quot;</span>
6475:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;先生&quot;</span>
6476:     <span class="ruby-keyword kw">else</span>
6477:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;女士&quot;</span>
6478:     <span class="ruby-keyword kw">end</span>
6479:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000436" class="method-detail">
        <a name="M000436"></a>

        <div class="method-heading">
          <a href="#M000436" class="method-signature">
          <span class="method-name">get_sign</span><span class="method-args">(n1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
金额符号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000436-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000436-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8164</span>
8164:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">n1</span>)
8165:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
8166:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;￥&quot;</span>
8167:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
8168:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;USD&quot;</span>
8169:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
8170:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;HKD&quot;</span>
8171:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>
8172:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;EUR&quot;</span>
8173:     <span class="ruby-keyword kw">else</span>
8174:       <span class="ruby-identifier">m</span> = <span class="ruby-constant">Money</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">n1</span>]).<span class="ruby-identifier">name</span>
8175:     <span class="ruby-keyword kw">end</span>
8176:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">m</span>
8177:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000406" class="method-detail">
        <a name="M000406"></a>

        <div class="method-heading">
          <a href="#M000406" class="method-signature">
          <span class="method-name">get_sitting_place</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭地点
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000406-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000406-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7579</span>
7579:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sitting_place</span>(<span class="ruby-identifier">code</span>)
7580:     <span class="ruby-ivar">@sittingplace</span> = <span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7581:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingplace</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7582:       <span class="ruby-ivar">@splace</span> = <span class="ruby-ivar">@sittingplace</span>.<span class="ruby-identifier">sittingplace</span>
7583:     <span class="ruby-keyword kw">else</span>
7584:       <span class="ruby-ivar">@splace</span>=<span class="ruby-value str">&quot;0001&quot;</span>
7585:     <span class="ruby-keyword kw">end</span>
7586:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@splace</span>
7587:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000405" class="method-detail">
        <a name="M000405"></a>

        <div class="method-heading">
          <a href="#M000405" class="method-signature">
          <span class="method-name">get_sitting_time</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000405-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000405-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7568</span>
7568:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sitting_time</span>(<span class="ruby-identifier">code</span>)
7569:     <span class="ruby-ivar">@sittingtime</span> = <span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7570:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingtime</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7571:       <span class="ruby-ivar">@stime</span> = <span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">open_t</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; - &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">close_t</span>
7572:     <span class="ruby-keyword kw">else</span>
7573:       <span class="ruby-ivar">@stime</span>=<span class="ruby-value str">&quot;__:__ - __:__&quot;</span>
7574:     <span class="ruby-keyword kw">end</span>
7575:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@stime</span>
7576:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000403" class="method-detail">
        <a name="M000403"></a>

        <div class="method-heading">
          <a href="#M000403" class="method-signature">
          <span class="method-name">get_sittingdate</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭日期
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000403-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000403-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7538</span>
7538:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sittingdate</span>(<span class="ruby-identifier">code</span>)
7539:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7540:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
7541:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">sittingdate</span>
7542:       <span class="ruby-ivar">@weekn</span>=<span class="ruby-constant">Workday</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;date=?&quot;</span>,<span class="ruby-ivar">@sdate</span>])
7543:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@weekn!</span>=<span class="ruby-keyword kw">nil</span>
7544:         <span class="ruby-ivar">@n</span> = <span class="ruby-ivar">@weekn</span>.<span class="ruby-identifier">weekday</span>
7545:         <span class="ruby-ivar">@week0</span> = <span class="ruby-ivar">@n</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;0&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;日&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-ivar">@n</span>)
7546:       <span class="ruby-keyword kw">else</span>
7547:         <span class="ruby-ivar">@week0</span> = <span class="ruby-value str">&quot;___&quot;</span>
7548:       <span class="ruby-keyword kw">end</span>
7549:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@sdate</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;（星期&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@week0</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;）&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_stime</span>(<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">open_t</span>)
7550:     <span class="ruby-keyword kw">else</span>
7551:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;____年__月__日（星期___）上午/下午___时___分&quot;</span>
7552:     <span class="ruby-keyword kw">end</span>
7553:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@sdate</span>
7554:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000404" class="method-detail">
        <a name="M000404"></a>

        <div class="method-heading">
          <a href="#M000404" class="method-signature">
          <span class="method-name">get_sittingdate2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭日期，不带星期几
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000404-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000404-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7556</span>
7556:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_sittingdate2</span>(<span class="ruby-identifier">code</span>)
7557:     <span class="ruby-ivar">@sittingdate</span>=<span class="ruby-constant">TbArbitroom</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7558:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sittingdate!</span>=<span class="ruby-keyword kw">nil</span>
7559:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-ivar">@sittingdate</span>.<span class="ruby-identifier">sittingdate</span>
7560:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-ivar">@sdate</span>)
7561:     <span class="ruby-keyword kw">else</span>
7562:       <span class="ruby-ivar">@sdate</span>=<span class="ruby-value str">&quot;____年__月__日&quot;</span>
7563:     <span class="ruby-keyword kw">end</span>
7564:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@sdate</span>
7565:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000348" class="method-detail">
        <a name="M000348"></a>

        <div class="method-heading">
          <a href="#M000348" class="method-signature">
          <span class="method-name">get_style</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员选定方式
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000348-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000348-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6386</span>
6386:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_style</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>) <span class="ruby-comment cmt">#v1:哪类仲裁员</span>
6387:     <span class="ruby-ivar">@arbitmenA</span>=<span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
6388:     <span class="ruby-ivar">@aribitprog_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">aribitprog_num</span>
6389:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0007'</span><span class="ruby-comment cmt">#普通案件</span>
6390:       <span class="ruby-ivar">@a</span> = <span class="ruby-value str">&quot;首席仲裁员&quot;</span>
6391:     <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#简易案件</span>
6392:       <span class="ruby-ivar">@a</span> = <span class="ruby-value str">&quot;独任仲裁员&quot;</span>
6393:     <span class="ruby-keyword kw">end</span>
6394:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmenA!</span>=<span class="ruby-keyword kw">nil</span>
6395:       <span class="ruby-ivar">@arbitmansign</span>=<span class="ruby-ivar">@arbitmenA</span>.<span class="ruby-identifier">arbitmansign</span>
6396:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign!</span>=<span class="ruby-keyword kw">nil</span>
6397:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span> <span class="ruby-comment cmt">#代指定</span>
6398:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0004'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0006'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@aribitprog_num</span><span class="ruby-operator">==</span><span class="ruby-value str">'0008'</span><span class="ruby-comment cmt">#简易</span>
6399:             <span class="ruby-ivar">@aaa</span>=<span class="ruby-value str">&quot;由于双方未共同选定或共同委托本会主任指定&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@a</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;，本会主任指定&quot;</span>
6400:           <span class="ruby-keyword kw">else</span>
6401:             <span class="ruby-ivar">@aaa</span>=<span class="ruby-value str">&quot;指定&quot;</span>
6402:           <span class="ruby-keyword kw">end</span>
6403:         <span class="ruby-keyword kw">else</span>
6404:           <span class="ruby-ivar">@ab</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;typ_code='0015' and state='Y' and data_val='#{@arbitmansign}'&quot;</span>)
6405:           <span class="ruby-ivar">@aaa</span>=<span class="ruby-ivar">@ab</span>.<span class="ruby-identifier">data_text</span>
6406:         <span class="ruby-keyword kw">end</span>
6407:       <span class="ruby-keyword kw">else</span>
6408:         <span class="ruby-ivar">@aaa</span>=<span class="ruby-value str">&quot;f&quot;</span>
6409:       <span class="ruby-keyword kw">end</span>
6410:     <span class="ruby-keyword kw">else</span>
6411:       <span class="ruby-ivar">@aaa</span>=<span class="ruby-value str">&quot;f&quot;</span>
6412:     <span class="ruby-keyword kw">end</span>
6413:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@aaa</span>
6414:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000349" class="method-detail">
        <a name="M000349"></a>

        <div class="method-heading">
          <a href="#M000349" class="method-signature">
          <span class="method-name">get_style_from</span><span class="method-args">(code,v1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员选定方式&#8212;从字典表中查询得来的：
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000349-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000349-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6416</span>
6416:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_style_from</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>) <span class="ruby-comment cmt">#v1:哪类仲裁员</span>
6417:     <span class="ruby-ivar">@arbitmenA</span>=<span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and arbitmantype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>])
6418:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmenA!</span>=<span class="ruby-keyword kw">nil</span>
6419:       <span class="ruby-ivar">@arbitmansign</span>=<span class="ruby-ivar">@arbitmenA</span>.<span class="ruby-identifier">arbitmansign</span>
6420:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitmansign!</span>=<span class="ruby-keyword kw">nil</span>
6421:         <span class="ruby-ivar">@ab</span>=<span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;typ_code='0015' and state='Y' and data_val='#{@arbitmansign}'&quot;</span>)
6422:         <span class="ruby-ivar">@abc</span>=<span class="ruby-ivar">@ab</span>.<span class="ruby-identifier">data_text</span>
6423:       <span class="ruby-keyword kw">else</span>
6424:         <span class="ruby-ivar">@abc</span>=<span class="ruby-value str">&quot;_____&quot;</span>
6425:       <span class="ruby-keyword kw">end</span>
6426:     <span class="ruby-keyword kw">else</span>
6427:       <span class="ruby-ivar">@abc</span>=<span class="ruby-value str">&quot;_____&quot;</span>
6428:     <span class="ruby-keyword kw">end</span>
6429:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@abc</span>
6430:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000422" class="method-detail">
        <a name="M000422"></a>

        <div class="method-heading">
          <a href="#M000422" class="method-signature">
          <span class="method-name">get_t_casetype_num</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件类型：字母分类
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000422-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000422-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7890</span>
7890:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_t_casetype_num</span>(<span class="ruby-identifier">code</span>)
7891:     <span class="ruby-ivar">@t_casetype_num</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>]).<span class="ruby-identifier">t_casetype_num</span>
7892:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@t_casetype_num!</span>=<span class="ruby-keyword kw">nil</span>
7893:       <span class="ruby-ivar">@t</span>=<span class="ruby-ivar">@t_casetype_num</span>
7894:     <span class="ruby-keyword kw">else</span>
7895:       <span class="ruby-ivar">@t</span>=<span class="ruby-value str">&quot;_____&quot;</span>
7896:     <span class="ruby-keyword kw">end</span>
7897:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@t</span>
7898:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000355" class="method-detail">
        <a name="M000355"></a>

        <div class="method-heading">
          <a href="#M000355" class="method-signature">
          <span class="method-name">get_tel</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
电话
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000355-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000355-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6518</span>
6518:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_tel</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6519:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6520:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6521:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6522:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code=?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6523:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span>
6524:         <span class="ruby-ivar">@party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
6525:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party!</span>=<span class="ruby-keyword kw">nil</span>
6526:           <span class="ruby-identifier">area1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">area</span>
6527:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6528:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'002'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'003'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'004'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-comment cmt">#国内的</span>
6529:               <span class="ruby-ivar">@case_alerk2</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6530:             <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#香港、国外的</span>
6531:               <span class="ruby-ivar">@case_alerk2</span> = <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6532:             <span class="ruby-keyword kw">end</span>
6533:           <span class="ruby-keyword kw">else</span>
6534:             <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6535:           <span class="ruby-keyword kw">end</span>
6536:         <span class="ruby-keyword kw">else</span>
6537:           <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6538:         <span class="ruby-keyword kw">end</span>
6539:       <span class="ruby-keyword kw">else</span>
6540:         <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
6541:       <span class="ruby-keyword kw">end</span>
6542:     <span class="ruby-keyword kw">else</span>
6543:       <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span>
6544:     <span class="ruby-keyword kw">end</span>
6545:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk2</span>
6546:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000431" class="method-detail">
        <a name="M000431"></a>

        <div class="method-heading">
          <a href="#M000431" class="method-signature">
          <span class="method-name">get_tel2</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
电话
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000431-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000431-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8036</span>
8036:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_tel2</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
8037:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
8038:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk_2</span>
8039:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
8040:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code=?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
8041:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span>
8042:         <span class="ruby-ivar">@party</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
8043:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@party!</span>=<span class="ruby-keyword kw">nil</span>
8044:           <span class="ruby-identifier">area1</span> = <span class="ruby-ivar">@party</span>.<span class="ruby-identifier">area</span>
8045:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">&quot;&quot;</span>
8046:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'002'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'003'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1!</span>=<span class="ruby-value str">'004'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">area1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-comment cmt">#国内的</span>
8047:               <span class="ruby-ivar">@case_alerk2</span> = <span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
8048:             <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt">#香港、国外的</span>
8049:               <span class="ruby-ivar">@case_alerk2</span> = <span class="ruby-value str">&quot;(86-755)&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
8050:             <span class="ruby-keyword kw">end</span>
8051:           <span class="ruby-keyword kw">else</span>
8052:             <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
8053:           <span class="ruby-keyword kw">end</span>
8054:         <span class="ruby-keyword kw">else</span>
8055:           <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
8056:         <span class="ruby-keyword kw">end</span>
8057:       <span class="ruby-keyword kw">else</span>
8058:         <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">telephone</span>
8059:       <span class="ruby-keyword kw">end</span>
8060:     <span class="ruby-keyword kw">else</span>
8061:       <span class="ruby-ivar">@case_alerk2</span> =<span class="ruby-value str">&quot;0755-&quot;</span>
8062:     <span class="ruby-keyword kw">end</span>
8063:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk2</span>
8064:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000415" class="method-detail">
        <a name="M000415"></a>

        <div class="method-heading">
          <a href="#M000415" class="method-signature">
          <span class="method-name">get_third_party</span><span class="method-args">(code,typ)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
提交人：当事人 或第三方
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000415-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000415-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7714</span>
7714:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_third_party</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>)
7715:     <span class="ruby-ivar">@amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and ifnull(submitman,'')&lt;&gt;?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7716:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">typ</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0003&quot;</span>
7717:       <span class="ruby-ivar">@amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and submitman= '0002' &quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7718:     <span class="ruby-keyword kw">end</span>
7719:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">typ</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;0004&quot;</span>
7720:       <span class="ruby-ivar">@amail</span> = <span class="ruby-constant">TbAmail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and submitman= '0001' &quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
7721:     <span class="ruby-keyword kw">end</span>
7722:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@amail</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
7723:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">submitman2</span>.<span class="ruby-identifier">blank?</span>
7724:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">submitman2</span>
7725:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">submitman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0001'</span>
7726:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">arbitman</span>
7727:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">submitman</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'0002'</span>
7728:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;被申请人&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@amail</span>.<span class="ruby-identifier">arbitman</span>
7729:       <span class="ruby-keyword kw">end</span>
7730:     <span class="ruby-keyword kw">else</span>
7731:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;_____&quot;</span>
7732:     <span class="ruby-keyword kw">end</span>
7733:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000393" class="method-detail">
        <a name="M000393"></a>

        <div class="method-heading">
          <a href="#M000393" class="method-signature">
          <span class="method-name">get_total_money</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
1.明确的或不明确但可以确定的争议金额的费用合计;2.对应的受理费、处理费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000393-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000393-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 7362</span>
7362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_total_money</span>(<span class="ruby-identifier">code</span>)
7363:     <span class="ruby-ivar">@rmb_money</span>=<span class="ruby-constant">TbCaseAmount</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;used='Y' and recevice_code='#{code}' and typ='0001'&quot;</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as a&quot;</span>)
7364:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@rmb_money!</span>=<span class="ruby-keyword kw">nil</span>
7365:       <span class="ruby-ivar">@rmb_money</span>=<span class="ruby-ivar">@rmb_money</span>.<span class="ruby-identifier">a</span>
7366:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@rmb_money!</span>=<span class="ruby-keyword kw">nil</span>
7367:         <span class="ruby-ivar">@rmb_money</span>=<span class="ruby-ivar">@rmb_money</span>.<span class="ruby-identifier">to_f</span>
7368:         <span class="ruby-ivar">@m</span>=<span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-ivar">@rmb_money</span>)
7369:       <span class="ruby-keyword kw">else</span>
7370:         <span class="ruby-ivar">@m</span>=<span class="ruby-value str">&quot;_____&quot;</span>
7371:       <span class="ruby-keyword kw">end</span>
7372:     <span class="ruby-keyword kw">else</span>
7373:       <span class="ruby-ivar">@m</span>=<span class="ruby-value str">&quot;_____&quot;</span>
7374:     <span class="ruby-keyword kw">end</span>
7375:     <span class="ruby-keyword kw">return</span>  <span class="ruby-ivar">@m</span>
7376:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000354" class="method-detail">
        <a name="M000354"></a>

        <div class="method-heading">
          <a href="#M000354" class="method-signature">
          <span class="method-name">get_zlsex</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
性别
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000354-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000354-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6497</span>
6497:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_zlsex</span>(<span class="ruby-identifier">code</span>)
6498:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
6499:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk</span>
6500:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
6501:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
6502:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6503:         <span class="ruby-ivar">@sex</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">sex</span>
6504:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@sex</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;男&quot;</span>
6505:           <span class="ruby-ivar">@case_alerk</span>=<span class="ruby-value str">&quot;先生&quot;</span>
6506:         <span class="ruby-keyword kw">else</span>
6507:           <span class="ruby-ivar">@case_alerk</span>=<span class="ruby-value str">&quot;女士&quot;</span>
6508:         <span class="ruby-keyword kw">end</span>
6509:       <span class="ruby-keyword kw">else</span>
6510:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6511:       <span class="ruby-keyword kw">end</span>
6512:     <span class="ruby-keyword kw">else</span>
6513:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6514:     <span class="ruby-keyword kw">end</span>
6515:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
6516:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000430" class="method-detail">
        <a name="M000430"></a>

        <div class="method-heading">
          <a href="#M000430" class="method-signature">
          <span class="method-name">get_zlsex2</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
性别
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000430-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000430-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8015</span>
8015:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_zlsex2</span>(<span class="ruby-identifier">code</span>)
8016:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
8017:     <span class="ruby-identifier">clerk_code</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">clerk_2</span>
8018:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">clerk_code!</span>=<span class="ruby-value str">&quot;&quot;</span>
8019:       <span class="ruby-ivar">@clerk1</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and code = ?&quot;</span>,<span class="ruby-identifier">clerk_code</span>])
8020:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@clerk1!</span>=<span class="ruby-value str">&quot;&quot;</span>
8021:         <span class="ruby-ivar">@sex</span> = <span class="ruby-ivar">@clerk1</span>.<span class="ruby-identifier">sex</span>
8022:         <span class="ruby-keyword kw">if</span>  <span class="ruby-ivar">@sex</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;男&quot;</span>
8023:           <span class="ruby-ivar">@case_alerk</span>=<span class="ruby-value str">&quot;先生&quot;</span>
8024:         <span class="ruby-keyword kw">else</span>
8025:           <span class="ruby-ivar">@case_alerk</span>=<span class="ruby-value str">&quot;女士&quot;</span>
8026:         <span class="ruby-keyword kw">end</span>
8027:       <span class="ruby-keyword kw">else</span>
8028:         <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8029:       <span class="ruby-keyword kw">end</span>
8030:     <span class="ruby-keyword kw">else</span>
8031:       <span class="ruby-ivar">@case_alerk</span> = <span class="ruby-value str">&quot;_____&quot;</span>
8032:     <span class="ruby-keyword kw">end</span>
8033:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@case_alerk</span>
8034:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000441" class="method-detail">
        <a name="M000441"></a>

        <div class="method-heading">
          <a href="#M000441" class="method-signature">
          <span class="method-name">hds</span><span class="method-args">(v,typ)</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
 计算报酬核定数
 2万以下    1.2万（独任0.6万）
 2万－5万   1.2万+超过2万部分18％
 5万－10万        1.74万+超过5万部分17％
 10万－15万       2.59万+超过10万部分16％
 15万－20万       3.39万+超过15万部分15％
 20万－25万       4.14万+超过20万部分13％
 25万－30万       4.79万+超过25万部分11％
 30万－40万       5.34万+超过30万部分7％
 40万－50万       6.04万+超过40万部分5％
 50万-100万 6.55万+超过50万部分4％
</pre>
<p>
与remuneration11_set_controller一至
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000441-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000441-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8278</span>
8278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hds</span>(<span class="ruby-identifier">v</span>,<span class="ruby-identifier">typ</span>)
8279:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
8280:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>;
8281:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">20000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">typ</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span>
8282:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">6000</span>
8283:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">20000</span>
8284:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">12000</span>
8285:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">20000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50000</span>
8286:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">12000</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">20000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.18</span>
8287:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">50000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">100000</span>
8288:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">17400</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">50000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.17</span>
8289:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">100000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">150000</span>
8290:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">25900</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">100000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.16</span>
8291:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">150000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">200000</span>
8292:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">33900</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">150000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.15</span>
8293:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">200000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">250000</span>
8294:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">41400</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">200000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.13</span>
8295:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">250000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">300000</span>
8296:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">47900</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">250000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.11</span>
8297:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">300000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">400000</span>
8298:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">53400</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">300000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.07</span>
8299:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">400000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">500000</span>
8300:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">60400</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">400000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.05</span>
8301:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">500000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1000000</span>
8302:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">65500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">500000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.04</span>
8303:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">1000000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">10000000</span>
8304:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">85500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">1000000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.035</span>
8305:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">10000000</span>
8306:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">400500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">10000000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.03</span>
8307:     <span class="ruby-keyword kw">end</span>
8308:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000442" class="method-detail">
        <a name="M000442"></a>

        <div class="method-heading">
          <a href="#M000442" class="method-signature">
          <span class="method-name">hds_2</span><span class="method-args">(v,typ)</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
 计算报酬核定数
 收费金额（ZCF2）              仲裁员报酬（税前）
 2万以下（含2万，下同）    1.2万（独任0.6万）
 2万－5万                 1.2万+超过2万部分35％
 5万－10万                2.25万+超过5万部分25％
 10万－15万               3.5万+超过10万部分21％
 15万－20万               4.55万+超过15万部分17％
 20万－25万               5.4万+超过20万部分16％
 25万－30万               6.2万+超过25万部分15％
 30万－40万               6.95万+超过30万部分13％
 40万－50万               8.25万+超过40万部分12％
 50万-100万                9.45万+超过50万部分11％
 100万-1000万              14.95万+超过100万部分9％
 1000万以上               95.95万+超过1000万部分3％
</pre>
<p>
与remuneration12_set_controller一至
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000442-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000442-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 8325</span>
8325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hds_2</span>(<span class="ruby-identifier">v</span>,<span class="ruby-identifier">typ</span>)
8326:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
8327:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>;
8328:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">20000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">typ</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span> <span class="ruby-comment cmt"># 2万以下（含2万，下同）     1.2万（独任0.6万）</span>
8329:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">6000</span>
8330:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">20000</span> <span class="ruby-comment cmt"># 2万以下（含2万，下同） 1.2万（独任0.6万）</span>
8331:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">12000</span>
8332:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">20000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">50000</span> <span class="ruby-comment cmt"># 2万－5万                        1.2万+超过2万部分35％</span>
8333:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">12000</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">20000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.35</span>
8334:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">50000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">100000</span> <span class="ruby-comment cmt"># 5万－10万              2.25万+超过5万部分25％</span>
8335:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">22500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">50000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.25</span>
8336:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">100000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">150000</span> <span class="ruby-comment cmt"># 10万－15万            3.5万+超过10万部分21％</span>
8337:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">35000</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">100000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.21</span>
8338:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">150000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">200000</span> <span class="ruby-comment cmt"># 15万－20万            4.55万+超过15万部分17％</span>
8339:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">45500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">150000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.17</span>
8340:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">200000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">250000</span> <span class="ruby-comment cmt"># 20万－25万            5.4万+超过20万部分16％</span>
8341:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">54000</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">200000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.16</span>
8342:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">250000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">300000</span> <span class="ruby-comment cmt"># 25万－30万            6.2万+超过25万部分15％</span>
8343:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">62000</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">250000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.15</span>
8344:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">300000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">400000</span> <span class="ruby-comment cmt"># 30万－40万            6.95万+超过30万部分13％</span>
8345:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">69500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">300000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.13</span>
8346:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">400000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">500000</span> <span class="ruby-comment cmt"># 40万－50万            8.25万+超过40万部分12％</span>
8347:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">82500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">400000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.12</span>
8348:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">500000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1000000</span> <span class="ruby-comment cmt"># 50万-100万            9.45万+超过50万部分11％</span>
8349:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">94500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">500000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.11</span>
8350:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1000000</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">10000000</span> <span class="ruby-comment cmt"># 100万-1000万                14.95万+超过100万部分9％</span>
8351:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">149500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">1000000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.09</span>
8352:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">10000000</span> <span class="ruby-comment cmt"># 1000万以上          95.95万+超过1000万部分3％</span>
8353:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">959500</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">v</span> <span class="ruby-operator">-</span> <span class="ruby-value">10000000</span>) <span class="ruby-operator">*</span> <span class="ruby-value">0</span><span class="ruby-value">.03</span>
8354:     <span class="ruby-keyword kw">end</span>
8355:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000346" class="method-detail">
        <a name="M000346"></a>

        <div class="method-heading">
          <a href="#M000346" class="method-signature">
          <span class="method-name">independent_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件独立仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000346-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000346-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6349</span>
6349:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)
6350:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0001'&quot;</span>,<span class="ruby-identifier">code</span>])
6351:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6352:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
6353:       <span class="ruby-identifier">independent_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
6354:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">independent_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6355:         <span class="ruby-identifier">independent_arbitrator</span> = <span class="ruby-identifier">independent_arbitrator</span>.<span class="ruby-identifier">name</span>
6356:       <span class="ruby-keyword kw">else</span>
6357:         <span class="ruby-identifier">independent_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6358:       <span class="ruby-keyword kw">end</span>
6359:     <span class="ruby-keyword kw">else</span>
6360:       <span class="ruby-identifier">independent_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6361:     <span class="ruby-keyword kw">end</span>
6362:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">independent_arbitrator</span>
6363:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000342" class="method-detail">
        <a name="M000342"></a>

        <div class="method-heading">
          <a href="#M000342" class="method-signature">
          <span class="method-name">num_papers</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
得到提交文书的份数
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000342-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000342-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6291</span>
6291:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">num_papers</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
6292:     <span class="ruby-ivar">@num</span>=<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id&quot;</span>)
6293:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@num!</span>=<span class="ruby-keyword kw">nil</span>
6294:       <span class="ruby-ivar">@num_people</span>=<span class="ruby-ivar">@num</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">4</span>
6295:     <span class="ruby-keyword kw">else</span>
6296:       <span class="ruby-ivar">@num_people</span>=<span class="ruby-value str">&quot;_____&quot;</span>
6297:     <span class="ruby-keyword kw">end</span>
6298:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@num_people</span>
6299:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000377" class="method-detail">
        <a name="M000377"></a>

        <div class="method-heading">
          <a href="#M000377" class="method-signature">
          <span class="method-name">respondent</span><span class="method-args">(code,v1,v3)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
被申请人
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000377-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000377-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6939</span>
6939:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>,<span class="ruby-identifier">v3</span>)
6940:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 2 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
6941:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondents</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
6942:       <span class="ruby-ivar">@respondent1</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6943:     <span class="ruby-keyword kw">else</span>
6944:       <span class="ruby-ivar">@respondent1</span> = <span class="ruby-value str">&quot;&quot;</span>
6945:       <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
6946:       <span class="ruby-ivar">@last3</span> = <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">length</span>
6947:       <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
6948:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
6949:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
6950:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last3</span>
6951:               <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span>
6952:             <span class="ruby-keyword kw">else</span>
6953:               <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
6954:             <span class="ruby-keyword kw">end</span>
6955:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
6956:             <span class="ruby-ivar">@respondent1</span> = <span class="ruby-ivar">@respondent1</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
6957:           <span class="ruby-keyword kw">end</span>
6958:         <span class="ruby-keyword kw">else</span>
6959:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
6960:             <span class="ruby-ivar">@respondent1</span>=<span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6961:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
6962:             <span class="ruby-ivar">@respondent1</span>=<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
6963:           <span class="ruby-keyword kw">end</span>
6964:         <span class="ruby-keyword kw">end</span>
6965:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
6966:       <span class="ruby-keyword kw">end</span>    <span class="ruby-comment cmt">#  去掉最后的逗号 和 换行号</span>
6967:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondent1!</span>=<span class="ruby-value str">&quot;&quot;</span>
6968:         <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@respondent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
6969:       <span class="ruby-keyword kw">end</span>
6970:     <span class="ruby-keyword kw">end</span>
6971:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@respondent1</span>
6972:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000338" class="method-detail">
        <a name="M000338"></a>

        <div class="method-heading">
          <a href="#M000338" class="method-signature">
          <span class="method-name">respondent_arbit_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
被申请人处理费、仲裁费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000338-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000338-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6240</span>
6240:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent_arbit_fee</span>(<span class="ruby-identifier">code</span>)
6241:     <span class="ruby-ivar">@s_id</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and typ in ('0003','0006') and payment='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as rmb&quot;</span>)
6242:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id!</span>=<span class="ruby-keyword kw">nil</span>
6243:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id</span>.<span class="ruby-identifier">rmb</span>
6244:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6245:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6246:       <span class="ruby-keyword kw">else</span>
6247:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6248:       <span class="ruby-keyword kw">end</span>
6249:     <span class="ruby-keyword kw">else</span>
6250:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6251:     <span class="ruby-keyword kw">end</span>
6252:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000345" class="method-detail">
        <a name="M000345"></a>

        <div class="method-heading">
          <a href="#M000345" class="method-signature">
          <span class="method-name">respondent_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件被申请人仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000345-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000345-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6333</span>
6333:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
6334:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0004'&quot;</span>,<span class="ruby-identifier">code</span>])
6335:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6336:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
6337:       <span class="ruby-identifier">respondent_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
6338:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respondent_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
6339:         <span class="ruby-identifier">respondent_arbitrator</span> = <span class="ruby-identifier">respondent_arbitrator</span>.<span class="ruby-identifier">name</span>
6340:       <span class="ruby-keyword kw">else</span>
6341:         <span class="ruby-identifier">respondent_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6342:       <span class="ruby-keyword kw">end</span>
6343:     <span class="ruby-keyword kw">else</span>
6344:       <span class="ruby-identifier">respondent_arbitrator</span> = <span class="ruby-value str">&quot;_____&quot;</span>
6345:     <span class="ruby-keyword kw">end</span>
6346:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">respondent_arbitrator</span>
6347:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000336" class="method-detail">
        <a name="M000336"></a>

        <div class="method-heading">
          <a href="#M000336" class="method-signature">
          <span class="method-name">respondent_litigation_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
被申请人受理费、立案费
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000336-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000336-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6212</span>
6212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent_litigation_fee</span>(<span class="ruby-identifier">code</span>)
6213:     <span class="ruby-ivar">@s_id2</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and typ in ('0002','0005') and payment='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as rmb2&quot;</span>)
6214:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id2!</span>=<span class="ruby-keyword kw">nil</span>
6215:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id2</span>.<span class="ruby-identifier">rmb2</span>
6216:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6217:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6218:       <span class="ruby-keyword kw">else</span>
6219:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6220:       <span class="ruby-keyword kw">end</span>
6221:     <span class="ruby-keyword kw">else</span>
6222:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6223:     <span class="ruby-keyword kw">end</span>
6224:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000341" class="method-detail">
        <a name="M000341"></a>

        <div class="method-heading">
          <a href="#M000341" class="method-signature">
          <span class="method-name">respondent_other_fee</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
被申请人其他费用
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000341-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000341-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6277</span>
6277:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent_other_fee</span>(<span class="ruby-identifier">code</span>)
6278:     <span class="ruby-ivar">@s_id</span>=<span class="ruby-constant">TbShouldCharge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and recevice_code=? and (typ='0007' or typ='0008') and payment='0002'&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(rmb_money) as rmb&quot;</span>)
6279:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@s_id!</span>=<span class="ruby-keyword kw">nil</span>
6280:       <span class="ruby-ivar">@p_id</span>=<span class="ruby-ivar">@s_id</span>.<span class="ruby-identifier">rmb</span>
6281:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@p_id!</span>=<span class="ruby-keyword kw">nil</span>
6282:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p_id</span>.<span class="ruby-identifier">to_f</span>
6283:       <span class="ruby-keyword kw">else</span>
6284:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6285:       <span class="ruby-keyword kw">end</span>
6286:     <span class="ruby-keyword kw">else</span>
6287:       <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span>
6288:     <span class="ruby-keyword kw">end</span>
6289:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000248" class="method-detail">
        <a name="M000248"></a>

        <div class="method-heading">
          <a href="#M000248" class="method-signature">
          <span class="method-name">show</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000248-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000248-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 6</span>
  6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show</span>(<span class="ruby-identifier">doc_id</span>)
  7:     <span class="ruby-ivar">@doc</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
  8:     <span class="ruby-ivar">@recevice_code</span> = <span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">recevice_code</span>
  9:     <span class="ruby-ivar">@party_type</span> = <span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">obj</span>
 10:     <span class="ruby-ivar">@sub_code</span> = <span class="ruby-constant">TbDocFormat</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">typ_code</span>).<span class="ruby-identifier">sub_code</span>
 11:     <span class="ruby-comment cmt">#@ar_nu = TbDocFormat.find_by_code(@doc.typ_code).aribitprog_num</span>
 12:     <span class="ruby-ivar">@ar_nu</span> = <span class="ruby-constant">TbDocFormat</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">typ_code</span>).<span class="ruby-identifier">aribitprog_code</span>
 13:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt01&quot;</span>
 14:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt01</span>(<span class="ruby-ivar">@recevice_code</span>)
 15:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt02_1&quot;</span>
 16:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt02_1</span>(<span class="ruby-ivar">@recevice_code</span>)
 17:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt02_2&quot;</span>
 18:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt02_2</span>(<span class="ruby-ivar">@recevice_code</span>)
 19:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt03&quot;</span>
 20:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt03</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 21:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt04&quot;</span>
 22:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt04</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 23:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt05&quot;</span>
 24:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt05</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 25:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt06&quot;</span>
 26:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt06</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 27:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt07a&quot;</span>
 28:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt07ap</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 29:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt07b&quot;</span>
 30:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt07ap</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 31:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt07_2&quot;</span>
 32:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt07_2</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 33:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt08&quot;</span>
 34:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt08</span>(<span class="ruby-ivar">@recevice_code</span>)
 35:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt09&quot;</span>
 36:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt09</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 37:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt26&quot;</span>
 38:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt26</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 39:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt31&quot;</span>
 40:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt31</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 41:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt32&quot;</span>
 42:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt32</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 43:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfor03&quot;</span>
 44:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfor03</span>(<span class="ruby-ivar">@recevice_code</span>)
 45:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt04&quot;</span>
 46:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt04</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 47:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;ft04&quot;</span>
 48:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_ft04</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 49:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt05&quot;</span>
 50:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt05</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 51:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;ft05&quot;</span>
 52:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_ft05</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 53:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;ft05b&quot;</span>
 54:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_bft05</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 55:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt06&quot;</span>
 56:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt06</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 57:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;ft06&quot;</span>
 58:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_ft06</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 59:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;ft06b&quot;</span>
 60:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_bft06</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 61:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt08&quot;</span>
 62:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt08</span>(<span class="ruby-ivar">@recevice_code</span>)
 63:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt09&quot;</span>
 64:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt09</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 65:    <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt10_scia&quot;</span>
 66:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt10_scia</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)        
 67:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt11a&quot;</span>
 68:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt11a</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 69:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt17a&quot;</span>
 70:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt17a</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 71:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt12&quot;</span>
 72:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt12</span>(<span class="ruby-ivar">@recevice_code</span>)
 73:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt14&quot;</span>
 74:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt14</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 75:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt17b&quot;</span>
 76:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt17b</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 77:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt15&quot;</span>
 78:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt15</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 79:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt17&quot;</span>
 80:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt17</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 81:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt18&quot;</span>
 82:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt18</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 83:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt19&quot;</span>
 84:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt19</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 85:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt20&quot;</span>
 86:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt20</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 87:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt23b&quot;</span>
 88:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt23b</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-ivar">@ar_nu</span>)
 89:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt23c&quot;</span>
 90:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt23c</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-ivar">@ar_nu</span>)      
 91:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt23m&quot;</span>
 92:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt23m</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@ar_nu</span>)
 93:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt23e&quot;</span>
 94:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt23e</span>(<span class="ruby-ivar">@recevice_code</span>)
 95:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt24&quot;</span>
 96:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt24</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
 97:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt27&quot;</span>
 98:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt27</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
 99:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt31&quot;</span>
100:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt31</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
101:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt32&quot;</span>
102:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt32</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
103:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt33&quot;</span>
104:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt33</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
105:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt36&quot;</span>
106:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt36</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
107:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt37&quot;</span>
108:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt37</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
109:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt38&quot;</span>
110:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt38a</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-ivar">@ar_nu</span>)
111:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt39&quot;</span>
112:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt39</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-ivar">@ar_nu</span>)
113:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt39_scia&quot;</span>
114:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt39_scia</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>,<span class="ruby-ivar">@ar_nu</span>)      
115:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt40&quot;</span>
116:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt40</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
117:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt41&quot;</span>
118:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt41</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>,<span class="ruby-identifier">doc_id</span>)
119:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt42&quot;</span>
120:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt42</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
121:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt44&quot;</span>
122:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt44</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
123:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt45&quot;</span>
124:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt45</span>(<span class="ruby-identifier">doc_id</span>)
125:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt46&quot;</span>
126:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt46</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
127:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt47&quot;</span>
128:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt47</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@ar_nu</span>)
129:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt48&quot;</span>
130:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt48</span>(<span class="ruby-ivar">@recevice_code</span>)
131:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt49&quot;</span>
132:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt49</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>)
133:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt50&quot;</span>
134:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt50</span>(<span class="ruby-ivar">@recevice_code</span>)
135:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt51&quot;</span>
136:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt51</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-ivar">@party_type</span>)
137:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;for03&quot;</span>
138:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_for03</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
139:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fr03&quot;</span>
140:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fr03</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
141:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;head1&quot;</span>
142:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_head1</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
143:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt90&quot;</span>
144:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt90</span>(<span class="ruby-ivar">@recevice_code</span>)
145:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt91&quot;</span>
146:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt91</span>(<span class="ruby-ivar">@recevice_code</span>)
147:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;dfmt92&quot;</span>
148:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_dfmt92</span>(<span class="ruby-ivar">@recevice_code</span>)
149:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt53&quot;</span>
150:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt53</span>(<span class="ruby-ivar">@recevice_code</span>)
151:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt54&quot;</span>
152:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt54</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
153:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt55&quot;</span>
154:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt55</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
155:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt56&quot;</span>
156:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt56</span>(<span class="ruby-ivar">@recevice_code</span>)
157:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt57&quot;</span>
158:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt57</span>(<span class="ruby-ivar">@recevice_code</span>)
159:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt58&quot;</span>
160:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt58</span>(<span class="ruby-ivar">@recevice_code</span>)
161:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt59&quot;</span>
162:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt59</span>(<span class="ruby-ivar">@recevice_code</span>)
163:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt60&quot;</span>
164:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt60</span>(<span class="ruby-ivar">@recevice_code</span>)
165:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt161&quot;</span>
166:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt161</span>(<span class="ruby-ivar">@recevice_code</span>)
167:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt162&quot;</span>
168:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt162</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
169:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt163&quot;</span>
170:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt163</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)      
171:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@sub_code</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;fmt70&quot;</span>
172:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_fmt70</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>) 
173:     <span class="ruby-keyword kw">else</span>
174:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_head2</span>(<span class="ruby-ivar">@recevice_code</span>)
175:     <span class="ruby-keyword kw">end</span>
176:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;\n\r&quot;</span>)
177:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000250" class="method-detail">
        <a name="M000250"></a>

        <div class="method-heading">
          <a href="#M000250" class="method-signature">
          <span class="method-name">show_head_1</span><span class="method-args">(doc_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000250-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000250-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/doc_format.rb, line 268</span>
268:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show_head_1</span>(<span class="ruby-identifier">doc_id</span>)
269:     <span class="ruby-ivar">@doc</span> = <span class="ruby-constant">TbDoc</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">doc_id</span>)
270:     <span class="ruby-ivar">@recevice_code</span> = <span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">recevice_code</span>
271:     <span class="ruby-identifier">r</span> = <span class="ruby-identifier">format_letter_head1</span>(<span class="ruby-ivar">@recevice_code</span>,<span class="ruby-identifier">doc_id</span>)
272:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
273:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>