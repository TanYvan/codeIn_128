<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: SysArg</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">SysArg</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/models/sys_arg_rb.html">
                app/models/sys_arg.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                ActiveRecord::Base
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M002218">add_0001</a>&nbsp;&nbsp;
      <a href="#M002219">add_0002</a>&nbsp;&nbsp;
      <a href="#M002220">add_0003</a>&nbsp;&nbsp;
      <a href="#M002223">add_0005</a>&nbsp;&nbsp;
      <a href="#M002224">add_0005_1</a>&nbsp;&nbsp;
      <a href="#M002225">add_0006</a>&nbsp;&nbsp;
      <a href="#M002226">add_0006_1</a>&nbsp;&nbsp;
      <a href="#M002228">add_0006_1_next</a>&nbsp;&nbsp;
      <a href="#M002227">add_0006_next</a>&nbsp;&nbsp;
      <a href="#M002231">add_0007</a>&nbsp;&nbsp;
      <a href="#M002232">add_0008</a>&nbsp;&nbsp;
      <a href="#M002233">add_0009</a>&nbsp;&nbsp;
      <a href="#M002234">add_0009_2</a>&nbsp;&nbsp;
      <a href="#M002235">add_0010</a>&nbsp;&nbsp;
      <a href="#M002236">add_0011</a>&nbsp;&nbsp;
      <a href="#M002237">add_0021</a>&nbsp;&nbsp;
      <a href="#M002238">add_0022</a>&nbsp;&nbsp;
      <a href="#M002239">add_0031</a>&nbsp;&nbsp;
      <a href="#M002240">add_2011</a>&nbsp;&nbsp;
      <a href="#M002243">applicant</a>&nbsp;&nbsp;
      <a href="#M002246">applicant_arbitrator</a>&nbsp;&nbsp;
      <a href="#M002201">before_create</a>&nbsp;&nbsp;
      <a href="#M002202">before_save</a>&nbsp;&nbsp;
      <a href="#M002203">before_update</a>&nbsp;&nbsp;
      <a href="#M002245">chief_arbitrator</a>&nbsp;&nbsp;
      <a href="#M002212">commify1</a>&nbsp;&nbsp;
      <a href="#M002211">compart1</a>&nbsp;&nbsp;
      <a href="#M002213">compart2</a>&nbsp;&nbsp;
      <a href="#M002214">compart3</a>&nbsp;&nbsp;
      <a href="#M002215">compart8</a>&nbsp;&nbsp;
      <a href="#M002221">get_0004</a>&nbsp;&nbsp;
      <a href="#M002242">get_agent</a>&nbsp;&nbsp;
      <a href="#M002248">get_ar</a>&nbsp;&nbsp;
      <a href="#M002265">get_casebook</a>&nbsp;&nbsp;
      <a href="#M002269">get_d_money</a>&nbsp;&nbsp;
      <a href="#M002264">get_draft</a>&nbsp;&nbsp;
      <a href="#M002216">get_first_record</a>&nbsp;&nbsp;
      <a href="#M002241">get_fm</a>&nbsp;&nbsp;
      <a href="#M002270">get_i_money</a>&nbsp;&nbsp;
      <a href="#M002266">get_judge</a>&nbsp;&nbsp;
      <a href="#M002217">get_last_record</a>&nbsp;&nbsp;
      <a href="#M002252">get_pn1</a>&nbsp;&nbsp;
      <a href="#M002253">get_pn2</a>&nbsp;&nbsp;
      <a href="#M002254">get_pn3</a>&nbsp;&nbsp;
      <a href="#M002255">get_pn4</a>&nbsp;&nbsp;
      <a href="#M002256">get_pn5</a>&nbsp;&nbsp;
      <a href="#M002257">get_pn6</a>&nbsp;&nbsp;
      <a href="#M002258">get_pn_1</a>&nbsp;&nbsp;
      <a href="#M002259">get_pn_2</a>&nbsp;&nbsp;
      <a href="#M002260">get_pn_3</a>&nbsp;&nbsp;
      <a href="#M002261">get_pn_4</a>&nbsp;&nbsp;
      <a href="#M002262">get_pn_5</a>&nbsp;&nbsp;
      <a href="#M002263">get_pn_6</a>&nbsp;&nbsp;
      <a href="#M002251">get_pn_by_recevice_code</a>&nbsp;&nbsp;
      <a href="#M002273">get_reward_safe</a>&nbsp;&nbsp;
      <a href="#M002250">get_sign</a>&nbsp;&nbsp;
      <a href="#M002268">get_stime</a>&nbsp;&nbsp;
      <a href="#M002267">get_ymd</a>&nbsp;&nbsp;
      <a href="#M002249">independent_arbitrator</a>&nbsp;&nbsp;
      <a href="#M002205">lines_per_page</a>&nbsp;&nbsp;
      <a href="#M002206">n_to_c</a>&nbsp;&nbsp;
      <a href="#M002207">n_to_md</a>&nbsp;&nbsp;
      <a href="#M002272">num2chinese</a>&nbsp;&nbsp;
      <a href="#M002229">reduce_0006</a>&nbsp;&nbsp;
      <a href="#M002230">reduce_0006_1</a>&nbsp;&nbsp;
      <a href="#M002204">remind_runtime_from_now</a>&nbsp;&nbsp;
      <a href="#M002244">respondent</a>&nbsp;&nbsp;
      <a href="#M002247">respondent_arbitrator</a>&nbsp;&nbsp;
      <a href="#M002271">round2f</a>&nbsp;&nbsp;
      <a href="#M002208">round_0</a>&nbsp;&nbsp;
      <a href="#M002209">round_2</a>&nbsp;&nbsp;
      <a href="#M002210">round_3</a>&nbsp;&nbsp;
      <a href="#M002222">set_0004</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M002218" class="method-detail">
        <a name="M002218"></a>

        <div class="method-heading">
          <a href="#M002218" class="method-signature">
          <span class="method-name">add_0001</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
咨询流水号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002218-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002218-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 222</span>
222:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0001</span>
223:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
224:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0001'&quot;</span>)
225:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
226:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">4</span> )
227:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
228:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
229:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;0001&quot;</span>
230:     <span class="ruby-keyword kw">else</span>
231:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">9999</span>
232:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
233:       <span class="ruby-keyword kw">else</span>
234:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%04d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
235:       <span class="ruby-keyword kw">end</span>
236:     <span class="ruby-keyword kw">end</span>
237:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
238:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
239:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
240:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002219" class="method-detail">
        <a name="M002219"></a>

        <div class="method-heading">
          <a href="#M002219" class="method-signature">
          <span class="method-name">add_0002</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
案件号，即立案号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002219-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002219-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 243</span>
243:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0002</span>
244:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
245:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0002'&quot;</span>)
246:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
247:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">4</span>)
248:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
249:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
250:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
251:     <span class="ruby-keyword kw">else</span>
252:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">999</span>
253:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
254:       <span class="ruby-keyword kw">else</span>
255:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
256:       <span class="ruby-keyword kw">end</span>
257:     <span class="ruby-keyword kw">end</span>
258:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
259:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
260:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
261:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002220" class="method-detail">
        <a name="M002220"></a>

        <div class="method-heading">
          <a href="#M002220" class="method-signature">
          <span class="method-name">add_0003</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
总案号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002220-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002220-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 264</span>
264:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0003</span>
265:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
266:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0003'&quot;</span>)
267:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%010d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
268:     <span class="ruby-comment cmt">#r=s.val.to_i + 1</span>
269:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_s</span>
270:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
271:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
272:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002223" class="method-detail">
        <a name="M002223"></a>

        <div class="method-heading">
          <a href="#M002223" class="method-signature">
          <span class="method-name">add_0005</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
报酬待发编号_单位外 8位
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002223-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002223-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 304</span>
304:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0005</span>
305:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
306:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0005'&quot;</span>)
307:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%08d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
308:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
309:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
310:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
311:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002224" class="method-detail">
        <a name="M002224"></a>

        <div class="method-heading">
          <a href="#M002224" class="method-signature">
          <span class="method-name">add_0005_1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
员工报酬待发编号 9位
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002224-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002224-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 314</span>
314:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0005_1</span>
315:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
316:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0005_1'&quot;</span>)
317:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%09d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
318:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
319:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
320:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
321:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002225" class="method-detail">
        <a name="M002225"></a>

        <div class="method-heading">
          <a href="#M002225" class="method-signature">
          <span class="method-name">add_0006</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
报酬发放编号,外单位仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002225-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002225-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 324</span>
324:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0006</span>
325:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
326:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0006'&quot;</span>)
327:     <span class="ruby-identifier">old_ym</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)
328:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">6</span>,<span class="ruby-value">3</span>)
329:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)<span class="ruby-operator">+</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-value">2</span>)
330:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_ym</span>
331:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
332:     <span class="ruby-keyword kw">else</span>
333:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_ym</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
334:     <span class="ruby-keyword kw">end</span>
335:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
336:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
337:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
338:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002226" class="method-detail">
        <a name="M002226"></a>

        <div class="method-heading">
          <a href="#M002226" class="method-signature">
          <span class="method-name">add_0006_1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
报酬发放编号,本单位仲裁员及员工
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002226-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002226-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 341</span>
341:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0006_1</span>
342:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
343:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0006_1'&quot;</span>)
344:     <span class="ruby-identifier">old_ym</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)
345:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">6</span>,<span class="ruby-value">3</span>)
346:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)<span class="ruby-operator">+</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-value">2</span>)
347:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_ym</span>
348:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
349:     <span class="ruby-keyword kw">else</span>
350:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_ym</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
351:     <span class="ruby-keyword kw">end</span>
352:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
353:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
354:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
355:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002228" class="method-detail">
        <a name="M002228"></a>

        <div class="method-heading">
          <a href="#M002228" class="method-signature">
          <span class="method-name">add_0006_1_next</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
员工报酬发放编号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002228-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002228-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 375</span>
375:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0006_1_next</span>
376:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
377:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0006_1'&quot;</span>)
378:     <span class="ruby-identifier">old_ym</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)
379:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">6</span>,<span class="ruby-value">3</span>)
380:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)<span class="ruby-operator">+</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-value">2</span>)
381:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_ym</span>
382:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
383:     <span class="ruby-keyword kw">else</span>
384:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_ym</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
385:     <span class="ruby-keyword kw">end</span>
386:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
387:     <span class="ruby-comment cmt">#s.save</span>
388:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
389:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002227" class="method-detail">
        <a name="M002227"></a>

        <div class="method-heading">
          <a href="#M002227" class="method-signature">
          <span class="method-name">add_0006_next</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
报酬发放编号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002227-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002227-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 358</span>
358:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0006_next</span>
359:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
360:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0006'&quot;</span>)
361:     <span class="ruby-identifier">old_ym</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)
362:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">6</span>,<span class="ruby-value">3</span>)
363:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)<span class="ruby-operator">+</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">5</span>,<span class="ruby-value">2</span>)
364:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_ym</span>
365:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
366:     <span class="ruby-keyword kw">else</span>
367:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_ym</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
368:     <span class="ruby-keyword kw">end</span>
369:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
370:     <span class="ruby-comment cmt">#s.save</span>
371:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
372:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002231" class="method-detail">
        <a name="M002231"></a>

        <div class="method-heading">
          <a href="#M002231" class="method-signature">
          <span class="method-name">add_0007</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
文件内部流水号（发文中文件的内部流水号,与文件名称关联）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002231-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002231-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 418</span>
418:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0007</span>
419:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
420:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0007'&quot;</span>)
421:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
422:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-value">6</span>)
423:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
424:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
425:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;000001&quot;</span>
426:     <span class="ruby-keyword kw">else</span>
427:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%06d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
428:     <span class="ruby-keyword kw">end</span>
429:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
430:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
431:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
432:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002232" class="method-detail">
        <a name="M002232"></a>

        <div class="method-heading">
          <a href="#M002232" class="method-signature">
          <span class="method-name">add_0008</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员编码
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002232-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002232-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 435</span>
435:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0008</span>
436:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
437:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0008'&quot;</span>)
438:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%08d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
439:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
440:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
441:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
442:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002233" class="method-detail">
        <a name="M002233"></a>

        <div class="method-heading">
          <a href="#M002233" class="method-signature">
          <span class="method-name">add_0009</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发文编号规则1（发文中只有向外发的函才有的发文编号）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002233-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002233-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 445</span>
445:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0009</span>
446:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
447:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0009'&quot;</span>)
448:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
449:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-value">6</span>)
450:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
451:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
452:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;000001&quot;</span>
453:     <span class="ruby-keyword kw">else</span>
454:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%06d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
455:     <span class="ruby-keyword kw">end</span>
456:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
457:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
458:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
459:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002234" class="method-detail">
        <a name="M002234"></a>

        <div class="method-heading">
          <a href="#M002234" class="method-signature">
          <span class="method-name">add_0009_2</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
发文编号规则2（发文中只有向外发的函才有的发文编号）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002234-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002234-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0009_2</span>
463:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
464:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0009_2'&quot;</span>)
465:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
466:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-value">6</span>)
467:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
468:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
469:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;000001&quot;</span>
470:     <span class="ruby-keyword kw">else</span>
471:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%06d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
472:     <span class="ruby-keyword kw">end</span>
473:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
474:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
475:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
476:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002235" class="method-detail">
        <a name="M002235"></a>

        <div class="method-heading">
          <a href="#M002235" class="method-signature">
          <span class="method-name">add_0010</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
专家编码
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002235-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002235-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 479</span>
479:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0010</span>
480:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
481:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0010'&quot;</span>)
482:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%08d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
483:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
484:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
485:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
486:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002236" class="method-detail">
        <a name="M002236"></a>

        <div class="method-heading">
          <a href="#M002236" class="method-signature">
          <span class="method-name">add_0011</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
机构编码
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002236-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002236-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 488</span>
488:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0011</span>
489:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
490:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0011'&quot;</span>)
491:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%08d&quot;</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
492:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
493:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
494:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
495:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002237" class="method-detail">
        <a name="M002237"></a>

        <div class="method-heading">
          <a href="#M002237" class="method-signature">
          <span class="method-name">add_0021</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案号（裁决、和裁）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002237-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002237-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 497</span>
497:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0021</span>
498:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
499:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0021'&quot;</span>)
500:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
501:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">4</span>)
502:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
503:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
504:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
505:     <span class="ruby-keyword kw">else</span>
506:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">999</span>
507:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
508:       <span class="ruby-keyword kw">else</span>
509:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
510:       <span class="ruby-keyword kw">end</span>
511:     <span class="ruby-keyword kw">end</span>
512:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
513:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
514:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
515:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002238" class="method-detail">
        <a name="M002238"></a>

        <div class="method-heading">
          <a href="#M002238" class="method-signature">
          <span class="method-name">add_0022</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
结案号（撤案）
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002238-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002238-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 518</span>
518:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0022</span>
519:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
520:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0022'&quot;</span>)
521:     <span class="ruby-identifier">old_year</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
522:     <span class="ruby-identifier">old_c</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">4</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">4</span>)
523:     <span class="ruby-identifier">n</span>=<span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">4</span>)
524:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">old_year</span>
525:       <span class="ruby-identifier">r</span>=<span class="ruby-identifier">n</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;001&quot;</span>
526:     <span class="ruby-keyword kw">else</span>
527:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">999</span>
528:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
529:       <span class="ruby-keyword kw">else</span>
530:         <span class="ruby-identifier">r</span>=<span class="ruby-identifier">old_year</span><span class="ruby-operator">+</span><span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%03d&quot;</span>,<span class="ruby-identifier">old_c</span>.<span class="ruby-identifier">to_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
531:       <span class="ruby-keyword kw">end</span>
532:     <span class="ruby-keyword kw">end</span>
533:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
534:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
535:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
536:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002239" class="method-detail">
        <a name="M002239"></a>

        <div class="method-heading">
          <a href="#M002239" class="method-signature">
          <span class="method-name">add_0031</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
裁决书编号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002239-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002239-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 539</span>
539:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_0031</span>
540:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
541:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0031'&quot;</span>)
542:     <span class="ruby-comment cmt">#r=sprintf(&quot;%010d&quot;,s.val.to_i + 1)</span>
543:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
544:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_s</span>
545:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
546:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
547:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002240" class="method-detail">
        <a name="M002240"></a>

        <div class="method-heading">
          <a href="#M002240" class="method-signature">
          <span class="method-name">add_2011</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
外网用户编码
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002240-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002240-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 549</span>
549:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_2011</span>
550:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
551:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='2011'&quot;</span>)
552:     <span class="ruby-identifier">r</span>=(<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
553:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">r</span>
554:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
555:     <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;party#{r}&quot;</span>
556:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002243" class="method-detail">
        <a name="M002243"></a>

        <div class="method-heading">
          <a href="#M002243" class="method-signature">
          <span class="method-name">applicant</span><span class="method-args">(code,v1,v3)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002243-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002243-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 597</span>
597:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">applicant</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>,<span class="ruby-identifier">v3</span>)
598:     <span class="ruby-ivar">@applicants</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 1 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
599:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
600:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
601:     <span class="ruby-keyword kw">else</span>
602:       <span class="ruby-ivar">@applicant1</span> = <span class="ruby-value str">&quot;&quot;</span>
603:       <span class="ruby-identifier">i</span>=<span class="ruby-value">1</span>
604:       <span class="ruby-ivar">@last1</span> = <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span>
605:       <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
606:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicants</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
607:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
608:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last1</span>
609:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
610:             <span class="ruby-keyword kw">else</span>
611:               <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
612:             <span class="ruby-keyword kw">end</span>
613:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
614:             <span class="ruby-ivar">@applicant1</span> =<span class="ruby-ivar">@applicant1</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
615:           <span class="ruby-keyword kw">end</span>
616:         <span class="ruby-keyword kw">else</span>
617:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
618:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-value str">&quot;申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
619:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
620:             <span class="ruby-ivar">@applicant1</span>=<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
621:           <span class="ruby-keyword kw">end</span>
622:         <span class="ruby-keyword kw">end</span>
623:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
624:       <span class="ruby-keyword kw">end</span>      <span class="ruby-comment cmt">#  去掉最后的逗号 ,\r</span>
625:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@applicant1!</span>=<span class="ruby-value str">&quot;&quot;</span>
626:         <span class="ruby-ivar">@applicant1</span>=<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@applicant1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
627:       <span class="ruby-keyword kw">end</span>
628:     <span class="ruby-keyword kw">end</span>
629:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@applicant1</span>
630:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002212" class="method-detail">
        <a name="M002212"></a>

        <div class="method-heading">
          <a href="#M002212" class="method-signature">
          <span class="method-name">commify1</span><span class="method-args">(money1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002212-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002212-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 110</span>
110:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">commify1</span>(<span class="ruby-identifier">money1</span>)
111:     <span class="ruby-comment cmt">#    return price.to_s.gsub(/(￥d)(?=￥d{3}+$)/, '￥￥1,') #(日本使用方法)</span>
112:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">money1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/(\d)(?=\d{3}+$)/</span>, <span class="ruby-value str">'\\1,'</span>) <span class="ruby-comment cmt">#(中国区使用方法)</span>
113:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002211" class="method-detail">
        <a name="M002211"></a>

        <div class="method-heading">
          <a href="#M002211" class="method-signature">
          <span class="method-name">compart1</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
金额数字分割################### 如果为0则返回下划线
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002211-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002211-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 72</span>
 72:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">v</span>)
 73:     <span class="ruby-identifier">v1</span>=<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">v</span>)
 74:     <span class="ruby-identifier">str1</span>=<span class="ruby-identifier">v1</span>.<span class="ruby-identifier">to_s</span>
 75:     <span class="ruby-identifier">arr</span>=<span class="ruby-identifier">str1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>)
 76:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;&quot;</span>
 77:       <span class="ruby-ivar">@arr1</span>=<span class="ruby-identifier">commify1</span>(<span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span>
 78:     <span class="ruby-keyword kw">else</span>
 79:     <span class="ruby-keyword kw">end</span>
 80: 
 81:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;&quot;</span>
 82:       <span class="ruby-ivar">@arr2</span>=<span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]
 83:     <span class="ruby-keyword kw">else</span>
 84:     <span class="ruby-keyword kw">end</span>
 85: 
 86:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-keyword kw">nil</span>
 87:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
 88:         <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
 89:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rr</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
 90:           <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;_____&quot;</span>
 91:         <span class="ruby-keyword kw">end</span>
 92:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'0'</span> <span class="ruby-comment cmt">#  if arr[1].slice(arr[1].length-1)=='0'</span>
 93:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">2</span>
 94:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span>
 95:         <span class="ruby-keyword kw">else</span>
 96:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'0'</span>
 97:         <span class="ruby-keyword kw">end</span>
 98:       <span class="ruby-keyword kw">end</span>
 99:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
100:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
101:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
102:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rr</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
103:         <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;_____&quot;</span>
104:       <span class="ruby-keyword kw">end</span>
105:     <span class="ruby-keyword kw">else</span>
106:       <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;_____&quot;</span>
107:     <span class="ruby-keyword kw">end</span>
108:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rr</span>
109:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002213" class="method-detail">
        <a name="M002213"></a>

        <div class="method-heading">
          <a href="#M002213" class="method-signature">
          <span class="method-name">compart2</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
界面中分割 后 如果是0的返回为空
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002213-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002213-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 115</span>
115:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">compart2</span>(<span class="ruby-identifier">v</span>)
116:     <span class="ruby-comment cmt">#    v1=round_2(v)</span>
117:     <span class="ruby-identifier">str1</span>=<span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>
118:     <span class="ruby-identifier">arr</span>=<span class="ruby-identifier">str1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>)
119:     <span class="ruby-ivar">@arr1</span>=<span class="ruby-identifier">commify1</span>(<span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span>
120:     <span class="ruby-ivar">@arr2</span>=<span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]
121: 
122:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-keyword kw">nil</span>
123:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
124:         <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
125:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rr</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
126:           <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;&quot;</span>
127:         <span class="ruby-keyword kw">end</span>
128:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'0'</span>
129:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">2</span>
130:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span>
131:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#小数点后只有1位数时，加 0 保留2位。</span>
132:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'0'</span>
133:         <span class="ruby-keyword kw">end</span>
134:       <span class="ruby-keyword kw">end</span>
135:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
136:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
137:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
138:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rr</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
139:         <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;&quot;</span>
140:       <span class="ruby-keyword kw">end</span>
141:     <span class="ruby-keyword kw">else</span>
142:       <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;&quot;</span>
143:     <span class="ruby-keyword kw">end</span>
144:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rr</span>
145:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002214" class="method-detail">
        <a name="M002214"></a>

        <div class="method-heading">
          <a href="#M002214" class="method-signature">
          <span class="method-name">compart3</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
界面中分割 后 如果是0的返回为0
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002214-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002214-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">compart3</span>(<span class="ruby-identifier">v</span>)
149:     <span class="ruby-comment cmt">#    v1=round_2(v)</span>
150:     <span class="ruby-identifier">str1</span>=<span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>
151:     <span class="ruby-identifier">arr</span>=<span class="ruby-identifier">str1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>)
152:     <span class="ruby-ivar">@arr1</span>=<span class="ruby-identifier">commify1</span>(<span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span>
153:     <span class="ruby-ivar">@arr2</span>=<span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]
154: 
155:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-keyword kw">nil</span>
156:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
157:         <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
158:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'00'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-value str">'0'</span>
159:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">2</span>
160:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span>
161:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#小数点后只有1位数时，加 0 保留2位。</span>
162:           <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'0'</span>
163:         <span class="ruby-keyword kw">end</span>
164:       <span class="ruby-keyword kw">end</span>
165:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr1!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
166:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
167:     <span class="ruby-keyword kw">else</span>
168:       <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;&quot;</span>
169:     <span class="ruby-keyword kw">end</span>
170:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rr</span>
171:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002215" class="method-detail">
        <a name="M002215"></a>

        <div class="method-heading">
          <a href="#M002215" class="method-signature">
          <span class="method-name">compart8</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002215-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002215-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">compart8</span>(<span class="ruby-identifier">v</span>)
175:     <span class="ruby-identifier">v1</span>=<span class="ruby-identifier">v</span>
176:     <span class="ruby-identifier">str1</span>=<span class="ruby-identifier">v1</span>.<span class="ruby-identifier">to_s</span>
177:     <span class="ruby-identifier">arr</span>=<span class="ruby-identifier">str1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>)
178:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;&quot;</span>
179:       <span class="ruby-ivar">@arr1</span>=<span class="ruby-identifier">commify1</span>(<span class="ruby-identifier">arr</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span>
180:     <span class="ruby-keyword kw">else</span>
181:     <span class="ruby-keyword kw">end</span>
182: 
183:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;&quot;</span>
184:       <span class="ruby-ivar">@arr2</span>=<span class="ruby-identifier">arr</span>[<span class="ruby-value">1</span>]
185:     <span class="ruby-keyword kw">else</span>
186:     <span class="ruby-keyword kw">end</span>
187: 
188:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arr2!</span>=<span class="ruby-keyword kw">nil</span>
189:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span><span class="ruby-operator">+</span><span class="ruby-value str">'.'</span><span class="ruby-operator">+</span><span class="ruby-ivar">@arr2</span>
190:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@arr2</span><span class="ruby-operator">==</span><span class="ruby-keyword kw">nil</span>
191:       <span class="ruby-identifier">rr</span>=<span class="ruby-ivar">@arr1</span>
192:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rr</span><span class="ruby-operator">==</span><span class="ruby-value str">'0'</span>
193:         <span class="ruby-identifier">rr</span>=<span class="ruby-value str">&quot;&quot;</span>
194:       <span class="ruby-keyword kw">end</span>
195:     <span class="ruby-keyword kw">end</span>
196:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rr</span>
197:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002221" class="method-detail">
        <a name="M002221"></a>

        <div class="method-heading">
          <a href="#M002221" class="method-signature">
          <span class="method-name">get_0004</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
收款号&#8212;出纳
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002221-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002221-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 275</span>
275:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_0004</span>
276:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
277:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0004'&quot;</span>)
278:     <span class="ruby-identifier">r</span>=<span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
279:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>
280:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002242" class="method-detail">
        <a name="M002242"></a>

        <div class="method-heading">
          <a href="#M002242" class="method-signature">
          <span class="method-name">get_agent</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
代理人显示，以顿号隔开
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002242-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002242-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 584</span>
584:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_agent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
585:     <span class="ruby-ivar">@agents</span> = <span class="ruby-constant">TbAgent</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>])
586:     <span class="ruby-ivar">@agent1</span>=<span class="ruby-value str">&quot;&quot;</span>
587:     <span class="ruby-ivar">@agents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">agents</span><span class="ruby-operator">|</span>
588:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agents!</span>=<span class="ruby-keyword kw">nil</span>
589:         <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">agents</span>.<span class="ruby-identifier">company</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;、&quot;</span>
590:       <span class="ruby-keyword kw">end</span>
591:     <span class="ruby-keyword kw">end</span>
592:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@agent1!</span>=<span class="ruby-value str">&quot;&quot;</span>
593:       <span class="ruby-ivar">@agent1</span>=<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@agent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>)
594:     <span class="ruby-keyword kw">end</span>
595:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@agent1</span>
596:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002265" class="method-detail">
        <a name="M002265"></a>

        <div class="method-heading">
          <a href="#M002265" class="method-signature">
          <span class="method-name">get_casebook</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
起草裁决书
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002265-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002265-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1160</span>
1160:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_casebook</span>(<span class="ruby-identifier">code</span>)
1161:     <span class="ruby-identifier">casebook</span>=<span class="ruby-value str">&quot;&quot;</span>
1162:     <span class="ruby-identifier">a</span> = <span class="ruby-value str">&quot;&quot;</span>
1163:     <span class="ruby-identifier">aa</span>=<span class="ruby-value str">&quot;&quot;</span>
1164:     <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbAwardDetail</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select a.draftsman_typ as draftsman_typ,a.draftsman as draftsman,a.typ as typ from tb_award_details as a,tb_awards as aw where a.used='Y' and a.recevice_code='#{code}' and (a.typ='0003' or a.typ='0004') and a.recevice_code=aw.recevice_code and aw.used='Y' and a.p_id=aw.id&quot;</span>)
1165:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">award</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@award</span>
1166:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">award!</span>=<span class="ruby-keyword kw">nil</span>
1167:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span><span class="ruby-comment cmt">#仲裁员</span>
1168:           <span class="ruby-identifier">arbman</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;code=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span>])
1169:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arbman</span>
1170:             <span class="ruby-identifier">a</span>=<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;code=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span>]).<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
1171:           <span class="ruby-keyword kw">else</span>
1172:             <span class="ruby-identifier">a</span>=<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
1173:           <span class="ruby-keyword kw">end</span>
1174:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#助理</span>
1175:           <span class="ruby-identifier">u</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span>])
1176:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">u!</span>=<span class="ruby-keyword kw">nil</span>
1177:             <span class="ruby-identifier">a</span>=<span class="ruby-identifier">a</span><span class="ruby-operator">+</span> <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
1178:           <span class="ruby-keyword kw">end</span>
1179:         <span class="ruby-keyword kw">end</span>
1180:       <span class="ruby-keyword kw">end</span>
1181:       <span class="ruby-identifier">aa</span> = <span class="ruby-constant">TbDictionary</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;typ_code='0059' and used='Y' and state='Y' and data_val=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">typ</span>]).<span class="ruby-identifier">data_text</span>
1182:     <span class="ruby-keyword kw">end</span>
1183:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">aa!</span>=<span class="ruby-value str">&quot;&quot;</span>
1184:       <span class="ruby-identifier">casebook</span> = <span class="ruby-identifier">aa</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;：&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>
1185:     <span class="ruby-keyword kw">else</span>
1186:       <span class="ruby-identifier">casebook</span> = <span class="ruby-value str">&quot;&quot;</span>
1187:     <span class="ruby-keyword kw">end</span>
1188:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">casebook</span>
1189:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002269" class="method-detail">
        <a name="M002269"></a>

        <div class="method-heading">
          <a href="#M002269" class="method-signature">
          <span class="method-name">get_d_money</span><span class="method-args">(code,typ,p_id,pv)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
变 更 仲 裁 费 用 审 批 表：明确金额；不明确金额
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002269-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1217</span>
1217:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_d_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">p_id</span>,<span class="ruby-identifier">pv</span>)
1218:     <span class="ruby-ivar">@account2</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0001' and typ= ? and parent_id=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">p_id</span>,<span class="ruby-identifier">pv</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
1219:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account2</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
1220:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
1221:       <span class="ruby-ivar">@account2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
1222:         <span class="ruby-ivar">@d_m</span> = <span class="ruby-ivar">@d_m</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
1223:       <span class="ruby-keyword kw">end</span>
1224:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m!</span>=<span class="ruby-value str">&quot;&quot;</span>
1225:         <span class="ruby-ivar">@d_m</span> =<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
1226:       <span class="ruby-keyword kw">end</span>
1227:     <span class="ruby-keyword kw">else</span>
1228:       <span class="ruby-ivar">@d_m</span>=<span class="ruby-value str">&quot;&quot;</span>
1229:     <span class="ruby-keyword kw">end</span>
1230:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m</span>
1231:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002264" class="method-detail">
        <a name="M002264"></a>

        <div class="method-heading">
          <a href="#M002264" class="method-signature">
          <span class="method-name">get_draft</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
起草案情 还是
仲裁庭意见，案件基本情况界面——3处共用
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002264-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1142</span>
1142:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_draft</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
1143:     <span class="ruby-identifier">a</span> = <span class="ruby-value str">&quot;&quot;</span>
1144:     <span class="ruby-ivar">@award</span>=<span class="ruby-constant">TbAwardDetail</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select a.draftsman_typ as draftsman_typ,a.draftsman as draftsman from tb_award_details as a,tb_awards as aw where a.used='Y' and a.recevice_code='#{code}' and a.typ='#{v}' and a.recevice_code=aw.recevice_code and aw.used='Y' and a.p_id=aw.id&quot;</span>)
1145:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">award</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@award</span>
1146:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">award!</span>=<span class="ruby-keyword kw">nil</span>
1147:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman_typ</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
1148:           <span class="ruby-identifier">a</span>=<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span>]).<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
1149:         <span class="ruby-keyword kw">else</span>
1150:           <span class="ruby-identifier">u</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">award</span>.<span class="ruby-identifier">draftsman</span>])
1151:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">u!</span>=<span class="ruby-keyword kw">nil</span>
1152:             <span class="ruby-identifier">a</span>=<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
1153:           <span class="ruby-keyword kw">end</span>
1154:         <span class="ruby-keyword kw">end</span>
1155:       <span class="ruby-keyword kw">end</span>
1156:     <span class="ruby-keyword kw">end</span>
1157:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>
1158:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002216" class="method-detail">
        <a name="M002216"></a>

        <div class="method-heading">
          <a href="#M002216" class="method-signature">
          <span class="method-name">get_first_record</span><span class="method-args">(obj)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002216-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002216-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 199</span>
199:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-identifier">obj</span>)
200:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">empty?</span>
201:       <span class="ruby-identifier">rrr</span>=<span class="ruby-keyword kw">nil</span>
202:     <span class="ruby-keyword kw">else</span>
203:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">ob</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">obj</span>
204:         <span class="ruby-identifier">rrr</span>=<span class="ruby-identifier">ob</span>
205:         <span class="ruby-keyword kw">break</span>;
206:       <span class="ruby-keyword kw">end</span>
207:     <span class="ruby-keyword kw">end</span>
208:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>
209:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002241" class="method-detail">
        <a name="M002241"></a>

        <div class="method-heading">
          <a href="#M002241" class="method-signature">
          <span class="method-name">get_fm</span><span class="method-args">(code,v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
本、反请求争议金额和，不同币种
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002241-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002241-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 558</span>
558:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_fm</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>)
559:     <span class="ruby-ivar">@account2</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and typ&lt;&gt;'0003' and partytype=? and currency&lt;&gt;''&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency,sum(f_money) as f_money&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
560:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account2</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
561:       <span class="ruby-identifier">r1</span>=<span class="ruby-value str">&quot;&quot;</span>
562:       <span class="ruby-ivar">@account2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">acc</span><span class="ruby-operator">|</span>
563:         <span class="ruby-identifier">f1</span>=<span class="ruby-identifier">acc</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>
564:         <span class="ruby-ivar">@account21</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">:f_money</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code=? and used='Y' and typ='0003' and partytype=? and currency=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v</span>,<span class="ruby-identifier">acc</span>.<span class="ruby-identifier">currency</span>])
565:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@account21!</span>=<span class="ruby-keyword kw">nil</span>
566:           <span class="ruby-identifier">f2</span>=<span class="ruby-ivar">@account21</span>.<span class="ruby-identifier">to_f</span>
567:         <span class="ruby-keyword kw">else</span>
568:           <span class="ruby-identifier">f2</span>=<span class="ruby-value">0</span>
569:         <span class="ruby-keyword kw">end</span>
570:         <span class="ruby-identifier">f</span> = <span class="ruby-identifier">f1</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">f2</span>
571:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
572:           <span class="ruby-identifier">r1</span> =<span class="ruby-identifier">r1</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">acc</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
573:         <span class="ruby-keyword kw">else</span>
574:           <span class="ruby-identifier">r1</span> =<span class="ruby-identifier">r1</span><span class="ruby-operator">+</span><span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">acc</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
575:         <span class="ruby-keyword kw">end</span>
576:       <span class="ruby-keyword kw">end</span>
577:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r1!</span>=<span class="ruby-value str">&quot;&quot;</span>
578:         <span class="ruby-identifier">r1</span>=<span class="ruby-identifier">r1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-identifier">r1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
579:       <span class="ruby-keyword kw">end</span>
580:     <span class="ruby-keyword kw">end</span>
581:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r1</span>
582:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002270" class="method-detail">
        <a name="M002270"></a>

        <div class="method-heading">
          <a href="#M002270" class="method-signature">
          <span class="method-name">get_i_money</span><span class="method-args">(code,typ,p_id,pv)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002270-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1232</span>
1232:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_i_money</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">p_id</span>,<span class="ruby-identifier">pv</span>)
1233:     <span class="ruby-ivar">@account4</span> = <span class="ruby-constant">TbCaseAmountDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;recevice_code= ? and used='Y' and amount_typ= '0002' and typ=? and parent_id=? and partytype=?&quot;</span>,<span class="ruby-identifier">code</span>,<span class="ruby-identifier">typ</span>,<span class="ruby-identifier">p_id</span>,<span class="ruby-identifier">pv</span>],<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(f_money) as f_money,currency&quot;</span>,<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;currency&quot;</span>)
1234:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">PubTool</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">get_first_record</span>(<span class="ruby-ivar">@account4</span>)<span class="ruby-operator">!=</span><span class="ruby-keyword kw">nil</span>
1235:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
1236:       <span class="ruby-ivar">@account4</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac</span><span class="ruby-operator">|</span>
1237:         <span class="ruby-ivar">@d_m2</span> = <span class="ruby-ivar">@d_m2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">currency</span>) <span class="ruby-operator">+</span> <span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">compart1</span>(<span class="ruby-identifier">ac</span>.<span class="ruby-identifier">f_money</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
1238:       <span class="ruby-keyword kw">end</span>
1239:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@d_m2!</span>=<span class="ruby-value str">&quot;&quot;</span>
1240:         <span class="ruby-ivar">@d_m2</span> =<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@d_m2</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
1241:       <span class="ruby-keyword kw">end</span>
1242:     <span class="ruby-keyword kw">else</span>
1243:       <span class="ruby-ivar">@d_m2</span>=<span class="ruby-value str">&quot;&quot;</span>
1244:     <span class="ruby-keyword kw">end</span>
1245:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@d_m2</span>
1246:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002266" class="method-detail">
        <a name="M002266"></a>

        <div class="method-heading">
          <a href="#M002266" class="method-signature">
          <span class="method-name">get_judge</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
裁决书评分
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002266-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1191</span>
1191:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_judge</span>(<span class="ruby-identifier">code</span>)
1192:     <span class="ruby-ivar">@judge</span>=<span class="ruby-constant">TbAwardJudge</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:select=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;sum(score) as sc,count(id) as sd&quot;</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and recevice_code=?&quot;</span>,<span class="ruby-identifier">code</span>],<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id desc&quot;</span>)
1193:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@judge!</span>=<span class="ruby-keyword kw">nil</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@judge</span>.<span class="ruby-identifier">sd</span>.<span class="ruby-identifier">to_i!</span>=<span class="ruby-value">0</span>
1194:       <span class="ruby-identifier">a</span> = <span class="ruby-ivar">@judge</span>.<span class="ruby-identifier">sc</span>.<span class="ruby-identifier">to_f</span><span class="ruby-operator">/</span><span class="ruby-ivar">@judge</span>.<span class="ruby-identifier">sd</span>.<span class="ruby-identifier">to_i</span>
1195:     <span class="ruby-keyword kw">else</span>
1196:       <span class="ruby-identifier">a</span> = <span class="ruby-value str">&quot;&quot;</span>
1197:     <span class="ruby-keyword kw">end</span>
1198:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>
1199:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002217" class="method-detail">
        <a name="M002217"></a>

        <div class="method-heading">
          <a href="#M002217" class="method-signature">
          <span class="method-name">get_last_record</span><span class="method-args">(obj)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002217-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002217-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 210</span>
210:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_last_record</span>(<span class="ruby-identifier">obj</span>)
211:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">empty?</span>
212:       <span class="ruby-identifier">rrr</span>=<span class="ruby-keyword kw">nil</span>
213:     <span class="ruby-keyword kw">else</span>
214:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">ob</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">obj</span>
215:         <span class="ruby-identifier">rrr</span>=<span class="ruby-identifier">ob</span>
216:       <span class="ruby-keyword kw">end</span>
217:     <span class="ruby-keyword kw">end</span>
218:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>
219:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002252" class="method-detail">
        <a name="M002252"></a>

        <div class="method-heading">
          <a href="#M002252" class="method-signature">
          <span class="method-name">get_pn1</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
当事人所在地区数量
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002252-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002252-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 804</span>
804:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn1</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
805:     <span class="ruby-ivar">@p1</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为深圳市</span>
806:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
807:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
808:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
809:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
810:         <span class="ruby-ivar">@v_list2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
811:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v!</span>=<span class="ruby-keyword kw">nil</span>
812:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
813:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'001001001'</span>
814:                 <span class="ruby-ivar">@p1</span> = <span class="ruby-ivar">@p1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
815:               <span class="ruby-keyword kw">end</span>
816:             <span class="ruby-keyword kw">end</span>
817:           <span class="ruby-keyword kw">end</span>
818:         <span class="ruby-keyword kw">end</span>
819:       <span class="ruby-keyword kw">end</span>
820:     <span class="ruby-keyword kw">end</span>
821:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p1</span>
822:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002253" class="method-detail">
        <a name="M002253"></a>

        <div class="method-heading">
          <a href="#M002253" class="method-signature">
          <span class="method-name">get_pn2</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002253-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002253-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 823</span>
823:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn2</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
824:     <span class="ruby-ivar">@p2</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为广东其他地区（除深圳市以外）</span>
825:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
826:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
827:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
828:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select p.area as tb_parties_area from tb_cases as c,tb_parties as p where c.recevice_code='#{vv.tb_cases_recevice_code}' and c.nowdate&gt;='#{d1}' and c.nowdate&lt;='#{d2}' and c.agent='#{agent}' and c.recevice_code=p.recevice_code and p.area&lt;&gt;''&quot;</span>)
829:         <span class="ruby-ivar">@v_list2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
830:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v!</span>=<span class="ruby-keyword kw">nil</span>
831:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
832:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-value str">'001001001'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001&quot;</span>
833:                 <span class="ruby-ivar">@p2</span> = <span class="ruby-ivar">@p2</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
834:               <span class="ruby-keyword kw">end</span>
835:             <span class="ruby-keyword kw">end</span>
836:           <span class="ruby-keyword kw">end</span>
837:         <span class="ruby-keyword kw">end</span>
838: 
839:       <span class="ruby-keyword kw">end</span>
840:     <span class="ruby-keyword kw">end</span>
841:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p2</span>
842:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002254" class="method-detail">
        <a name="M002254"></a>

        <div class="method-heading">
          <a href="#M002254" class="method-signature">
          <span class="method-name">get_pn3</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002254-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002254-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 843</span>
843:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn3</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
844:     <span class="ruby-ivar">@p3</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为香港地区</span>
845:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
846:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
847:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
848:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;'' and tb_parties_area='002'&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
849:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@v_list2!</span>=<span class="ruby-keyword kw">nil</span>
850:           <span class="ruby-ivar">@p3</span> = <span class="ruby-ivar">@p3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
851:         <span class="ruby-keyword kw">end</span>
852:       <span class="ruby-keyword kw">end</span>
853:     <span class="ruby-keyword kw">end</span>
854:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p3</span>
855:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002255" class="method-detail">
        <a name="M002255"></a>

        <div class="method-heading">
          <a href="#M002255" class="method-signature">
          <span class="method-name">get_pn4</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002255-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002255-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 856</span>
856:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn4</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
857:     <span class="ruby-ivar">@p4</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#双方都是广东以外地区</span>
858:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
859:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
860:       <span class="ruby-comment cmt">#      if vv!=nil</span>
861:       <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
862:       <span class="ruby-comment cmt">#        pa2=0</span>
863:       <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
864:       <span class="ruby-comment cmt">#        p2 = VCaseQuery1List1.find(:all,:conditions=&gt;[&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_partytype=2&quot;,vv.tb_cases_recevice_code,d1,d2,agent])</span>
865:       <span class="ruby-comment cmt">#        p_12=p1.length+p2.length</span>
866:       <span class="ruby-comment cmt">#申请人 被申请人</span>
867:       <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
868:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1!</span>=<span class="ruby-keyword kw">nil</span>
869:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
870:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001001&quot;</span>
871:               <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
872:             <span class="ruby-keyword kw">end</span>
873:           <span class="ruby-keyword kw">end</span>
874:         <span class="ruby-keyword kw">end</span>
875:       <span class="ruby-keyword kw">end</span>
876:       <span class="ruby-comment cmt">#被申请人</span>
877:       <span class="ruby-comment cmt">#        p2.each do |p_2|</span>
878:       <span class="ruby-comment cmt">#          if p_2!=nil</span>
879:       <span class="ruby-comment cmt">#            if p_2.tb_parties_area!=nil</span>
880:       <span class="ruby-comment cmt">#              if p_2.tb_parties_area.slice(0,6)!=&quot;001001&quot;</span>
881:       <span class="ruby-comment cmt">#                pa2=pa2+1</span>
882:       <span class="ruby-comment cmt">#              end</span>
883:       <span class="ruby-comment cmt">#            end</span>
884:       <span class="ruby-comment cmt">#          end</span>
885:       <span class="ruby-comment cmt">#        end</span>
886:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pa1</span><span class="ruby-operator">==</span><span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span>
887:         <span class="ruby-ivar">@p4</span>=<span class="ruby-ivar">@p4</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
888:       <span class="ruby-keyword kw">end</span>
889:       <span class="ruby-comment cmt">#      end</span>
890:     <span class="ruby-keyword kw">end</span>
891:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p4</span>
892:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002256" class="method-detail">
        <a name="M002256"></a>

        <div class="method-heading">
          <a href="#M002256" class="method-signature">
          <span class="method-name">get_pn5</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002256-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 893</span>
893:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn5</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
894:     <span class="ruby-ivar">@p5</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#双方都是外国</span>
895:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
896:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
897:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
898:         <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
899:         <span class="ruby-comment cmt">#        pa2=0</span>
900:         <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
901:         <span class="ruby-comment cmt">#        p2 = VCaseQuery1List1.find(:all,:conditions=&gt;[&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_partytype=2&quot;,vv.tb_cases_recevice_code,d1,d2,agent])</span>
902:         <span class="ruby-comment cmt">#        p_12=p1.length+p2.length</span>
903:         <span class="ruby-comment cmt">#申请人是国外的</span>
904:         <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
905:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1!</span>=<span class="ruby-keyword kw">nil</span>
906:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
907:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001&quot;</span>
908:                 <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
909:               <span class="ruby-keyword kw">end</span>
910:             <span class="ruby-keyword kw">end</span>
911:           <span class="ruby-keyword kw">end</span>
912:         <span class="ruby-keyword kw">end</span>
913:         <span class="ruby-comment cmt">#被申请人是国外的</span>
914:         <span class="ruby-comment cmt">#        p2.each do |p_2|</span>
915:         <span class="ruby-comment cmt">#          if p_2!=nil</span>
916:         <span class="ruby-comment cmt">#            if p_2.tb_parties_area!=nil</span>
917:         <span class="ruby-comment cmt">#              if p_2.tb_parties_area.slice(0,3)!=&quot;001&quot;</span>
918:         <span class="ruby-comment cmt">#                pa2=pa2+1</span>
919:         <span class="ruby-comment cmt">#              end</span>
920:         <span class="ruby-comment cmt">#            end</span>
921:         <span class="ruby-comment cmt">#          end</span>
922:         <span class="ruby-comment cmt">#        end</span>
923:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pa1</span><span class="ruby-operator">==</span><span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span>
924:           <span class="ruby-ivar">@p5</span>=<span class="ruby-ivar">@p5</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
925:         <span class="ruby-keyword kw">end</span>
926:       <span class="ruby-keyword kw">end</span>
927:     <span class="ruby-keyword kw">end</span>
928:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p5</span>
929:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002257" class="method-detail">
        <a name="M002257"></a>

        <div class="method-heading">
          <a href="#M002257" class="method-signature">
          <span class="method-name">get_pn6</span><span class="method-args">(d1,d2,agent)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002257-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 930</span>
930:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn6</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>)
931:     <span class="ruby-ivar">@p6</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#一方为广东以外地区，另一方为外国</span>
932:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
933:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
934:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
935:         <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
936:         <span class="ruby-identifier">pa2</span>=<span class="ruby-value">0</span>
937:         <span class="ruby-identifier">pa3</span>=<span class="ruby-value">0</span>
938:         <span class="ruby-identifier">pa4</span>=<span class="ruby-value">0</span>
939:         <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_partytype=1 and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
940:         <span class="ruby-identifier">p2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_cases_agent=? and tb_parties_partytype=2 and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>,<span class="ruby-identifier">agent</span>])
941:         <span class="ruby-identifier">p_12</span>=<span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">+</span><span class="ruby-identifier">p2</span>.<span class="ruby-identifier">length</span>
942:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p1!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#申请人是国内广东省以外的</span>
943:           <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
944:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
945:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-keyword kw">and</span>  <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001001&quot;</span>
946:                 <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
947:               <span class="ruby-keyword kw">end</span>
948:               <span class="ruby-comment cmt">#申请人是国外的</span>
949:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001&quot;</span>
950:                 <span class="ruby-identifier">pa3</span>=<span class="ruby-identifier">pa3</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
951:               <span class="ruby-keyword kw">end</span>
952:             <span class="ruby-keyword kw">end</span>
953:           <span class="ruby-keyword kw">end</span>
954:         <span class="ruby-keyword kw">end</span>
955:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p2!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#被申请人是国外的</span>
956:           <span class="ruby-identifier">p2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_2</span><span class="ruby-operator">|</span>
957:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
958:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001&quot;</span>
959:                 <span class="ruby-identifier">pa2</span>=<span class="ruby-identifier">pa2</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
960:               <span class="ruby-keyword kw">end</span>
961:               <span class="ruby-comment cmt">#被申请人是国内广东省以外的</span>
962:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span> <span class="ruby-keyword kw">and</span>  <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001001&quot;</span>
963:                 <span class="ruby-identifier">pa4</span>=<span class="ruby-identifier">pa4</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
964:               <span class="ruby-keyword kw">end</span>
965:             <span class="ruby-keyword kw">end</span>
966:           <span class="ruby-keyword kw">end</span>
967:         <span class="ruby-keyword kw">end</span>
968:         <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-identifier">pa2</span>)<span class="ruby-operator">==</span><span class="ruby-identifier">p_12</span> <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">pa3</span><span class="ruby-operator">+</span><span class="ruby-identifier">pa4</span>)<span class="ruby-operator">==</span><span class="ruby-identifier">p_12</span>
969:           <span class="ruby-ivar">@p6</span>=<span class="ruby-ivar">@p6</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
970:         <span class="ruby-keyword kw">end</span>
971:       <span class="ruby-keyword kw">end</span>
972:     <span class="ruby-keyword kw">end</span>
973:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p6</span>
974:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002258" class="method-detail">
        <a name="M002258"></a>

        <div class="method-heading">
          <a href="#M002258" class="method-signature">
          <span class="method-name">get_pn_1</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
不分仲裁机构，统计每列所有的
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002258-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 976</span>
976:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_1</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
977:     <span class="ruby-ivar">@p1</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为深圳市</span>
978:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
979:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
980:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
981:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
982:         <span class="ruby-ivar">@v_list2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
983:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v!</span>=<span class="ruby-keyword kw">nil</span>
984:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
985:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area</span><span class="ruby-operator">==</span><span class="ruby-value str">'001001001'</span>
986:                 <span class="ruby-ivar">@p1</span> = <span class="ruby-ivar">@p1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
987:               <span class="ruby-keyword kw">end</span>
988:             <span class="ruby-keyword kw">end</span>
989:           <span class="ruby-keyword kw">end</span>
990:         <span class="ruby-keyword kw">end</span>
991:       <span class="ruby-keyword kw">end</span>
992:     <span class="ruby-keyword kw">end</span>
993:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p1</span>
994:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002259" class="method-detail">
        <a name="M002259"></a>

        <div class="method-heading">
          <a href="#M002259" class="method-signature">
          <span class="method-name">get_pn_2</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002259-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 995</span>
 995:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_2</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
 996:     <span class="ruby-ivar">@p2</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为广东其他地区（除深圳市以外）</span>
 997:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
 998:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
 999:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
1000:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1001:         <span class="ruby-ivar">@v_list2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
1002:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v!</span>=<span class="ruby-keyword kw">nil</span>
1003:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
1004:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-value str">'001001001'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001001&quot;</span>
1005:                 <span class="ruby-ivar">@p2</span> = <span class="ruby-ivar">@p2</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
1006:               <span class="ruby-keyword kw">end</span>
1007:             <span class="ruby-keyword kw">end</span>
1008:           <span class="ruby-keyword kw">end</span>
1009:         <span class="ruby-keyword kw">end</span>
1010:       <span class="ruby-keyword kw">end</span>
1011:     <span class="ruby-keyword kw">end</span>
1012:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p2</span>
1013:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002260" class="method-detail">
        <a name="M002260"></a>

        <div class="method-heading">
          <a href="#M002260" class="method-signature">
          <span class="method-name">get_pn_3</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002260-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1014</span>
1014:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_3</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
1015:     <span class="ruby-ivar">@p3</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#至少一方为香港地区</span>
1016:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
1017:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
1018:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
1019:         <span class="ruby-ivar">@v_list2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''  and tb_parties_area='002'&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1020:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@v_list2!</span>=<span class="ruby-keyword kw">nil</span>
1021:           <span class="ruby-ivar">@p3</span> = <span class="ruby-ivar">@p3</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
1022:         <span class="ruby-keyword kw">end</span>
1023:       <span class="ruby-keyword kw">end</span>
1024:     <span class="ruby-keyword kw">end</span>
1025:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002261" class="method-detail">
        <a name="M002261"></a>

        <div class="method-heading">
          <a href="#M002261" class="method-signature">
          <span class="method-name">get_pn_4</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002261-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1026</span>
1026:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_4</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
1027:     <span class="ruby-ivar">@p4</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#双方都是广东以外地区</span>
1028:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
1029:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
1030:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
1031:         <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
1032:         <span class="ruby-comment cmt">#        pa2=0</span>
1033:         <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_agent=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1034:         <span class="ruby-comment cmt">#        p2 = VCaseQuery1List1.find(:all,:conditions=&gt;[&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_agent=? and tb_parties_partytype=2&quot;,vv.tb_cases_recevice_code,d1,d2])</span>
1035:         <span class="ruby-comment cmt">#        p_12=p1.length+p2.length</span>
1036:         <span class="ruby-comment cmt">#申请人</span>
1037:         <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
1038:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1!</span>=<span class="ruby-keyword kw">nil</span>
1039:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
1040:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">6</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001001&quot;</span>
1041:                 <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1042:               <span class="ruby-keyword kw">end</span>
1043:             <span class="ruby-keyword kw">end</span>
1044:           <span class="ruby-keyword kw">end</span>
1045:         <span class="ruby-keyword kw">end</span>
1046:         <span class="ruby-comment cmt">#被申请人</span>
1047:         <span class="ruby-comment cmt">#        p2.each do |p_2|</span>
1048:         <span class="ruby-comment cmt">#          if p_2!=nil</span>
1049:         <span class="ruby-comment cmt">#            if p_2.tb_parties_area!=nil</span>
1050:         <span class="ruby-comment cmt">#              if p_2.tb_parties_area.slice(0,6)!=&quot;001001&quot;</span>
1051:         <span class="ruby-comment cmt">#                pa2=pa2+1</span>
1052:         <span class="ruby-comment cmt">#              end</span>
1053:         <span class="ruby-comment cmt">#            end</span>
1054:         <span class="ruby-comment cmt">#          end</span>
1055:         <span class="ruby-comment cmt">#        end</span>
1056:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pa1</span><span class="ruby-operator">==</span><span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span>
1057:           <span class="ruby-ivar">@p4</span>=<span class="ruby-ivar">@p4</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1058:         <span class="ruby-keyword kw">end</span>
1059:       <span class="ruby-keyword kw">end</span>
1060:     <span class="ruby-keyword kw">end</span>
1061:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p4</span>
1062:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002262" class="method-detail">
        <a name="M002262"></a>

        <div class="method-heading">
          <a href="#M002262" class="method-signature">
          <span class="method-name">get_pn_5</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002262-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1063</span>
1063:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_5</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
1064:     <span class="ruby-ivar">@p5</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#双方都是外国</span>
1065:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
1066:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
1067:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
1068:         <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
1069:         <span class="ruby-comment cmt">#        pa2=0</span>
1070:         <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1071:         <span class="ruby-comment cmt">#        p2 = VCaseQuery1List1.find(:all,:conditions=&gt;[&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_partytype=2&quot;,vv.tb_cases_recevice_code,d1,d2])</span>
1072:         <span class="ruby-comment cmt">#        p_12=p1.length+p2.length</span>
1073:         <span class="ruby-comment cmt">#申请人是国外的</span>
1074:         <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
1075:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1!</span>=<span class="ruby-keyword kw">nil</span>
1076:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
1077:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001&quot;</span>
1078:                 <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1079:               <span class="ruby-keyword kw">end</span>
1080:             <span class="ruby-keyword kw">end</span>
1081:           <span class="ruby-keyword kw">end</span>
1082:         <span class="ruby-keyword kw">end</span>
1083:         <span class="ruby-comment cmt">#被申请人是国外的</span>
1084:         <span class="ruby-comment cmt">#        p2.each do |p_2|</span>
1085:         <span class="ruby-comment cmt">#          if p_2!=nil</span>
1086:         <span class="ruby-comment cmt">#            if p_2.tb_parties_area!=nil</span>
1087:         <span class="ruby-comment cmt">#              if p_2.tb_parties_area.slice(0,3)!=&quot;001&quot;</span>
1088:         <span class="ruby-comment cmt">#                pa2=pa2+1</span>
1089:         <span class="ruby-comment cmt">#              end</span>
1090:         <span class="ruby-comment cmt">#            end</span>
1091:         <span class="ruby-comment cmt">#          end</span>
1092:         <span class="ruby-comment cmt">#        end</span>
1093:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pa1</span><span class="ruby-operator">==</span><span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span>
1094:           <span class="ruby-ivar">@p5</span>=<span class="ruby-ivar">@p5</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1095:         <span class="ruby-keyword kw">end</span>
1096:       <span class="ruby-keyword kw">end</span>
1097:     <span class="ruby-keyword kw">end</span>
1098:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p5</span>
1099:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002263" class="method-detail">
        <a name="M002263"></a>

        <div class="method-heading">
          <a href="#M002263" class="method-signature">
          <span class="method-name">get_pn_6</span><span class="method-args">(d1,d2)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002263-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1100</span>
1100:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_6</span>(<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>)
1101:     <span class="ruby-ivar">@p6</span> = <span class="ruby-value">0</span> <span class="ruby-comment cmt">#一方为外地，另一方为外国</span>
1102:     <span class="ruby-ivar">@v_list</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>],<span class="ruby-identifier">:group=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;tb_cases_recevice_code&quot;</span>)
1103:     <span class="ruby-ivar">@v_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vv</span><span class="ruby-operator">|</span>
1104:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">vv!</span>=<span class="ruby-keyword kw">nil</span>
1105:         <span class="ruby-identifier">pa1</span>=<span class="ruby-value">0</span>
1106:         <span class="ruby-identifier">pa2</span>=<span class="ruby-value">0</span>
1107:         <span class="ruby-identifier">pa3</span>=<span class="ruby-value">0</span>
1108:         <span class="ruby-identifier">pa4</span>=<span class="ruby-value">0</span>
1109:         <span class="ruby-identifier">p1</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_partytype=1 and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1110:         <span class="ruby-identifier">p2</span> = <span class="ruby-constant">VCaseQuery1List1</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;tb_cases_recevice_code=? and tb_cases_nowdate&gt;=? and tb_cases_nowdate&lt;=? and tb_parties_partytype=2 and tb_parties_area&lt;&gt;''&quot;</span>,<span class="ruby-identifier">vv</span>.<span class="ruby-identifier">tb_cases_recevice_code</span>,<span class="ruby-identifier">d1</span>,<span class="ruby-identifier">d2</span>])
1111:         <span class="ruby-identifier">p_12</span>=<span class="ruby-identifier">p1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">+</span><span class="ruby-identifier">p2</span>.<span class="ruby-identifier">length</span>
1112:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p1!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#申请人是国内的</span>
1113:           <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_1</span><span class="ruby-operator">|</span>
1114:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
1115:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_1</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">==</span><span class="ruby-value str">&quot;001&quot;</span>
1116:                 <span class="ruby-identifier">pa1</span>=<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1117:               <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#申请人是国外的</span>
1118:                 <span class="ruby-identifier">pa3</span>=<span class="ruby-identifier">pa3</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1119:               <span class="ruby-keyword kw">end</span>
1120:             <span class="ruby-keyword kw">end</span>
1121:           <span class="ruby-keyword kw">end</span>
1122:         <span class="ruby-keyword kw">end</span>
1123:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p2!</span>=<span class="ruby-keyword kw">nil</span><span class="ruby-comment cmt">#被申请人是国外的</span>
1124:           <span class="ruby-identifier">p2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p_2</span><span class="ruby-operator">|</span>
1125:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area!</span>=<span class="ruby-keyword kw">nil</span>
1126:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p_2</span>.<span class="ruby-identifier">tb_parties_area</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-value">3</span>)<span class="ruby-operator">!=</span><span class="ruby-value str">&quot;001&quot;</span>
1127:                 <span class="ruby-identifier">pa2</span>=<span class="ruby-identifier">pa2</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1128:               <span class="ruby-keyword kw">else</span><span class="ruby-comment cmt">#被申请人是国内的</span>
1129:                 <span class="ruby-identifier">pa4</span>=<span class="ruby-identifier">pa4</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1130:               <span class="ruby-keyword kw">end</span>
1131:             <span class="ruby-keyword kw">end</span>
1132:           <span class="ruby-keyword kw">end</span>
1133:         <span class="ruby-keyword kw">end</span>
1134:         <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">pa1</span><span class="ruby-operator">+</span><span class="ruby-identifier">pa2</span>)<span class="ruby-operator">==</span><span class="ruby-identifier">p_12</span> <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">pa3</span><span class="ruby-operator">+</span><span class="ruby-identifier">pa4</span>)<span class="ruby-operator">==</span><span class="ruby-identifier">p_12</span>
1135:           <span class="ruby-ivar">@p6</span>=<span class="ruby-ivar">@p6</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
1136:         <span class="ruby-keyword kw">end</span>
1137:       <span class="ruby-keyword kw">end</span>
1138:     <span class="ruby-keyword kw">end</span>
1139:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@p6</span>
1140:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002251" class="method-detail">
        <a name="M002251"></a>

        <div class="method-heading">
          <a href="#M002251" class="method-signature">
          <span class="method-name">get_pn_by_recevice_code</span><span class="method-args">(recevice_code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
当事人地区信息分析
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002251-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002251-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 755</span>
755:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_pn_by_recevice_code</span>(<span class="ruby-identifier">recevice_code</span>)
756:     <span class="ruby-ivar">@pr</span> = <span class="ruby-constant">PartyRegion</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">recevice_code</span>)
757:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@pr</span>
758:       <span class="ruby-ivar">@pr</span> = <span class="ruby-constant">PartyRegion</span>.<span class="ruby-identifier">new</span>()
759:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">recevice_code</span> = <span class="ruby-identifier">recevice_code</span>
760:     <span class="ruby-keyword kw">end</span>
761:     <span class="ruby-ivar">@case</span> = <span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">recevice_code</span>)
762:     <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">state</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">state</span>
763:     <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">nowdate</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">nowdate</span>
764:     <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">agent</span> = <span class="ruby-ivar">@case</span>.<span class="ruby-identifier">agent</span>
765:     <span class="ruby-comment cmt">#至少一方为深圳市</span>
766:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and area='001001001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
767:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r1</span>=<span class="ruby-value">1</span>
768:     <span class="ruby-keyword kw">else</span>
769:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r1</span>=<span class="ruby-value">0</span>
770:     <span class="ruby-keyword kw">end</span>
771:     <span class="ruby-comment cmt">#至少一方为广东其他地区（除深圳市以外）</span>
772:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and area&lt;&gt;'001001001' and left(area,6)='001001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
773:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r2</span>=<span class="ruby-value">1</span>
774:     <span class="ruby-keyword kw">else</span>
775:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r2</span>=<span class="ruby-value">0</span>
776:     <span class="ruby-keyword kw">end</span>
777:     <span class="ruby-comment cmt">#至少一方为香港地区</span>
778:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and area='002'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
779:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r3</span>=<span class="ruby-value">1</span>
780:     <span class="ruby-keyword kw">else</span>
781:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r3</span>=<span class="ruby-value">0</span>
782:     <span class="ruby-keyword kw">end</span>
783:     <span class="ruby-comment cmt">#双方都是广东以外地区</span>
784:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and left(area,6)='001001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
785:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r4</span>=<span class="ruby-value">1</span>
786:     <span class="ruby-keyword kw">else</span>
787:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r4</span>=<span class="ruby-value">0</span>
788:     <span class="ruby-keyword kw">end</span>
789:     <span class="ruby-comment cmt">#双方都是外国</span>
790:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and left(area,3)='001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
791:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r5</span>=<span class="ruby-value">1</span>
792:     <span class="ruby-keyword kw">else</span>
793:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r5</span>=<span class="ruby-value">0</span>
794:     <span class="ruby-keyword kw">end</span>
795:     <span class="ruby-comment cmt">#一方为外地，另一方为外国</span>
796:     <span class="ruby-keyword kw">if</span> (<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and left(area,3)='001' and area &lt;&gt; '001001001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and left(area,3)&lt;&gt;'001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>) <span class="ruby-operator">||</span> (<span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=2 and left(area,3)='001' and area &lt;&gt; '001001001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">count</span>([<span class="ruby-value str">&quot;used='Y' and recevice_code=? and partytype=1 and left(area,3)&lt;&gt;'001'&quot;</span>,<span class="ruby-identifier">recevice_code</span>]) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)
797:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r6</span>=<span class="ruby-value">1</span>
798:     <span class="ruby-keyword kw">else</span>
799:       <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">r6</span>=<span class="ruby-value">0</span>
800:     <span class="ruby-keyword kw">end</span>
801:     <span class="ruby-ivar">@pr</span>.<span class="ruby-identifier">save</span>
802:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002273" class="method-detail">
        <a name="M002273"></a>

        <div class="method-heading">
          <a href="#M002273" class="method-signature">
          <span class="method-name">get_reward_safe</span><span class="method-args">(recevice_code,arbitman)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
仲裁员最低金额控制
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002273-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002273-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1321</span>
1321:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_reward_safe</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">arbitman</span>)
1322:     <span class="ruby-ivar">@case</span>=<span class="ruby-constant">TbCase</span>.<span class="ruby-identifier">find_by_recevice_code</span>(<span class="ruby-identifier">recevice_code</span>)
1323:     <span class="ruby-comment cmt">#所有的简易程序</span>
1324:     <span class="ruby-identifier">jy</span> = [<span class="ruby-value str">&quot;0002&quot;</span>,<span class="ruby-value str">&quot;0004&quot;</span>,<span class="ruby-value str">&quot;0006&quot;</span>,<span class="ruby-value str">&quot;0008&quot;</span>]
1325:     <span class="ruby-comment cmt">#涉外普通</span>
1326:     <span class="ruby-identifier">swpt</span> = [<span class="ruby-value str">&quot;0003&quot;</span>,<span class="ruby-value str">&quot;0007&quot;</span>]
1327:     <span class="ruby-comment cmt">#国内普通</span>
1328:     <span class="ruby-identifier">gnpt</span> = [<span class="ruby-value str">&quot;0001&quot;</span>,<span class="ruby-value str">&quot;0005&quot;</span>]
1329:     <span class="ruby-ivar">@arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find_by_recevice_code_and_arbitman_and_used</span>(<span class="ruby-identifier">recevice_code</span>,<span class="ruby-identifier">arbitman</span>,<span class="ruby-value str">&quot;Y&quot;</span>)
1330:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">jy</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>)
1331:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">arbitmantype</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;0001&quot;</span>
1332:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;6000&quot;</span>
1333:       <span class="ruby-keyword kw">else</span>
1334:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
1335:       <span class="ruby-keyword kw">end</span>
1336:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">swpt</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>)
1337:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">arbitmantype</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;0002&quot;</span>
1338:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">11500</span>
1339:       <span class="ruby-keyword kw">else</span>
1340:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">5500</span>
1341:       <span class="ruby-keyword kw">end</span>
1342:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">gnpt</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@case</span>.<span class="ruby-identifier">aribitprog_num</span>)
1343:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@arbitman</span>.<span class="ruby-identifier">arbitmantype</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;0002&quot;</span>
1344:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">10000</span>
1345:       <span class="ruby-keyword kw">else</span>
1346:         <span class="ruby-keyword kw">return</span> <span class="ruby-value">5000</span>
1347:       <span class="ruby-keyword kw">end</span>  
1348:     <span class="ruby-keyword kw">end</span>
1349:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002250" class="method-detail">
        <a name="M002250"></a>

        <div class="method-heading">
          <a href="#M002250" class="method-signature">
          <span class="method-name">get_sign</span><span class="method-args">(n1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
金额符号
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002250-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002250-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 740</span>
740:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_sign</span>(<span class="ruby-identifier">n1</span>)
741:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0001'</span>
742:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;￥&quot;</span>
743:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0002'</span>
744:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;USD&quot;</span>
745:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0003'</span>
746:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;HKD&quot;</span>
747:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">n1</span><span class="ruby-operator">==</span><span class="ruby-value str">'0005'</span>
748:       <span class="ruby-identifier">m</span> = <span class="ruby-value str">&quot;EUR&quot;</span>
749:     <span class="ruby-keyword kw">else</span>
750:       <span class="ruby-identifier">m</span> = <span class="ruby-constant">Money</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used='Y' and code=?&quot;</span>,<span class="ruby-identifier">n1</span>]).<span class="ruby-identifier">name</span>
751:     <span class="ruby-keyword kw">end</span>
752:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">m</span>
753:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002268" class="method-detail">
        <a name="M002268"></a>

        <div class="method-heading">
          <a href="#M002268" class="method-signature">
          <span class="method-name">get_stime</span><span class="method-args">(time1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
开庭时间
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002268-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1209</span>
1209:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_stime</span>(<span class="ruby-identifier">time1</span>)
1210:     <span class="ruby-identifier">open_time</span>={<span class="ruby-value str">&quot;08:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午八时&quot;</span>,<span class="ruby-value str">&quot;08:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午八时三十分&quot;</span>,<span class="ruby-value str">&quot;09:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午九时&quot;</span>,<span class="ruby-value str">&quot;09:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午九时三十分&quot;</span>,<span class="ruby-value str">&quot;10:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午十时&quot;</span>,<span class="ruby-value str">&quot;10:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午十时三十分&quot;</span>,<span class="ruby-value str">&quot;11:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午十一时&quot;</span>,<span class="ruby-value str">&quot;11:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;上午十一时三十分&quot;</span>,<span class="ruby-value str">&quot;12:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;中午十二时&quot;</span>,
1211:       <span class="ruby-value str">&quot;12:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十二时三十分&quot;</span>,<span class="ruby-value str">&quot;13:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十三时&quot;</span>,<span class="ruby-value str">&quot;13:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十三时三十分&quot;</span>,<span class="ruby-value str">&quot;14:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十四时&quot;</span>,<span class="ruby-value str">&quot;14:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十四时三十分&quot;</span>,<span class="ruby-value str">&quot;15:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十五时&quot;</span>,<span class="ruby-value str">&quot;15:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十五时三十分&quot;</span>,
1212:       <span class="ruby-value str">&quot;16:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十六时&quot;</span>,<span class="ruby-value str">&quot;16:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十六时三十分&quot;</span>,<span class="ruby-value str">&quot;17:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十七时&quot;</span>,<span class="ruby-value str">&quot;17:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十七时三十分&quot;</span>,<span class="ruby-value str">&quot;18:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十八时&quot;</span>,<span class="ruby-value str">&quot;18:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十八时三十分&quot;</span>,
1213:       <span class="ruby-value str">&quot;19:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十九时&quot;</span>,<span class="ruby-value str">&quot;19:30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十九时三十分&quot;</span>,<span class="ruby-value str">&quot;20:00&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十时&quot;</span>}
1214:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">open_time</span>[<span class="ruby-identifier">time1</span>]
1215:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002267" class="method-detail">
        <a name="M002267"></a>

        <div class="method-heading">
          <a href="#M002267" class="method-signature">
          <span class="method-name">get_ymd</span><span class="method-args">(date1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
年 月 日
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002267-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002267-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1201</span>
1201:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">get_ymd</span>(<span class="ruby-identifier">date1</span>)
1202:     <span class="ruby-identifier">arr_date</span> = <span class="ruby-identifier">date1</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;-&quot;</span>)
1203:     <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1204:     <span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1205:     <span class="ruby-identifier">ymd</span>=<span class="ruby-identifier">arr_date</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;年&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">1</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;月&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">arr_date</span>[<span class="ruby-value">2</span>]<span class="ruby-operator">+</span><span class="ruby-value str">&quot;日&quot;</span>
1206:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ymd</span>
1207:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002205" class="method-detail">
        <a name="M002205"></a>

        <div class="method-heading">
          <a href="#M002205" class="method-signature">
          <span class="method-name">lines_per_page</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取默认每页显示记录的条数
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002205-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002205-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">lines_per_page</span>
31:     <span class="ruby-identifier">record</span> = <span class="ruby-identifier">find_by_code</span>(<span class="ruby-value str">'9003'</span>)
32:     (<span class="ruby-identifier">record</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-value">20</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">record</span>.<span class="ruby-identifier">val</span>
33:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002206" class="method-detail">
        <a name="M002206"></a>

        <div class="method-heading">
          <a href="#M002206" class="method-signature">
          <span class="method-name">n_to_c</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002206-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002206-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">v</span>)
36:     <span class="ruby-ivar">@nc</span>={<span class="ruby-value str">&quot;0&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;○&quot;</span>,<span class="ruby-value str">&quot;1&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;一&quot;</span>,<span class="ruby-value str">&quot;2&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二&quot;</span>,<span class="ruby-value str">&quot;3&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;三&quot;</span>,<span class="ruby-value str">&quot;4&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;四&quot;</span>,<span class="ruby-value str">&quot;5&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;五&quot;</span>,<span class="ruby-value str">&quot;6&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;六&quot;</span>,<span class="ruby-value str">&quot;7&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;七&quot;</span>,<span class="ruby-value str">&quot;8&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;八&quot;</span>,<span class="ruby-value str">&quot;9&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;九&quot;</span>,}
37:     <span class="ruby-identifier">v</span>=<span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>
38:     <span class="ruby-identifier">rrr</span>=<span class="ruby-value str">&quot;&quot;</span>
39:     <span class="ruby-identifier">h</span>=<span class="ruby-identifier">v</span>.<span class="ruby-identifier">size</span>
40:     <span class="ruby-identifier">hh</span>=<span class="ruby-value">0</span>
41:     <span class="ruby-keyword kw">while</span> (<span class="ruby-identifier">hh</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">h</span>)
42:       <span class="ruby-identifier">rrr</span>=<span class="ruby-identifier">rrr</span><span class="ruby-operator">+</span><span class="ruby-ivar">@nc</span>[<span class="ruby-identifier">v</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">hh</span>,<span class="ruby-value">1</span>)]
43:       <span class="ruby-identifier">hh</span>=<span class="ruby-identifier">hh</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
44:     <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>
46:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002207" class="method-detail">
        <a name="M002207"></a>

        <div class="method-heading">
          <a href="#M002207" class="method-signature">
          <span class="method-name">n_to_md</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
将阿拉伯数字转换成汉字
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002207-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002207-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">n_to_md</span>(<span class="ruby-identifier">v</span>)
49:     <span class="ruby-ivar">@nc</span>={<span class="ruby-value str">&quot;1&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;一&quot;</span>,<span class="ruby-value str">&quot;2&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二&quot;</span>,<span class="ruby-value str">&quot;3&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;三&quot;</span>,<span class="ruby-value str">&quot;4&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;四&quot;</span>,<span class="ruby-value str">&quot;5&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;五&quot;</span>,<span class="ruby-value str">&quot;6&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;六&quot;</span>,<span class="ruby-value str">&quot;7&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;七&quot;</span>,<span class="ruby-value str">&quot;8&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;八&quot;</span>,<span class="ruby-value str">&quot;9&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;九&quot;</span>,<span class="ruby-value str">&quot;10&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十&quot;</span>,
50:       <span class="ruby-value str">&quot;11&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十一&quot;</span>,<span class="ruby-value str">&quot;12&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十二&quot;</span>,<span class="ruby-value str">&quot;13&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十三&quot;</span>,<span class="ruby-value str">&quot;14&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十四&quot;</span>,<span class="ruby-value str">&quot;15&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十五&quot;</span>,<span class="ruby-value str">&quot;16&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十六&quot;</span>,<span class="ruby-value str">&quot;17&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十七&quot;</span>,<span class="ruby-value str">&quot;18&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十八&quot;</span>,<span class="ruby-value str">&quot;19&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;十九&quot;</span>,<span class="ruby-value str">&quot;20&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十&quot;</span>,
51:       <span class="ruby-value str">&quot;21&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十一&quot;</span>,<span class="ruby-value str">&quot;22&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十二&quot;</span>,<span class="ruby-value str">&quot;23&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十三&quot;</span>,<span class="ruby-value str">&quot;24&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十四&quot;</span>,<span class="ruby-value str">&quot;25&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十五&quot;</span>,<span class="ruby-value str">&quot;26&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十六&quot;</span>,<span class="ruby-value str">&quot;27&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十七&quot;</span>,<span class="ruby-value str">&quot;28&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十八&quot;</span>,<span class="ruby-value str">&quot;29&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;二十九&quot;</span>,<span class="ruby-value str">&quot;30&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;三十&quot;</span>,<span class="ruby-value str">&quot;31&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;三十一&quot;</span>}
52:     <span class="ruby-identifier">v</span>=<span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>
53:     <span class="ruby-identifier">rrr</span>=<span class="ruby-ivar">@nc</span>[<span class="ruby-identifier">v</span>]
54:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>
55:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002272" class="method-detail">
        <a name="M002272"></a>

        <div class="method-heading">
          <a href="#M002272" class="method-signature">
          <span class="method-name">num2chinese</span><span class="method-args">(num)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002272-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002272-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1254</span>
1254:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">num2chinese</span>(<span class="ruby-identifier">num</span>)
1255:     <span class="ruby-identifier">chinese_numa_arr</span> = [<span class="ruby-value str">'零'</span>,<span class="ruby-value str">'壹'</span>,<span class="ruby-value str">'贰'</span>,<span class="ruby-value str">'叁'</span>,<span class="ruby-value str">'肆'</span>,<span class="ruby-value str">'伍'</span>,<span class="ruby-value str">'陆'</span>,<span class="ruby-value str">'柒'</span>,<span class="ruby-value str">'捌'</span>,<span class="ruby-value str">'玖'</span>]
1256:     <span class="ruby-identifier">chinese_pos_arr</span> = [<span class="ruby-value str">'万'</span>,<span class="ruby-value str">'仟'</span>,<span class="ruby-value str">'佰'</span>,<span class="ruby-value str">'拾'</span>,<span class="ruby-value str">'亿'</span>,<span class="ruby-value str">'仟'</span>,<span class="ruby-value str">'佰'</span>,<span class="ruby-value str">'拾'</span>,<span class="ruby-value str">'万'</span>,<span class="ruby-value str">'仟'</span>,<span class="ruby-value str">'佰'</span>,<span class="ruby-value str">'拾'</span>,<span class="ruby-value str">'元'</span>,<span class="ruby-value str">'角'</span>,<span class="ruby-value str">'分'</span>]
1257:     <span class="ruby-identifier">chinese_num</span> = <span class="ruby-value str">''</span>
1258:     <span class="ruby-identifier">chinese_pos</span> = <span class="ruby-value str">''</span>
1259:     <span class="ruby-identifier">str_chinese</span> = <span class="ruby-value str">''</span>
1260:     <span class="ruby-identifier">nzero</span> = <span class="ruby-value">0</span>
1261:     <span class="ruby-identifier">str_num</span> = (<span class="ruby-identifier">num</span><span class="ruby-operator">*</span><span class="ruby-value">100</span>).<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span>
1262:     <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
1263:     <span class="ruby-identifier">length</span>=<span class="ruby-identifier">str_num</span>.<span class="ruby-identifier">length</span>
1264:     <span class="ruby-identifier">pos_value</span> = <span class="ruby-value">0</span>
1265:     <span class="ruby-identifier">pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-identifier">length</span>
1266:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">i</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">length</span>
1267:       <span class="ruby-identifier">pos_value</span>=<span class="ruby-identifier">str_num</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">chr</span>.<span class="ruby-identifier">to_i</span>
1268: 
1269:       <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">i!</span>=(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">i!</span>=(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">7</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">i!</span>=(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">11</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">i!</span>=(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">15</span>))
1270:         <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">pos_value</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>)
1271:           <span class="ruby-identifier">chinese_num</span>=<span class="ruby-value str">''</span>
1272:           <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-value str">''</span>
1273:           <span class="ruby-identifier">nzero</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
1274:         <span class="ruby-keyword kw">else</span>
1275:           <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">nzero!</span>=<span class="ruby-value">0</span>)
1276:             <span class="ruby-identifier">chinese_num</span>=<span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-identifier">pos_value</span>]
1277:             <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1278:             <span class="ruby-identifier">nzero</span>=<span class="ruby-value">0</span>
1279:           <span class="ruby-keyword kw">else</span>
1280:             <span class="ruby-identifier">chinese_num</span>=<span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-identifier">pos_value</span>]
1281:             <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1282:             <span class="ruby-identifier">nzero</span>=<span class="ruby-value">0</span>
1283:           <span class="ruby-keyword kw">end</span>
1284:         <span class="ruby-keyword kw">end</span>
1285:       <span class="ruby-keyword kw">else</span>
1286:         <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">pos_value!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">nzero!</span>=<span class="ruby-value">0</span>)
1287:           <span class="ruby-identifier">chinese_num</span>=<span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-identifier">pos_value</span>]
1288:           <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1289:           <span class="ruby-identifier">nzero</span>=<span class="ruby-value">0</span>
1290:         <span class="ruby-keyword kw">else</span>
1291:           <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">pos_value!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">nzero</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>)
1292:             <span class="ruby-identifier">chinese_num</span>=<span class="ruby-identifier">chinese_numa_arr</span>[<span class="ruby-identifier">pos_value</span>]
1293:             <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1294:             <span class="ruby-identifier">nzero</span>=<span class="ruby-value">0</span>
1295:           <span class="ruby-keyword kw">else</span>
1296:             <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">11</span>)
1297:               <span class="ruby-identifier">chinese_num</span>=<span class="ruby-value str">''</span>
1298:               <span class="ruby-identifier">nzero</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
1299:             <span class="ruby-keyword kw">else</span>
1300:               <span class="ruby-identifier">chinese_num</span>=<span class="ruby-value str">''</span>
1301:               <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1302:               <span class="ruby-identifier">nzero</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
1303:             <span class="ruby-keyword kw">end</span>
1304:           <span class="ruby-keyword kw">end</span>
1305:         <span class="ruby-keyword kw">end</span>
1306:       <span class="ruby-keyword kw">end</span>
1307:       <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">==</span>(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">11</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span>(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">3</span>))
1308:         <span class="ruby-identifier">chinese_pos</span>=<span class="ruby-identifier">chinese_pos_arr</span>[<span class="ruby-identifier">pos</span><span class="ruby-operator">+</span><span class="ruby-identifier">i</span>]
1309:       <span class="ruby-keyword kw">end</span>
1310:       <span class="ruby-identifier">str_chinese</span>=<span class="ruby-identifier">str_chinese</span><span class="ruby-operator">+</span><span class="ruby-identifier">chinese_num</span><span class="ruby-operator">+</span><span class="ruby-identifier">chinese_pos</span>
1311:       <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">==</span>(<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pos_value</span><span class="ruby-operator">==</span><span class="ruby-value">0</span>)
1312:         <span class="ruby-identifier">str_chinese</span>=<span class="ruby-identifier">str_chinese</span><span class="ruby-operator">+</span><span class="ruby-value str">'整'</span>
1313:       <span class="ruby-keyword kw">end</span>
1314:       <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
1315:     <span class="ruby-keyword kw">end</span>
1316: 
1317:     <span class="ruby-identifier">str_chinese</span>
1318:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002229" class="method-detail">
        <a name="M002229"></a>

        <div class="method-heading">
          <a href="#M002229" class="method-signature">
          <span class="method-name">reduce_0006</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
报酬发放编号下降
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002229-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002229-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 392</span>
392:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">reduce_0006</span>
393:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
394:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-value str">&quot;0006&quot;</span>)
395:     <span class="ruby-identifier">extend_code</span>=<span class="ruby-constant">TbTExtendCode</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;used='Y'&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;t_extend_code desc&quot;</span>)
396:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extend_code</span>
397:       <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">extend_code</span>.<span class="ruby-identifier">t_extend_code</span>
398:     <span class="ruby-keyword kw">else</span>
399:       <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-value str">&quot;199710001&quot;</span>
400:     <span class="ruby-keyword kw">end</span>
401:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
402:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002230" class="method-detail">
        <a name="M002230"></a>

        <div class="method-heading">
          <a href="#M002230" class="method-signature">
          <span class="method-name">reduce_0006_1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
员工报酬发放编号下降
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002230-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002230-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 405</span>
405:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">reduce_0006_1</span>
406:     <span class="ruby-identifier">r</span>=<span class="ruby-value str">&quot;&quot;</span>
407:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-value str">&quot;0006_1&quot;</span>)
408:     <span class="ruby-identifier">extend_code</span>=<span class="ruby-constant">TbSelfTExtendCode</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;used='Y'&quot;</span>,<span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;t_extend_code desc&quot;</span>)
409:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extend_code</span>
410:       <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">extend_code</span>.<span class="ruby-identifier">t_extend_code</span>
411:     <span class="ruby-keyword kw">else</span>
412:       <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-value str">&quot;199710001&quot;</span>
413:     <span class="ruby-keyword kw">end</span>
414:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
415:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002204" class="method-detail">
        <a name="M002204"></a>

        <div class="method-heading">
          <a href="#M002204" class="method-signature">
          <span class="method-name">remind_runtime_from_now</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
计算从上次运行提醒服务到现在的秒数，并返回。登录页面使用。
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002204-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002204-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remind_runtime_from_now</span>
23:     <span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,
24:       <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;unix_timestamp(now())-unix_timestamp(val) as n&quot;</span>,
25:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;code='2001'&quot;</span>
26:     ).<span class="ruby-identifier">n</span>.<span class="ruby-identifier">to_i</span>
27:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002244" class="method-detail">
        <a name="M002244"></a>

        <div class="method-heading">
          <a href="#M002244" class="method-signature">
          <span class="method-name">respondent</span><span class="method-args">(code,v1,v3)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002244-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002244-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 631</span>
631:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respondent</span>(<span class="ruby-identifier">code</span>,<span class="ruby-identifier">v1</span>,<span class="ruby-identifier">v3</span>)
632:     <span class="ruby-ivar">@respondents</span> = <span class="ruby-constant">TbParty</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and partytype = 2 and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>], <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;id&quot;</span>)
633:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondents</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
634:       <span class="ruby-ivar">@respondent1</span> = <span class="ruby-value str">&quot;&quot;</span>
635:     <span class="ruby-keyword kw">else</span>
636:       <span class="ruby-ivar">@respondent1</span> = <span class="ruby-value str">&quot;&quot;</span>
637:       <span class="ruby-identifier">i</span> = <span class="ruby-value">1</span>
638:       <span class="ruby-ivar">@last3</span> = <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">length</span>
639:       <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">applicant</span><span class="ruby-operator">|</span>
640:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondents</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>
641:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
642:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span><span class="ruby-operator">==</span><span class="ruby-ivar">@last3</span>
643:               <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;  &quot;</span>
644:             <span class="ruby-keyword kw">else</span>
645:               <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;、&quot;</span>
646:             <span class="ruby-keyword kw">end</span>
647:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v1</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
648:             <span class="ruby-ivar">@respondent1</span> = <span class="ruby-ivar">@respondent1</span> <span class="ruby-operator">+</span><span class="ruby-value str">&quot;第&quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">SysArg</span>.<span class="ruby-identifier">n_to_c</span>(<span class="ruby-identifier">i</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span> <span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'\r'</span>
649:           <span class="ruby-keyword kw">end</span>
650:         <span class="ruby-keyword kw">else</span>
651:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
652:             <span class="ruby-ivar">@respondent1</span>=<span class="ruby-value str">&quot;被申请人：&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
653:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v3</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
654:             <span class="ruby-ivar">@respondent1</span>=<span class="ruby-identifier">applicant</span>.<span class="ruby-identifier">partyname</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>
655:           <span class="ruby-keyword kw">end</span>
656:         <span class="ruby-keyword kw">end</span>
657:         <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
658:       <span class="ruby-keyword kw">end</span>    <span class="ruby-comment cmt">#  去掉最后的逗号 和 换行号</span>
659:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondent1!</span>=<span class="ruby-value str">&quot;&quot;</span>
660:         <span class="ruby-ivar">@respondent1</span>=<span class="ruby-ivar">@respondent1</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>,<span class="ruby-ivar">@respondent1</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-value">2</span>)
661:       <span class="ruby-keyword kw">end</span>
662:     <span class="ruby-keyword kw">end</span>
663:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@respondent1</span>
664:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002271" class="method-detail">
        <a name="M002271"></a>

        <div class="method-heading">
          <a href="#M002271" class="method-signature">
          <span class="method-name">round2f</span><span class="method-args">(flo)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
用于金额计算，四舍五入并保留两位小数
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002271-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002271-source">
<pre>
      <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 1249</span>
1249:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">round2f</span>(<span class="ruby-identifier">flo</span>)
1250:     <span class="ruby-identifier">flo</span> = <span class="ruby-identifier">flo</span>.<span class="ruby-identifier">to_f</span>
1251:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%.2f&quot;</span>,(<span class="ruby-identifier">flo</span><span class="ruby-operator">*</span><span class="ruby-value">100</span>).<span class="ruby-identifier">round</span><span class="ruby-operator">/</span><span class="ruby-value">100.00</span>)
1252:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002208" class="method-detail">
        <a name="M002208"></a>

        <div class="method-heading">
          <a href="#M002208" class="method-signature">
          <span class="method-name">round_0</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002208-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002208-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">round_0</span>(<span class="ruby-identifier">v</span>)
57:     <span class="ruby-identifier">rrr</span>=<span class="ruby-identifier">v</span>
58:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>.<span class="ruby-identifier">round</span>
59:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002209" class="method-detail">
        <a name="M002209"></a>

        <div class="method-heading">
          <a href="#M002209" class="method-signature">
          <span class="method-name">round_2</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002209-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002209-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 60</span>
60:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">round_2</span>(<span class="ruby-identifier">v</span>)
61:     <span class="ruby-identifier">r</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>
62:     <span class="ruby-identifier">rrr</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>
63:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-value">100</span>
64:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002210" class="method-detail">
        <a name="M002210"></a>

        <div class="method-heading">
          <a href="#M002210" class="method-signature">
          <span class="method-name">round_3</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002210-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002210-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 65</span>
65:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">round_3</span>(<span class="ruby-identifier">v</span>)
66:     <span class="ruby-identifier">r</span> = <span class="ruby-identifier">v</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>
67:     <span class="ruby-identifier">rrr</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>
68:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rrr</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-value">1000</span>
69:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002222" class="method-detail">
        <a name="M002222"></a>

        <div class="method-heading">
          <a href="#M002222" class="method-signature">
          <span class="method-name">set_0004</span><span class="method-args">(v)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002222-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002222-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 282</span>
282:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_0004</span>(<span class="ruby-identifier">v</span>)
283:     <span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;code='0004'&quot;</span>)
284:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">val</span>=<span class="ruby-identifier">v</span>
285:     <span class="ruby-identifier">s</span>.<span class="ruby-identifier">save</span>
286:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M002246" class="method-detail">
        <a name="M002246"></a>

        <div class="method-heading">
          <a href="#M002246" class="method-signature">
          <span class="method-name">applicant_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件申请人仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002246-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002246-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 682</span>
682:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applicant_arbitrator</span>(<span class="ruby-identifier">code</span>)
683:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0003'&quot;</span>,<span class="ruby-identifier">code</span>])
684:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
685:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
686:       <span class="ruby-identifier">applicant_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
687:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">applicant_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
688:         <span class="ruby-identifier">applicant_arbitrator3</span> = <span class="ruby-identifier">applicant_arbitrator</span>.<span class="ruby-identifier">name</span>
689:       <span class="ruby-keyword kw">else</span>
690:         <span class="ruby-identifier">applicant_arbitrator3</span> = <span class="ruby-value str">&quot;&quot;</span>
691:       <span class="ruby-keyword kw">end</span>
692:     <span class="ruby-keyword kw">else</span>
693:       <span class="ruby-identifier">applicant_arbitrator3</span> = <span class="ruby-value str">&quot;&quot;</span>
694:     <span class="ruby-keyword kw">end</span>
695:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">applicant_arbitrator3</span>
696:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002201" class="method-detail">
        <a name="M002201"></a>

        <div class="method-heading">
          <a href="#M002201" class="method-signature">
          <span class="method-name">before_create</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002201-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002201-source">
<pre>
   <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 3</span>
3:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_create</span>
4:     <span class="ruby-identifier">suppress</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>) <span class="ruby-keyword kw">do</span>
5:       <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-value str">'SET NAMES utf8'</span>
6:     <span class="ruby-keyword kw">end</span>
7:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002202" class="method-detail">
        <a name="M002202"></a>

        <div class="method-heading">
          <a href="#M002202" class="method-signature">
          <span class="method-name">before_save</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002202-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002202-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_save</span>
10:     <span class="ruby-identifier">suppress</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>) <span class="ruby-keyword kw">do</span>
11:       <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-value str">'SET NAMES utf8'</span>
12:     <span class="ruby-keyword kw">end</span>
13:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002203" class="method-detail">
        <a name="M002203"></a>

        <div class="method-heading">
          <a href="#M002203" class="method-signature">
          <span class="method-name">before_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002203-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002203-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_update</span>
16:     <span class="ruby-identifier">suppress</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>) <span class="ruby-keyword kw">do</span>
17:       <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-value str">'SET NAMES utf8'</span>
18:     <span class="ruby-keyword kw">end</span>
19:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002245" class="method-detail">
        <a name="M002245"></a>

        <div class="method-heading">
          <a href="#M002245" class="method-signature">
          <span class="method-name">chief_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件首席仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002245-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002245-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 666</span>
666:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">chief_arbitrator</span>(<span class="ruby-identifier">code</span>)
667:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0002'&quot;</span>,<span class="ruby-identifier">code</span>])
668:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
669:       <span class="ruby-ivar">@chief_a</span>= <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>])
670:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@chief_a</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
671:         <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-ivar">@chief_a</span>.<span class="ruby-identifier">name</span>
672:       <span class="ruby-keyword kw">else</span>
673:         <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-value str">&quot;&quot;</span>
674:       <span class="ruby-keyword kw">end</span>
675:     <span class="ruby-keyword kw">else</span>
676:       <span class="ruby-ivar">@c_arbit</span> = <span class="ruby-value str">&quot;&quot;</span>
677:     <span class="ruby-keyword kw">end</span>
678:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@c_arbit</span>
679:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002248" class="method-detail">
        <a name="M002248"></a>

        <div class="method-heading">
          <a href="#M002248" class="method-signature">
          <span class="method-name">get_ar</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
1人仲裁庭变3人仲裁庭，3人变1人；则查明是否有仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002248-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002248-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 714</span>
714:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_ar</span>(<span class="ruby-identifier">code</span>)
715:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ?&quot;</span>,<span class="ruby-identifier">code</span>])
716:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
717:       <span class="ruby-identifier">ar</span> = <span class="ruby-value str">&quot;有仲裁员&quot;</span> <span class="ruby-comment cmt">#随意显示的字符串，用于判断</span>
718:     <span class="ruby-keyword kw">else</span>
719:       <span class="ruby-identifier">ar</span> = <span class="ruby-value str">&quot;&quot;</span>
720:     <span class="ruby-keyword kw">end</span>
721:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ar</span>
722:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002249" class="method-detail">
        <a name="M002249"></a>

        <div class="method-heading">
          <a href="#M002249" class="method-signature">
          <span class="method-name">independent_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件独立仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002249-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002249-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 724</span>
724:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">independent_arbitrator</span>(<span class="ruby-identifier">code</span>)
725:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0001'&quot;</span>,<span class="ruby-identifier">code</span>])
726:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
727:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
728:       <span class="ruby-identifier">independent_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
729:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">independent_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
730:         <span class="ruby-identifier">independent_arbitrator1</span> = <span class="ruby-identifier">independent_arbitrator</span>.<span class="ruby-identifier">name</span>
731:       <span class="ruby-keyword kw">else</span>
732:         <span class="ruby-identifier">independent_arbitrator1</span> = <span class="ruby-value str">&quot;&quot;</span>
733:       <span class="ruby-keyword kw">end</span>
734:     <span class="ruby-keyword kw">else</span>
735:       <span class="ruby-identifier">independent_arbitrator1</span> = <span class="ruby-value str">&quot;&quot;</span>
736:     <span class="ruby-keyword kw">end</span>
737:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">independent_arbitrator1</span>
738:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M002247" class="method-detail">
        <a name="M002247"></a>

        <div class="method-heading">
          <a href="#M002247" class="method-signature">
          <span class="method-name">respondent_arbitrator</span><span class="method-args">(code)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
获取案件被申请人仲裁员
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M002247-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M002247-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/sys_arg.rb, line 698</span>
698:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respondent_arbitrator</span>(<span class="ruby-identifier">code</span>)
699:     <span class="ruby-ivar">@case_arbitman</span> = <span class="ruby-constant">TbCasearbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;used = 'Y' and recevice_code = ? and arbitmantype = '0004'&quot;</span>,<span class="ruby-identifier">code</span>])
700:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@case_arbitman</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
701:       <span class="ruby-identifier">arbitman_code</span> = <span class="ruby-ivar">@case_arbitman</span>.<span class="ruby-identifier">arbitman</span>
702:       <span class="ruby-ivar">@respondent_arbitrator</span> = <span class="ruby-constant">TbArbitman</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:first</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;used = 'Y' and code = ? &quot;</span>,<span class="ruby-identifier">arbitman_code</span>])
703:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@respondent_arbitrator</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
704:         <span class="ruby-identifier">respondent_arbitrator1</span> = <span class="ruby-ivar">@respondent_arbitrator</span>.<span class="ruby-identifier">name</span>
705:       <span class="ruby-keyword kw">else</span>
706:         <span class="ruby-identifier">respondent_arbitrator1</span> = <span class="ruby-value str">&quot;&quot;</span>
707:       <span class="ruby-keyword kw">end</span>
708:     <span class="ruby-keyword kw">else</span>
709:       <span class="ruby-identifier">respondent_arbitrator1</span> = <span class="ruby-value str">&quot;&quot;</span>
710:     <span class="ruby-keyword kw">end</span>
711:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">respondent_arbitrator1</span>
712:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>